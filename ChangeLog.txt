2010-01-14	terpstra
	* src/perf_events.c 1.18:
		More tweaks from Corey for event rescheduling problem.
		Also a syntax fix for POWER platforms.

2010-01-13	sbk
	* src/configure.in 1.166:
		
		Enable the static perf events static table to be created and compiled in
		again for Cray XT CLE.

2010-01-13	terpstra
	* release_procedure.txt 1.13:
		Bump the date.

	* src/papi_internal.c 1.138:
		Fix for rescheduling events after a failed add. This addresses the NULL pointer issue found in overflow_allcounters on i7.
		Thanks to Corey Ashford of IBM for the fix.

	* papi.spec 1.4:
		Final changes from Will Cohen.

	* src/libpfm-3.y/config.mk 1.3:
	* src/libpfm-3.y/examples_v2.x/self_smpl_multi.c 1.3:
	* src/libpfm-3.y/examples_v2.x/syst.c 1.3:
	* src/libpfm-3.y/examples_v2.x/syst_multi_np.c 1.3:
	* src/libpfm-3.y/examples_v2.x/syst_np.c 1.3:
	* src/libpfm-3.y/lib/pfmlib_coreduo.c 1.3:
	* src/libpfm-3.y/lib/power7_events.h 1.3:
		*** empty log message ***

	* src/utils/event_info.c 1.11:
		Change test for version number to differentiate between PAPI-C 
		and Classic PAPI. We were testing for versions >=3 && >= .9. 
		This was missing versions >= 4.

	* src/libpfm-3.y/include/perfmon/pfmlib_gen_mips64.h 1.1.1.4:
	* src/libpfm-3.y/lib/intel_atom_events.h 1.1.1.5:
	* src/libpfm-3.y/lib/intel_corei7_events.h 1.1.1.5:
	* src/libpfm-3.y/lib/pfmlib_gen_mips64.c 1.1.1.6:
	* src/libpfm-3.y/lib/pfmlib_intel_nhm.c 1.1.1.9:
		Importing latest libpfm

	* src/Makefile.in 1.44:
	* src/papi.h 1.193:
		Update version numbers for impending release of PAPI 4.0.0.

2010-01-13	jagode
	* src/Makefile.inc 1.152:
		Avoid printing conditional 'if' statements while compiling (but 
		they are performed).

	* src/perf_events.h 1.7:
		Seg fault on i7 with perf_events. This was fixed a while ago for 
		perfmon and perfctr but perf-events was left behind.

2010-01-13	bsheely
	* src/configure 1.165:
		Generated configure to correspond to ost recent change (Cray XT) 
		to configure.in

2010-01-12	terpstra
	* src/linux-bgp.c 1.3:
		Restore prior native naming convention: PNE_BGP_...
		Needed to avoid conflict with system level naming conventions.

	* src/ctests/bgp/Makefile 1.3:
		Modifications to build test files for BGP.

	* INSTALL.txt 1.42:
		Update description for BGP.

2010-01-08	terpstra
	* src/Rules.perfctr-pfm 1.47:
	* src/Rules.pfm_pe 1.10:
		Eliminate duplicate definitions of environment variable for the compile line.
		These are now defined in configure.

	* src/ctests/test_utils.c 1.77:
		Minor tweak to print native event codes in hex instead of 
		decimal -- far more useful that way.

	* src/perfctr-p4.c 1.106:
		Minor tweak to get this file to compile with DEBUG turned on.

2010-01-07	sbk
	* src/Rules.pfm 1.50:
		The libpfm flag CONFIG_PFMLIB_OLD_PFMV2 was correctly set for when compiling
		and building libpfm, but it also needs to be set for installing also. The
		header file libpfm-3.y/include/perfmon/perfmon.h uses this flag to
		determine if a macro is prepended to perfmon.h when installing it.

2010-01-07	jagode
	* src/linux-acpi.c 1.16:
	* src/linux-mx.c 1.15:
	* src/linux-net.c 1.4:
		Renamed identifier 'native_name' for net, mx, and acpi 
		components because of conflicts on POWER machines. This variable 
		has also been defined in powerX_events.h.

2010-01-07	bsheely
	* src/Rules.perfctr 1.57:
		Added DEBUGFLAGS to OPTFLAGS since only OPTFLAGS gets used in 
		Makefile.inc

2010-01-05	terpstra
	* src/multiplex.c 1.76:
		Modified license language for John May's LLNL portion of this code to conform with BSD as provided by LLNL.
		Thanks, Bronis, for bird-dogging this.

2009-12-20	terpstra
	* src/solaris-niagara2.c 1.4:
		Changes to fix overflow/profile issues in niagara2.
		Thanks to Fabian Gorsler.

2009-12-18	terpstra
	* src/ctests/bgp/papi_1.c 1.2:
	* src/ctests/native.c 1.61:
	* src/ctests/papi_test.h 1.37:
	* src/extras.c 1.159:
	* src/linux-bgp-memory.c 1.2:
	* src/linux-bgp-native-events.h 1.2:
	* src/linux-bgp-preset-events.c 1.2:
	* src/linux-bgp.h 1.2:
	* src/papi.c 1.337:
	* src/papiStdEventDefs.h 1.38:
	* src/papi_data.c 1.35:
	* src/papi_internal.h 1.181:
	* src/papi_preset.h 1.17:
	* src/papi_protos.h 1.69:
	* src/papi_vector.c 1.22:
		Committing changes for BG/P.
		Utilities and basic counting works;
		Not fully tested.

2009-12-16	terpstra
	* LICENSE.txt 1.6:
		Minor tweaks on the header of the license text.

	* src/solaris-niagara2-memory.c 1.3:
	* src/solaris-niagara2.h 1.3:
		Commit initial changes for Niagara2 support for PAPI-C.
		Thanks to Fabian Gorsler.
		Basic counting works; some unresolved issues remain for overflow and profile.

2009-12-11	terpstra
	* src/papi_events.csv 1.3:
		Add a synonym for Pentium M.

2009-12-08	bsheely
	* src/linux.c 1.69:
		Fixed memory issue seen in testing on certain platforms

2009-12-05	terpstra
	* ChangeLogP372.txt 1.1:
		file ChangeLogP372.txt was initially added on branch papi-3-7-0.

2009-12-02	terpstra
	* src/sys_perf_counter_open.c 1.10:
	* src/syscalls.h 1.4:
		Slightly cleaner syntax for redefinition of perf_event_attr in 
		KERNEL31.

2009-12-01	terpstra
	* src/ctests/sdsc4.c 1.14:
		Fix from Will Cohen to avoid round-off errors in computing small 
		differences between large numbers, which occasionally resulted 
		in sqrt of negative numbers. Originally applied to sdsc2; 
		modified and applied to sdsc2.

2009-11-30	terpstra
	* src/x86_cache_info.c 1.7:
		Strip the Windows version of cpuid out to make this version 
		compatible with the 3.7.x branch.

	* src/ctests/sdsc2.c 1.13:
		Fix from Will Cohen to avoid round-off errors in computing small differences between large numbers, which occasionally resulted in sqrt of negative numbers.
		Thanks Will

2009-11-25	terpstra
	* src/papi_hl.c 1.77:
		PAPI_stop_counters was returning PAPI_OK even if PAPI_stop 
		returned something other than PAPI_OK. Uncovered as part of the 
		BG/P merge.

2009-11-25	bsheely
	* src/hwinfo_linux.c 1.2:
		added test for topology/thread_siblings and topology/
		core_siblings

2009-11-24	terpstra
	* src/papi_vector.h 1.10:
		Fix a bug in assigning signals for overflow.
		
		Also expose a vector_find_dummy routine to allow testing for component functions. If the function pointer is a dummy, it isn't implemented in the component.
		This is used in extras to test for the implementation of a name_to_code routine.

2009-11-24	bsheely
	* src/ctests/hwinfo.c 1.7:
		Removed invalid code (zero can be a valid value for nnodes)

2009-11-23	bsheely
	* src/solaris-ultra.c 1.125:
		resolved compile error

	* src/run_tests.sh 1.37:
	* src/run_valgrind_tests.sh 1.2:
		valgrind code merged into run_tests.sh and commented out by 
		default

2009-11-20	bsheely
	* src/genpapifdef.c 1.41:
	* src/papi_events.xml 1.3:
	* src/papi_fwrappers.c 1.81:
		Applied patch from Steve Kaufmann at Cray. Removes the remaining 
		Unicos, Catamount, T3E, X1 and X2 references. Only explicit 
		support for XT4+/CLE remains.

2009-11-18	mucci
	* src/any-null.c 1.52:
	* src/linux-bgl.c 1.9:
	* src/perfmon.c 1.97:
	* src/windows.c 1.4:
		Renamed shutdown_global to shutdown_substrate to make it more obvious that
		this is per substrate. This callback will be important for freeing some memory
		up and making sure locks are reset. Looks like a big patch, but only a few lines.

	* src/config.h.in 1.9:
		Add support for detecting gettid and syscall(gettid) which results in
		HAVE_GETTID and HAVE_SYSCALL_GETTID being defined in config.h
		
		This will be useful for Linux where we can remove all the special casing
		for threads and locking and the errors with getpid. gettid all the time.

	* src/papi_lock.h 1.1:
		Beginnings of a single function with all PAPI/Linux locking functions.
		
		Note to PAPI-C developers. The multiple context concept of PAPI-C has failed
		to include the lock data structure. PAPI currently only has one scope of
		locks that span the high-level to the low-level. This will need to be revisited
		and the locks split into high-level and per-context locks.

2009-11-13	terpstra
	* ChangeLogP371.txt 1.1:
		file ChangeLogP371.txt was initially added on branch papi-3-7-0.

2009-11-12	bsheely
	* src/papi_events_table.sh 1.1:
	* src/papi_pfm_events.c 1.35:
	* src/papi_pfm_events.h 1.4:
	* src/perfmon_events.csv 1.57:
	* src/perfmon_events_table.sh 1.6:
	* src/pmapi-ppc64_events.c 1.8:
	* src/ppc64_events.h 1.10:
		renamed perfmon_events.csv perfmon_events_table.h 
		perfmon_events_table.sh to papi_events.csv papi_events_table.h 
		papi_events_table.sh and made code changes required by the 
		renaming

2009-11-11	terpstra
	* src/ctests/first.c 1.49:
		Fix overly restrictive verification of results. In verifying 
		that FP_INS/FP_OPS/TOT_INS was non-zero, we were requiring it to 
		be near theoretical FP_OPS which caused false verification 
		failures in some edge cases. Now we just require count >= 
		iterations.

2009-11-11	bsheely
	* src/ctests/inherit.c 1.13:
	* src/ctests/multiplex1_pthreads.c 1.49:
	* src/ctests/overflow.c 1.66:
	* src/ctests/overflow2.c 1.25:
	* src/ctests/overflow3_pthreads.c 1.21:
	* src/ctests/overflow_allcounters.c 1.5:
	* src/ctests/overflow_force_software.c 1.24:
	* src/ctests/overflow_index.c 1.9:
	* src/ctests/overflow_one_and_read.c 1.5:
	* src/ctests/overflow_single_event.c 1.45:
	* src/ctests/overflow_twoevents.c 1.26:
	* src/ctests/pthrtough2.c 1.7:
	* src/ctests/zero_shmem.c 1.6:
	* src/ftests/cost.F 1.18:
	* src/ftests/fmultiplex1.F 1.37:
	* src/ftests/ftests_util.F 1.49:
	* src/ftests/native.F 1.55:
	* src/perfmon.h 1.20:
		removed code for obsolete cray builds

	* src/ctests/do_loops.c 1.32:
	* src/ctests/zero_fork.c 1.9:
	* src/linux-memory.c 1.41:
	* src/linux.h 1.3:
	* src/perfctr-p3.c 1.91:
	* src/perfctr-p3.h 1.50:
	* src/run_cat_tests.sh 1.4:
		removed Catamount code

2009-11-09	bsheely
	* src/linux-ia64-memory.c 1.23:
	* src/linux-ia64.c 1.176:
		created hwinfo_linux.c to encapsulate code to set _papi_hw_info 
		struct on Linux platforms

	* src/unicosmp-memory.c 1.4:
		removed obsolete file

2009-11-06	terpstra
	* src/libpfm-3.y/examples_v2.x/x86/smpl_nhm_lbr.c 1.1.1.2:
		libpfm nhm and atom fixes

2009-11-05	bsheely
	* src/alpha-memory.c 1.11:
	* src/ckcatamount.c 1.3:
	* src/dadd-alpha.c 1.43:
	* src/dadd-alpha.h 1.14:
	* src/irix-memory.c 1.20:
	* src/irix-mips.c 1.116:
	* src/irix-mips.h 1.34:
	* src/irix.c 1.2:
	* src/irix.h 1.3:
	* src/linux-alpha.c 1.24:
	* src/linux-alpha.h 1.9:
	* src/power3.c 1.41:
	* src/power3.h 1.19:
	* src/power3_events.c 1.9:
	* src/power3_events.h 1.8:
	* src/power4_events.h 1.9:
	* src/power4_events_map.c 1.6:
	* src/t3e_events.c 1.11:
	* src/tru64-alpha.c 1.66:
	* src/tru64-alpha.h 1.22:
	* src/unicos-ev5.c 1.69:
	* src/unicos-ev5.h 1.20:
	* src/unicos-memory.c 1.12:
	* src/unicosmp.h 1.5:
	* src/x1-native-presets.h 1.4:
	* src/x1-native.h 1.5:
	* src/x1-presets.h 1.7:
	* src/x1.c 1.38:
	* src/x1.h 1.11:
		removed files related to obsolete builds

2009-11-03	terpstra
	* src/libpfm-3.y/examples_v2.x/x86/Makefile 1.1.1.3:
	* src/libpfm-3.y/examples_v2.x/x86/smpl_core_pebs.c 1.1.1.3:
	* src/libpfm-3.y/examples_v2.x/x86/smpl_pebs.c 1.1.1.1:
	* src/libpfm-3.y/include/Makefile 1.1.1.9:
	* src/libpfm-3.y/include/perfmon/perfmon_pebs_smpl.h 1.1.1.1:
	* src/libpfm-3.y/include/perfmon/pfmlib_intel_nhm.h 1.1.1.2:
	* src/libpfm-3.y/lib/amd64_events_fam10h.h 1.1.1.5:
	* src/libpfm-3.y/lib/intel_corei7_unc_events.h 1.1.1.2:
	* src/libpfm-3.y/lib/pfmlib_amd64.c 1.1.1.10:
	* src/libpfm-3.y/lib/pfmlib_core.c 1.1.1.12:
	* src/libpfm-3.y/lib/pfmlib_intel_atom.c 1.1.1.6:
	* src/libpfm-3.y/lib/pfmlib_intel_nhm_priv.h 1.1.1.2:
	* src/libpfm-3.y/lib/power6_events.h 1.1.1.4:
		latest libpfm changes

2009-11-02	terpstra
	* src/utils/avail.c 1.49:
	* src/utils/native_avail.c 1.42:
		Fixes to eliminate strcpy on overlapping strings The offending 
		calls were replaced with memmoves and encapsulated in a single 
		function for better maintenance.

2009-10-29	bsheely
	* src/solaris-ultra.h 1.41:
		resolved compile errors on solaris

2009-10-23	bsheely
	* src/Rules.pfm_pcl 1.13:
	* src/pcl.c 1.12:
	* src/pcl.h 1.5:
		Naming convention change from PCL to Perf Events: renamed pcl.h 
		and pcl.c to perf_events.h and perf_events.c, renamed 
		Rules.pfm_pcl to Rules.pfm_pe, configure option --with-pcl 
		changed to --with-perf-events

2009-10-20	bsheely
	* src/ctests/byte_profile.c 1.18:
		corrected possible logic error in setting end point of profile 
		buffer

2009-10-15	bsheely
	* src/perfctr-ppc32.c 1.9:
		corrected possible init error

2009-10-14	terpstra
	* src/ctests/calibrate.c 1.39:
		Error checking was missing undercount conditions.

2009-10-13	terpstra
	* src/run_tests_exclude.txt 1.6:
		This file never existed on the PAPI-C branch.

	* src/aix-memory.c 1.15:
	* src/aix.c 1.84:
	* src/aix.h 1.29:
	* src/pmapi-ppc64.c 1.8:
	* src/pmapi-ppc64.h 1.4:
	* src/threads.c 1.33:
		Conversion of AIX to PAPI-C. Most tests pass, except for some 
		overflow related stuff. Haven't examined things closely yet, but 
		thought I should check this stuff in.

2009-10-12	bsheely
	* src/ftests/fdmemtest.F 1.5:
	* src/ftests/flops.F 1.14:
		declare types explicitly

	* src/ctests/multiattach.c 1.5:
	* src/ctests/zero_attach.c 1.5:
		corrected logic error with pid type

2009-10-09	terpstra
	* src/power6_events.h 1.3:
	* src/power6_events_map.c 1.4:
		Somehow these got removed from the repository.
2010-06-21	terpstra
	* src/Makefile.in 1.52:
	* src/configure 1.224:
	* src/configure.in 1.224:
		Change version numbers in anticipation of the impending 4.1 
		release.

2010-06-18	vweaver1
	* src/components/example/example.c 1.4:
		Correct a comment.

2010-06-18	ralph
	* doc/Doxyfile 1.5:
	* doc/Doxyfile-everything 1.2:
		Upped the version number in doxygen config files for upcoming 
		release.

	* INSTALL.txt 1.47:
		Friday afternoon typo... the command given for generating all 
		documentation was wrong

	* src/components/lustre/linux-lustre.c 1.6:
	* src/components/lustre/linux-lustre.h 1.5:
		Fixed some of the comments to get doxygen's attention /* -> /**
		
		I'm still working out how to best do the papi_components group
		but for now I just put the .h file for the component into the group. (@ingroup papi_components)
		So that one file per component shows up listing.

	* src/papi.h 1.208:
		Added a small section about components on the main doxygen 
		generated page.

2010-06-17	jagode
	* src/components/lustre/Rules.lustre 1.3:
	* src/components/lustre/host_counter.c 1.2:
	* src/components/lustre/host_counter.h 1.2:
		Added new component for infiniband devices. Major changes for 
		lustre component.

	* src/components/README 1.4:
		Added documentation (Doxygen) for InfiniBand (and lustre) 
		component.

2010-06-15	ralph
	* src/components/acpi/linux-acpi.c 1.3:
	* src/components/acpi/linux-acpi.h 1.2:
	* src/components/lmsensors/linux-lmsensors.h 1.3:
	* src/components/mx/linux-mx.h 1.2:
	* src/components/net/linux-net.h 1.2:
	* src/papi.c 1.360:
	* src/papi_hl.c 1.85:
	* src/utils/avail.c 1.53:
	* src/utils/clockres.c 1.25:
	* src/utils/command_line.c 1.15:
	* src/utils/cost.c 1.40:
	* src/utils/decode.c 1.9:
	* src/utils/event_chooser.c 1.18:
	* src/utils/mem_info.c 1.17:
	* src/utils/native_avail.c 1.47:
		Added documentation for the several components.
		Doxygen will now search recursivly under the components directory for documented *.[c|h] files ( /** @file */ somewhere in it).
		
		Several other files got brief descriptions of what is in the file.

2010-06-14	terpstra
	* papi.spec 1.9:
		Minor tweak to make sure libpfm builds without warnings.

2010-06-11	jagode
	* src/components/lmsensors/linux-lmsensors.c 1.2:
		removed compiler warnings for lm-sensors component; switched to 
		stderr so that papi_xml_event_info creates a clean output.

2010-06-11	bsheely
	* src/ctests/api.c 1.2:
		Added first few api test cases

2010-06-10	bsheely
	* src/ctests/papi_test.h 1.39:
	* src/ctests/test_utils.c 1.82:
		Added test_fail_exit for use in single threaded tests

2010-06-09	vweaver1
	* src/perfctr-2.6.x/patches/aliases 1.13:
	* src/perfctr-2.6.x/usr.lib/Makefile 1.31:
		Fix conflicts from import.

	* src/perfctr-2.6.x/CHANGES 1.1.1.28:
	...
	* src/perfctr-2.6.x/usr.lib/x86.c 1.1.1.11:
		Import of perfctr 2.6.41

2010-06-07	bsheely
	* src/any-null.c 1.60:
	* src/freq.c 1.1:
	* src/papi_vector.c 1.31:
		Moved timer impl from any-null.c into papi_vector.c and added 
		generic functionality to compute frequency if unable to 
		determine based on platform

	* src/papi_data.c 1.40:
	* src/papi_data.h 1.6:
		Added new error code

	* src/Makefile.inc 1.163:
		Added freq.c to build

	* src/configure 1.223:
	* src/configure.in 1.223:
		ctests/api (not yet implemented) added to default ctests

2010-06-03	bsheely
	* src/ctests/Makefile 1.155:
		Initial commit for ctests/api which is not yet implemented

2010-06-02	bsheely
	* src/papi_lock.h 1.7:
		Fixed for BG/P

2010-06-01	vweaver1
	* README 1.10:
		Fix typo in README

2010-06-01	bsheely
	* src/config.h.in 1.13:
		Added code to define _rtc when Cray is compiled with gcc

	* src/cycle.h 1.4:
		Rolled back previous changes

2010-05-27	bsheely
	* src/papi_internal.c 1.158:
	* src/threads.h 1.15:
		--with-no-cpu-component renamed --with-no-cpu-counters

	* src/components/mx/configure 1.3:
	* src/components/mx/configure.in 1.3:
		Rollback last change

	* src/ctests/multiattach.c 1.8:
	* src/ctests/zero_attach.c 1.8:
		Attempt to fix xlc compile errors

2010-05-21	bsheely
	* src/Rules.perfctr 1.66:
	* src/Rules.perfctr-pfm 1.57:
	* src/Rules.pfm 1.57:
	* src/Rules.pfm_pe 1.18:
		Use MISCHDRS from configure

2010-05-20	bsheely
	* src/components/mx/linux-mx.c 1.2:
		Fixed compile error and warnings. Added option to configure

2010-05-19	terpstra
	* src/ctests/all_native_events.c 1.24:
		Hard-code an exception for Nehalem OFFCORE_RESPONSE_0. This 
		event can't be counted because it uses a shared chip-level 
		register.

2010-05-19	bsheely
	* src/linux-ia64-memory.c 1.25:
	* src/linux-ia64.c 1.183:
	* src/pfmwrap.h 1.43:
		Fixed warning in ia64

	* src/components/net/linux-net.c 1.2:
		Fixed compile warnings

	* src/Makefile.in 1.51:
		Extra compiler warning flags are not added until after the 
		libpfm build

2010-05-14	vweaver1
	* src/linux-bgp.c 1.5:
		Temporary fix to emulate cycles HW counter on BlueGeneP using
		the get_cycles() call.

2010-05-13	bsheely
	* src/x86_cache_info.c 1.13:
		added missing C library headers

	* src/hwinfo_linux.c 1.7:
		fixed compile errors on torc0 by including missing C library 
		headers

	* src/ftests/Makefile 1.66:
	* src/utils/Makefile 1.16:
		Replaced missing MEMSUBSTR macro in configure. AC_ARG_ENABLE 
		macros replaced with AC_ARG_WITH macros. Continued changes for --
		with-no-cpu-component

2010-05-07	ralph
	* doc/Doxyfile-everything 1.1:
	* doc/Makefile 1.1:
		Added makefile in doc to generate user and developer documentation.
		
		from src, make doc builds the user documentation in doc/html
		(do we want this?)

2010-05-07	jagode
	* src/utils/event_info.c 1.14:
		papi_xml_event_info generated some invalid xml output. This bug 
		was introduced in Revision 1.10

2010-05-07	bsheely
	* src/any-null-memory.c 1.11:
	* src/any-null.h 1.23:
	* src/extras.c 1.170:
	* src/multiplex.c 1.85:
	* src/papi_preset.c 1.29:
	* src/papi_vector.h 1.14:
	* src/threads.c 1.36:
		Added --with-no-cpu-component option which has only been tested 
		on x86

2010-05-03	ralph
	* src/freebsd-memory.c 1.1:
	* src/freebsd.c 1.9:
	* src/freebsd.h 1.6:
	* src/papi_fwrappers.c 1.86:
		Updated Harald Servat's freebsd work to Component Papi.
		
		Has had cursory testing, but should be considered alpha quality.
		(there is a really nasty bug when running the overflow_pthreads test)

	* src/genpapifdef.c 1.43:
		Removed a holdout from catamount support,
		are there any platforms where we don't get malloc from stdlib?

2010-05-03	bsheely
	* src/papi_table.c 1.5:
		Removed obsolete file

2010-04-30	terpstra
	* release_procedure.txt 1.17:
		Add a few more steps on testing a patch.

2010-04-30	bsheely
	* src/components/acpi/Rules.acpi 1.2:
	* src/components/lmsensors/Rules.lmsensors 1.2:
	* src/components/lustre/Rules.lustre 1.2:
	* src/components/mx/Rules.mx 1.2:
	* src/components/net/Rules.net 1.2:
		Adding new components no longer requires modification of Papi 
		code

2010-04-29	bsheely
	* src/components/Rules.components 1.1:
	* src/components/acpi/linux-acpi-memory.c 1.1:
	* src/components/lmsensors/Makefile.lmsensors.in 1.1:
	* src/components/lmsensors/configure 1.1:
	* src/components/lmsensors/configure.in 1.1:
	* src/components/lustre/host_counter.c 1.1:
	* src/components/lustre/host_counter.h 1.1:
	* src/components/mx/Makefile.mx.in 1.1:
	* src/components/net/Makefile.net.in 1.1:
	* src/components/net/configure 1.1:
	* src/components/net/configure.in 1.1:
	* src/host_counter.c 1.2:
	* src/host_counter.h 1.2:
	* src/linux-acpi-memory.c 1.4:
	* src/linux-acpi.c 1.18:
	* src/linux-acpi.h 1.10:
	* src/linux-lmsensors.c 1.4:
	* src/linux-lmsensors.h 1.4:
	* src/linux-lustre.c 1.4:
	* src/linux-lustre.h 1.2:
	* src/linux-mx.c 1.17:
	* src/linux-mx.h 1.10:
	* src/linux-net.c 1.6:
	* src/linux-net.h 1.4:
		Created new build environment for components

2010-04-21	bsheely
	* src/perfmon.c 1.105:
		removed code that was commented out (accidentally uncommented 
		out on last commit

2010-04-20	bsheely
	* src/freebsd/map-i7.c 1.3:
	* src/freebsd/map-i7.h 1.3:
		Updated on 3.7 branch

	* src/linux-bgl-events.c 1.4:
	* src/linux-bgl-memory.c 1.4:
	* src/linux-bgl.c 1.11:
	* src/linux-bgl.h 1.4:
	* src/linux-ia64.h 1.61:
	* src/linux.c 1.77:
	* src/papi_events.csv 1.9:
	* src/papi_pfm_events.c 1.40:
	* src/perf_events.c 1.26:
	* src/perf_events.h 1.11:
	* src/perfctr-ppc64.c 1.19:
	* src/perfctr-x86.c 1.4:
	* src/perfmon.h 1.24:
	* src/pmapi-ppc64.c 1.11:
	* src/solaris-ultra.c 1.128:
		Removed code for obsolete platforms

2010-04-16	jagode
	* src/ctests/native.c 1.63:
	* src/papiStdEventDefs.h 1.41:
	* src/papi_internal.h 1.190:
	* src/papi_preset.h 1.22:
	* src/papi_protos.h 1.74:
		After further investigations of the stack corruption issue on 
		BGP, the real problem has been nailed down. The size of the 
		PAPI_event_info_t struct is different on BGP systems which is 
		due to a bigger PAPI_MAX_INFO_TERMS value. A _BGP was defined at 
		configure time to differentiate between BGP and other systems. 
		However, the problem is that a user program does not know this 
		macro. When PAPI_event_info_t is initialized to zero, the 
		beginning of the user program's stack frame is zeroed out --> 
		BAD. It was fun, though.

	* src/aix.c 1.87:
		Fixed compilation errors for AIX which were due to missing 
		inclusion of new header file papi_defines.h.

2010-04-15	bsheely
	* src/freebsd/map-atom.c 1.5:
    ...
	* src/freebsd/memory.c 1.4:
		Added files

2010-04-09	bsheely
	* src/linux-ppc64-memory.c 1.9:
	* src/perfctr-ppc32.c 1.11:
	* src/perfctr-ppc32.h 1.4:
	* src/perfctr-ppc64.h 1.11:
	* src/ppc32_events.c 1.8:
	* src/ppc64_events.c 1.9:
	* src/ppc64_events.h 1.12:
		Removed support for ppc32 architectures. Removed support for 
		perfmon versions older than 2.5 except for Itanium. Removed all 
		code related to POWER3 and POWER4.

2010-04-08	bsheely
	* src/solaris-niagara2.h 1.5:
		Added new include file

	* src/solaris-niagara2.c 1.7:
		Removed recently added include file since that file is now 
		included in the header which is included here

2010-04-06	jagode
	* src/linux-bgp.h 1.4:
		Missing declaration of PAPI_MAX_LOCK (fixed for linux-bgp only)

2010-04-05	bsheely
	* src/papi_memory.c 1.23:
		Resolved compile warning

	* src/ctests/profile.c 1.60:
		Modified code to exit properly on test failure

2010-04-01	bsheely
	* src/ctests/clockcore.c 1.21:
		Prevent output after test failure

2010-03-30	vweaver1
	* src/libpfm-3.y/lib/pfmlib_intel_nhm.c 1.4:
		Fix conflict from merge.

	* src/libpfm-3.y/lib/intel_corei7_events.h 1.1.1.6:
	* src/libpfm-3.y/lib/pfmlib_itanium2.c 1.1.1.3:
	* src/libpfm-3.y/lib/pfmlib_montecito.c 1.1.1.4:
		import libpfm CVS
		
		adds additional i7 model 46 support, fixes ia64 builds

2010-03-29	bsheely
	* src/ctests/pthrtough.c 1.11:
		Fixed buffer overflow debug output related to threads.c. Rolled 
		back change to pthrtough.c

2010-03-19	bsheely
	* src/solaris-ultra.h 1.43:
		Add new include for remaining substrates

2010-03-18	bsheely
	* src/ctests/p4_lst_ins.c 1.5:
	* src/ftests/native.F 1.56:
	* src/p3_pfm_events.c 1.14:
	* src/p4_events.c 1.56:
	* src/p4_events.h 1.10:
	* src/papi_defines.h 1.2:
	* src/papi_memory.h 1.12:
	* src/perfctr-p3.c 1.95:
	* src/perfctr-p3.h 1.52:
	* src/perfctr-p4.c 1.109:
	* src/perfctr-p4.h 1.47:
	* src/perfctr-x86.h 1.2:
		Merge bsheely-temp branch by hand

2010-03-12	vweaver1
	* src/ctests/multiplex1.c 1.53:
	* src/ctests/multiplex1_pthreads.c 1.54:
	* src/solaris-memory.c 1.14:
		Fix PAPI support for solaris-ultra.
		This code had not worked for some time.
		
		* Derived events now work (although the events are still
		  hard-coded and not read from the csv file)
		* Add cache size detection routines
		* Fix ntv_code_to_name()
		* Modify the multiplex* ctests to use proper events on
		  UltraSPARC
		
		All of the regression tests pass except for profile_pthreads.
		This is because overflow handling is still partially broken.

2010-03-05	ralph
	* doc/doxygen_procedure.txt 1.1:
		doc/doxygen_procedure.txt provides a quick overview of how to use doxygen
			for commenting the PAPI code.
		
		The utilities are now commented, cloning the wiki man pages.
		
		The high level api is also documented, cloning the wiki again.
		In the low level api, PAPI_accum - PAPI_destroy_eventset are documented.

2010-03-05	bsheely
	* src/ctests/thrspecific.c 1.6:
		Test now passes while testing the same functionality without 
		memory leaks

2010-03-04	vweaver1
	* src/libpfm-3.y/lib/pfmlib_priv.h 1.7:
		Fix conflicts from the libpfm import.

	* src/libpfm-3.y/docs/man3/libpfm_westmere.3 1.1.1.1:
	* src/libpfm-3.y/examples_v2.x/showevtinfo.c 1.1.1.3:
	* src/libpfm-3.y/include/perfmon/pfmlib.h 1.1.1.13:
	* src/libpfm-3.y/lib/intel_wsm_events.h 1.1.1.1:
	* src/libpfm-3.y/lib/intel_wsm_unc_events.h 1.1.1.1:
	* src/libpfm-3.y/lib/pfmlib_common.c 1.1.1.14:
	* src/libpfm-3.y/lib/pfmlib_intel_nhm_priv.h 1.1.1.3:
		Import latest libpfm, which includes Westmere support

2010-03-04	bsheely
	* src/ctests/fork.c 1.7:
	* src/ctests/fork2.c 1.4:
	* src/ctests/krentel_pthreads.c 1.8:
	* src/ctests/kufrin.c 1.15:
	* src/ctests/overflow_pthreads.c 1.43:
	* src/ctests/profile_pthreads.c 1.37:
		Fixed memory leaks

2010-03-03	vweaver1
	* src/p3_ath_event_tables.h 1.4:
	* src/p3_core_event_tables.h 1.5:
	* src/p3_events.c 1.65:
	* src/p3_opt_event_tables.h 1.4:
	* src/p3_p2_event_tables.h 1.4:
	* src/p3_p3_event_tables.h 1.4:
	* src/p3_pm_event_tables.h 1.4:
		Now that Athlon and Pentium II events use libpfm, remove the old
		hard coded event table files.

	* src/perfctr-2.6.x/README 1.1.1.6:
	* src/perfctr-2.6.x/patches/patch-kernel-2.6.18-164.el5-redhat 1.1.1.1:
	* src/perfctr-2.6.x/patches/patch-kernel-2.6.31 1.1.1.1:
	* src/perfctr-2.6.x/patches/patch-kernel-2.6.32 1.1.1.1:
		Import of perfctr 2.6.40

2010-03-03	bsheely
	* src/ctests/clockres_pthreads.c 1.11:
	* src/ctests/fork_exec_overflow.c 1.12:
	* src/ctests/zero_pthreads.c 1.29:
		Fixed memory leaks

2010-02-24	bsheely
	* src/linux-memory.c 1.44:
		Removed hack to compile without warnings using Wconversion

2010-02-23	bsheely
	* src/ctests/all_events.c 1.15:
	* src/ctests/multiplex2.c 1.36:
	* src/ctests/multiplex3_pthreads.c 1.45:
		Fixed (debug) compile warnings

2010-02-22	jagode
	* src/.indent.pro 1.1:
	...
	* src/utils/version.c 1.4:
		Added and applied new PAPI-coding-style profile file

	* src/windows.c 1.6:
		Added missing comment closer */ This misindented the rest of the 
		source code in windows.c

2010-02-16	terpstra
	* src/ctests/prof_utils.h 1.8:
		Cleaned up a bunch of implicit type conversions.

2010-02-15	terpstra
	* src/run_tests_exclude.txt 1.7:
		Remove the PAPI_set_event_info and PAPI_encode_event API calls, 
		since they were never supported, and generally come to be 
		thought of as a bad idea.

	* src/ctests/encode.c 1.7:
	* src/ctests/encode2.c 1.5:
		Remove the encode and encode2 tests that exercise 
		PAPI_set_event_info and PAPI_encode_event API calls, since they 
		were never supported, and generally come to be thought of as a 
		bad idea.

2010-01-25	bsheely
	* src/examples/PAPI_flips.c 1.4:
	* src/examples/PAPI_flops.c 1.4:
	* src/examples/PAPI_get_opt.c 1.5:
	* src/examples/PAPI_ipc.c 1.4:
	* src/examples/PAPI_overflow.c 1.5:
	* src/examples/PAPI_profil.c 1.7:
	* src/examples/high_level.c 1.4:
	* src/examples/locks_pthreads.c 1.3:
	* src/examples/overflow_pthreads.c 1.5:
		Fixed remaining compile warnings

	* src/examples/sprofile.c 1.5:
		Fixed compile warnings

2010-09-30

	* src/: configure, configure.in: When --with-OS=CLE is enabled,
	  check the kernel version and use perfmon2 for old kernels and
	  perf_events for new kernels.

	* src/: configure, configure.in: If no sources of perf counters are
	  available, then use the generic_platform substrate instead.

	  Currently the code would always fall back on perfctr even if no
	  perfctr support was available.

	* src/: configure, configure.in: If you specify --with-perf-events
	  or --with-pe-include but the required perf_event.h header is not
	  available, then have configure fail with an error.

	* papi.spec: Bump version number to 4.1.1 in affected files.  Also
	  bump requirement for kernel from 2.6.31 to 2.6.32.  This in prep
	  for the pending release.

	* src/: configure, Makefile.in, configure.in, papi.h: Bump version
	  number to 4.1.1 in affected files.  This in prep for the pending
	  release.

	* INSTALL.txt: Hope this late commit doesn't interfere with
	  anything.  This updates the INSTALL.txt to reflect all of the
	  improvements we've made to perf_event support since the last
	  release.

2010-09-29

	* src/Rules.pfm: The -Werror problem was still occurring on
	  ia64/perfmon compiles, as I hadn't updated Rules.pfm

	* src/: configure, configure.in, perf_events.c, perf_events.h,
	  sys_perf_counter_open.c, sys_perf_event_open.c, syscalls.h:
	  Remove support for the perf_counter interface in kernel 2.6.31.
	  Now supports only the perf_event interface in kernel 2.6.32 and
	  above.

2010-09-22

	* src/perf_events.c: Attempt to add mmtimer support to perf_events
	  substrate.

	* src/: multiplex.c, papi.c, papi_protos.h: The multiplex code
	  currently does not make a final adjustment at the time of
	  MPX_read().  This is to avoid the case where counts could be
	  decreasing if you have multiple reads returning estimated values
	  before the next actual counter read.

	  While this code works to keep the results non-decreasing, it can
	  cause significant differences from expected results for final
	  reads, especially if many counters are being multiplexed.

	  This is seen in the sdsc-mpx test.  It was failing occasionally
	  on some machines by having error of over 20% (the cutoff for a
	  test error) when multiplexing 11 events.

	  What this fix does is to special case the PAPI_stop() case when
	  multiplexing is enabled, having the PAPI_stop() do a final
	  adjustment.  The intermediate PAPI_read() case is not changed.

	  This fixes the sdsc-mpx case, while still passing the mendes-alt
	  case (which checks for non-decreasing values).

	  There is a #define that can be set in multiplex.c to restore the
	  previous behavior.

	* src/ctests/mendes-alt.c: This is our only test that checks to see
	  if multiplexed values are non-decreasing or not.  Unfortunately
	  the test currently doesn't fail if values do go backward.

	  This change causes the test to fail if it finds multiplexed
	  counts that decrease.

2010-09-17

	* src/libpfm-3.y/: config.mk, lib/intel_wsm_events.h: Fix conflicts
	  from merge.

2010-09-15

	* src/: Makefile.inc, Rules.perfctr-pfm, Rules.pfm_pe: Finally fix
	  the -WExtra problem.

	  The issue was -WExtra was being passed to libpfm, but only in the
	  case	 where the user had a CFLAGS env variable.

	  It turns out this is due to the following from section 5.7.2 of
	  the gmake manual:    Except by explicit request, make exports a
	  variable only if it is    either defined in the environment
	  initially or set on the command line,

	  And the fix is also described:    If you want to prevent a
	  variable from being exported, use the    unexport directive,

	  So I've added an "unexport CFLAGS" directive, which seems to be
	  the right thing as our Makefile explicitly passes CFLAGS to the
	  sub-Makefiles that need it.  This seems to fix the build.

2010-09-13

	* src/libpfm-3.y/: docs/man3/libpfm_westmere.3,
	  lib/intel_wsm_events.h, lib/intel_wsm_unc_events.h,
	  lib/pfmlib_intel_nhm.c, lib/pfmlib_priv.h: Fix the missing files
	  from the import (CVS claims this as a "conflict")

2010-09-08

	* src/Makefile.inc: Fixed the recipies for [c|f]tests and utils.
	  $(LIBRARY) => $(papiLIBS) (this way we don't build libpapi.a if
	  we won't want it)

2010-09-03

	* src/ctests/sdsc.c: Had a "%d" instead of "%lld" in that last
	  commit.

	* src/ctests/sdsc.c: Give a more detailed error message on the
	  sdsc-mpx test.

	  We're seeing sporadic failures (probably due to results being
	  close to the threshold value) but it's hard to tell on buildbot
	  which counter is failing because the error message didn't   print
	  the value.

2010-09-02

	* src/papi.c: Remove code that reported ENOSUPP if HW multiplexing
	  is not available.

	  PAPI can automatically perform SW multiplexing if HW is not
	  available.

	  With this part of my previous multiplexing patch reverted,
	  multiplexing seems  to work even on 2.6.32 perf_events (by
	  reverting to SW mode on those machines)

2010-08-31

	* src/perf_events.c: Explicitly set the disabled flag to zero in
	  perf_events for new events.

	  It was possible with an event set that if you removed an event
	  then	 added a new one that the disabled flag was obtaining the
	  value   from the previously removed event.

	  This fix doesn't seem to break anything, but the code involved is
	  a bit   tricky to follow.

	  This fixes the sdsc4-mpx test on sol.

	* src/components/coretemp/: Rules.coretemp, linux-coretemp.c,
	  linux-coretemp.h: Initial stab at a coretemp component.

	  This component exposes every thing that looks like a useful file
	  under /sys/class/hwmon.

2010-08-30

	* src/perf_events.c: F_SETOWN_EX is not available until 2.6.32, so
	  don't use it unless we are running on a recent enough kernel.

	* src/perf_events.c: Pentium 4 was not supported by perf_events
	  until version 2.6.35.  Print an error if we attempt to use it on
	  an older kernel.

2010-08-27

	* src/ctests/overflow_allcounters.c: The "overflow_allcounters"
	  test failed on perfmon2 kernels   because the behavior of a
	  counter on overflow differs between	the various substrates.

	  Therefore detect if we're running on perfmon2 and print a
	  warning,   but still pass the test.

	* src/libpfm-3.y/lib/: intel_wsm_events.h, intel_wsm_unc_events.h,
	  pfmlib_intel_nhm.c, pfmlib_priv.h: updating

	* src/libpfm-3.y/docs/man3/libpfm_westmere.3: removing westmere
	  documentation

	* src/perf_events.c: Fix warning in compile due to missing
	  parameter in a debug statement.

	* src/ctests/test_utils.c: In the ctests, test_skip() was
	  attempting a PAPI_shutdown() before exiting.	  On multithreaded
	  tests (that had already spawned threads before the	decision to
	  skip) this really causes the programs to end up confused    and
	  reports spurious memory errors.

	  So remove the PAPI_shutdown() from test_skip().  There's a
	  comment in test_fail()   that indicates this was already done
	  there for similar reasons.

2010-08-26

	* src/ctests/byte_profile.c: byte_profile was failing on systems
	  where fp_ops is a derived event.

	  modify the test so it gives a warning instead of failing and
	  avoids   using the derived event.

	* src/perf_events.c: At PAPI_stop() time a counter with overflow
	  enabled is being adjusted by a   value equal to the sampling
	  period.

	  It looks like this isn't needed (and is generating an overcount
	  that breaks	 overflow_allcounters).

	  I'm still checking up on this code; if it turns out to be
	  necessary I may   have ro revert this later.

	* src/ctests/overflow_allcounters.c: Add validation check to
	  overflow_allcounters

	  It turns out perf_event kernels overcount overflows for some
	  reason, while   perfctr doesn't.  I'm investigating.

	* src/ctests/: overflow_allcounters.c, papi_test.h, test_utils.c:
	  On Power5 and Power6, hardware counters 5 and 6 cannot generate
	  interrupts.

	  This means the overflow_allcounters test was failing because
	  overflow    could not be generated for events 5 and 6.

	  Add code that special cases Power5 and Power6 for this test (and
	  generate a warning)

	* src/perf_events.c: Change some debug messages to be warnings
	  instead of errors.

	* src/: papi.c, ctests/second.c: Fix ctests/second on bluegrass
	  (POWER6)

	  The test was testing domains by trying
	  PAPI_DOM_ALL^PAPI_DOM_SUPERVISOR   in an attempt to turn off the
	  SUPERVISOR bit.  This fails on   Power6 as it leaves the
	  PAPI_DOM_OTHER bit set, which isn't	allowed.

	  How did the test earlier measure PAPI_DOM_ALL then, which has all
	  bits set?   Well it turns out papi.c silently corrects
	  PAPI_DOM_ALL to be   available_domains.  But if you fiddle any of
	  the bits this   correction is lost.  This is probably not the
	  right thing to do,   but the best way to fix it is not clear.

	  For now this modifies the "second" test to clear the DOM_OTHER
	  bit too   if the domain setting fails with it set.

2010-08-25

	* src/: papi.c, papi.h, perf_events.c, ctests/kufrin.c,
	  ctests/mendes-alt.c, ctests/multiplex1.c,
	  ctests/multiplex1_pthreads.c, ctests/multiplex2.c,
	  ctests/multiplex3_pthreads.c, ctests/sdsc.c, ctests/sdsc2.c,
	  ctests/sdsc4.c, ftests/fmultiplex1.F, ftests/fmultiplex2.F: Add
	  support for including the OS version in the component_info_t
	  struct.

	  Use this support under perf_events to disable multiplexing
	  support if the   kernel is < 2.6.33

	  Modify the various multiplexing tests to "skip" if they get a
	  PAPI_ENOSUPP	 when attempting to set up multiplexing.

	* src/ctests/all_native_events.c: Update all_native_events ctest to
	  print warning in the case where we skip events because they
	  aren't implemented yet (offcore and uncore mostly).

2010-08-24

	* src/ctests/: papi_test.h, profile.c, test_utils.c: Adds a new
	  "test_warn()" function for the ctests.

	  This allows you to let tests pass with a warning.

	  This is useful in cases where you don't want to forget that an
	  option   needs implementing, but that the feature being missed
	  isn't important   enough to fail the test.

	  The first user of this is the "profile" test.  We warn that
	  PAPI_PROFIL_RANDOM is not supported on perf_events.

	* src/perf_events.c: From what I can tell, on perf_events the
	  overflow PAPI_OVERFLOW_FORCE_SW case was improperly falling
	  through in _papi_pe_dispatch_timer() to also run the HARDWARE
	  code.

	  This meant that we were attempting to read non-existant hardware
	  overflow data, causing a lot of errors to be printed to the
	  screen.

	  This shows up in the overflow_force_software test

	* src/ctests/: ipc.c, multiplex2.c, multiplex3_pthreads.c,
	  test_utils.c: Some minor changes to the ctests.

	  + ipc -- fail if the reported IPC value is zero + multiplex2 --
	  fail if all 32 counter values report as zero + multiplex3_pthread
	  -- give up sooner if each counter returns zero.      otherwise
	  the test can take upwards of an hour to finish      and makes the
	  fan on my laptop sound like it's going to explode	 in the
	  process

2010-08-20

	* src/Makefile.inc: Disable CFLAGS += $(EXTRA_CFLAGS) (-Wextra) for
	  now.	This will get buildbot running again, and if I can manage
	  to figure out exactly what the Makefiles are doing I'll re-enable
	  it again.

	* src/perf_events.c: Add support for Pentium 4 under perf events.
	  This requires a 2.6.35 kernel.  On p4 perf events requires a
	  special format for the raw event, so we modify   the results from
	  libpfm3 to conform to what the kernel expects.

	* release_procedure.txt: release_procedure updated to reflect files
	  to keep under /doc

2010-08-18

	* src/perf_events.c: Patch from Gary Mohr that allows PAPI on perf
	  events to catch permissions	problems at the time of
	  configuration, rather than only appearing   once papi_start() is
	  called.

	  Quick summary of changes:   + Adds a check_permissions() routine
	     PERF_COUNT_HW_INSTRUCTIONS is used as the test event.    +
	  check_permissions() is called during PAPI_ATTACH,
	  PAPI_CPU_ATTACH and PAPI_DOMAIN    + Various "ctl" structures
	  renamed "pe_ctl"    + Some minor debug changes

2010-08-05

	* src/perf_events.c: Use F_SETOWN_EX instead of F_SETOWN in
	  tune_up_fd()

	  This fixes a multi-thread overflow bug found with the Rice
	  test-suite.

	  F_SETOWN_EX doesn't exist until Linux 2.6.32.  We really need
	  some infrastructure that detects the running kernel at init time
	  and warns that things like F_SETOWN_EX, multiplexing, etc., are
	  unavailable if the kernel is too old.

2010-08-04

	* src/: Makefile.inc, cpus.c, cpus.h, genpapifdef.c, papi.c,
	  papi.h, papi_defines.h, papi_internal.c, papi_internal.h,
	  perf_events.c, perf_events.h, threads.h: This is the
	  PAPI_CPU_ATTACH patch from Gary Mohr that also fixes a  problem
	  with multiple event sets on perf events.

	  Changes by file:

	    papi.h
	       +  Add PAPI_CPU_ATTACHED
	       +  Add strutctures needed for CPU_ATTACH
	    Makefile.in
	       + include the new cpus.c file
	    papi_internal.c
	       + add call to _papi_hwi_shutdown_cpu() in
	  _papi_hwi_free_EventSet()
	       + make remap_event_position() non-static
	       + add_native_events() and remove_native_events() use
		 _papi_hwi_get_context()
	       + _papi_hw_read() has some whitespace and debug message
	  changes,
		 and removes an extraneous loop index
	    papi_internal.h
	       + a new CPUS_LOCK is added
	       + cpuinfo struct added to various structures
	       + an inline call called _papi_hwi_get_context() added
	    perf_events.h
	       + a cpu_num field added to control_state_t
	    perf_events.c
	       + open_pe_events() allows per-cpu counting,
		 additional debug was added
	       + set_cpu() function added
	       + new debug messages in set_granularity() and
	  _papi_pe_read()
	       + _papi_pe_ctl() has PAPI_CPU_ATTACH code added
	       + _papi_pe_update_control_state() has the default domain
		 set to be PAPI_DOM_USER instead of pe_ctl->domain
	    genpapifdef.c
	       + PAPI_CPU_ATTACHED added
	    threads.h
	       + an ESI field added to ThreadInfo_t
	    papi.c
	       + many new ABIDBG() debug messages added
	       + PAPI_start() updated to check for CPU_ATTACH conflicts,
		 has whitespace fixes, gets context now,
		 if dirty calls update_control_state()
	       + PAPI_stop(), PAPI_reset(), PAPI_read(), PAPI_read_ts(),
		 PAPI_accum(), PAPI_write(), PAPI_cleanup_eventset(),
		 all use _papi_hwi_get_context() to get context
	       + PAPI_read() has some braces added
	       + PAPI_get_opt() and PAPI_set_opt() have CPU_ATTACHED code
	  added.
	       + PAPI_overflow() and PAPI_sprofil() now report errors if
		 CPU_ATTACH enabled
	     cpus.c, cpus.h
	       + New files based on threads.c and threads.h

	  I made some additional changes, based on warnings given by gcc
	  + Added a few missing function prototypes in cpus.h	+ Update
	  PAPI_MAX_LOCK as it wasn't increased to handle     the new
	  addition of CPUS_LOCK   + Removed various variables and functions
	  reported as being unused.

2010-08-03

	* src/: papi_internal.h, papi_lock.h: The option
	  --with-no-cpu-counters was not supported on AIX. This has been
	  fixed and works now. Also the get_{real|virt}_{cycles|usec}
	  implementations for AIX (checked in Jul 29) have now been tested
	  and work correctly.

2010-07-29

	* src/: configure, configure.in, papi_lock.h, papi_vector.c: Added
	  AIX support for the get_{real|virt}_{cycles|usec} functions +++
	  Fortran tests are now compiling on AIX. Wrong compiler flags were
	  used for the AIX compilers.

2010-07-26

	* src/papi_events.csv: add PAPI_L1_DCM for atom

	* src/x86_cache_info.c: Update the x86 cache_info table.

	  The data from this table now comes from figure 3-17 in   the
	  Intel Architectures Software Reference Manual 2A   (cpuid
	  instruction section)

	  This fixes an issue on my Atom N270 machine where the L2 cache
	  was not reported.

2010-07-16

	* INSTALL.txt, src/perf_events.c, src/perf_events.h: Perf Events
	  now support attach and detach.

	  The patch for supporting this was written by Gary Mohr

	* src/papi_events.csv: Add a few missing events to Nehalem, based
	  on reading Intel Volume 3b.

	* src/papi_events.csv: Fix Westmere to not use L1D_ALL_REF:ANY

	  I tested this on a Nehalem which has the proper behavior,
	  unfortunately   no Westmere here to test on.

	* src/: papi_events.csv, papi_pfm_events.c, perfctr-x86.c: Enable
	  support for having more than one CPU block with the same name in
	  the .csv file.  This allows easier support for sharing events
	  between similar architectures.

	  I *think* this is needed and *think* it shouldn't break anything,
	  but I might have to back it out.

	  Also fixes event support for Pentium Pro / Pentium III/ P6 on
	  perfmon2 and perf events kernels.

	  Also fixed some confusion where perfctr called chips "Intel Core"
	  meaning Core Duo   wheras pfmon called "Intel Core" meaning
	  Core2.

	  This was tested on actual Pentium Pro and PIII hardware (as well
	  as on a few	Pentium 4 machines plus a Core2 machine)

2010-07-02

	* src/: papi_hl.c, ctests/api.c: Added remaining low-level api
	  tests
2011-01-20

	* src/papi_events.csv: 
              Remove HW_INT:RCV event that was mistakenly enabled for Westmere
   



2011-01-17

	* src/configure: Ran autoconf to generate updated configure file.

2011-01-16

	* src/components/README: Adding a component for the FreeBSD OS that
	  reports the value of the thermal sensors available in the Intel
	  Core processors.  There are as many counters as cores, and the
	  value reported by each counter is in Kelvin degrees.

	* src/freebsd.c: Implemented missing
	  _papi_freebsd_ntv_name_to_code.

	* src/: Makefile.in, Makefile.inc, configure.in, ctests/Makefile:
	  Fix dependency on -ldl

	  Now configure checks if dl* symbols are in the base system
	  libraries (i.e., no -ldl needed). If so, avoid adding -ldl to
	  shlib example.

	  If dl* symbols are not find in the base system libraries, then
	  check for -ldl, and if it exists, pass it to ctests/Makefile
	  through Makefile. If -ldl is not found, fail at configure time.

	* src/ctests/multiattach.c: Fix to compile in FreeBSD.

	* src/: freebsd-memory.c, freebsd.c: Code cleanup.

2011-01-14

	* src/: perf_events.c, perfmon.c: [PATCH 18/18] papi: make
	  _perfmon2_pfm_pmu_type variable static

	  In perf_events.c and perfmon.c the variable
	  _perfmon2_pfm_pmu_type is used locally only, making it static.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: linux-bgp.c, linux-ia64.c, perf_events.c, perfctr.c,
	  perfmon.c: [PATCH 17/18] papi: remove inline_static macro in
	  Linux only code

	  We better replace the macro with 'static inline'. Not sure if
	  this works for all compilers, so doing it for Linux only files.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/x86_cache_info.c: [PATCH 16/18] papi: remove static inline
	  function declaration

	  By moving the static inline function cpuid() to the begin of the
	  file we may remove its declaration.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/linux.h: [PATCH 15/18] papi: remove unused linux.h header
	  file

	  This file is included nowhere, removing it.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/linux-ia64.c: [PATCH 14/18] papi: fix array out of bounds
	  access

	  Fixing the following warning:

	    linux-ia64.c: In function ?_ia64_init_substrate?:
	    linux-ia64.c:1123:22: warning: array subscript is above array
	  bounds

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: configure, configure.in: [PATCH 13/18] papi: remove
	  unnecassary checks in configure.in

	  The check is obsolete and covered by default.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: papi_pfm_events.c, perf_events.c, perfmon.c, perfmon.h:
	  [PATCH 12/18] papi: include perfmon header files only where
	  necessary

	  This patch includes perfmon header files only where necessary.
	  Declarations in perfmon/perfmon.h are never used, removing its
	  inclusion. Itanium header files are needed only in perfmon.c and
	  perf_events.c.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: papi_pfm_events.c, perfctr-x86.c: [PATCH 11/18] papi: make
	  some functions in papi_pfm_events.c static

	  Functions _pfm_decode_native_event() and _pfm_convert_umask() are
	  internally used only. Remove export declaration and make it
	  static.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: Rules.pfm, linux-ia64-pfm.h, linux-ia64.c, pfmwrap.h:
	  [PATCH 10/18] papi: rename pfmwrap.h -> linux-ia64-pfm.h

	  pfmwrap.h actually only contains IA64 code included by
	  linux-ia64.c.  Rename it to linux-ia64-pfm.h.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: linux-ia64.c, pfmwrap.h: [PATCH 09/18] papi, linux-ia64:
	  make inline functions static

	  Inline functions should be static. Fixing it.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: linux-ia64.c, papi_pfm_events.c: [PATCH 08/18] papi: fix
	  _papi_pfm_ntv_name_to_code() function interface

	  The function is supposed to return a PAPI error code which is an
	  integer.  Make the function's return code an integer too.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/perfctr-ppc64.c: [PATCH 07/18] papi: fix spelling modifer ->
	  modifier

	  Fix spelling: modifer -> modifier

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: linux-ia64.c, papi_pfm_events.c, papi_pfm_events.h,
	  perf_events.c, perfctr-x86.c, perfmon.c: [PATCH 06/18] papi:
	  define function interface in papi_pfm_events.h

	  The header file should define the interface that
	  papi_pfm_events.c provides.  Declarations used internally only in
	  papi_pfm_events.c are moved there.  Now papi_pfm_events.h only
	  contains the prototype functions. Remapping of definitions is
	  removed too. This cleanup removes duplicate code and better
	  defines the interface.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: Rules.perfctr, Rules.perfctr-pfm, linux.c, multiplex.c,
	  papi_vector.c, perfctr-x86.c, perfctr.c, ctests/test_utils.c:
	  [PATCH 05/18] papi: rename linux.c -> perfctr.c

	  The name of linux.c is misleading, it only implements perfctr
	  functionality. Thus renaming it to perfctr.c.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: papi_pfm_events.c, perfctr-x86.c: [PATCH 04/18] papi: make
	  _papi_pfm_init() static by moving it to perfctr-x86.c

	  _papi_pfm_init() is only used in perfctr-x86.c but implemented in
	  papi_pfm_events.c. Move it to perfctr-x86.c and make it static.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/perfmon.c: [PATCH 03/18] papi: make some functions static in
	  perfmon.c

	  The functions are only used in perfmon.c, making it static.

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/: Rules.pfm, Rules.pfm_pe: [PATCH 02/18] papi: do not compile
	  libpfm examples to support cross compilation

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/Rules.pfm: To cross compile papi we need to pass the
	  architecture to libpfm.  Otherwise it will be confused and tries
	  to build the host's make targets with the cross compiler ending
	  up in the following error:

	   pfmlib_amd64.c: In function ?cpuid?:
	   pfmlib_amd64.c:166:3: error: impossible register constraint in
	  ?asm?
	   pfmlib_amd64.c:172:1: error: impossible register constraint in
	  ?asm?
	   make[2]: *** [pfmlib_amd64.o] Error 1

	  Signed-off-by: Robert Richter <robert.richter at amd.com>

	* src/ctests/Makefile: Temporarily back out the FreeBSD makefile
	  change that breaks the build so that I can properly test some
	  other changes.

	* src/papi_events.csv: Change the Core2 L1_TCM preset to be
	  LLC_REFERENCES

	  The current event (L2_RQSTS:SELF:MESI) returns an event
	  equivelent to LLC_REFERENCES on libpfm3, but in libpfm4
	  L2_RQSTS:SELF:MESI maps instead to L2_RQSTS:SELF:MESI:ALL which
	  counts prefetches too.

	  By moving to LLC_REFERENCES both libpfm3 and libpfm4 count the
	  proper value.  This also makes the "tenth" benchmark pass  when
	  using PAPI/libpfm4.

	* src/configure: Update to match current configure.in

	* src/ctests/Makefile: Fix the if / fi syntax of the last change.

2011-01-13

	* src/: Makefile.inc, configure.in, freebsd-memory.c, freebsd.c,
	  ctests/Makefile, ctests/zero_attach.c: Changes from Harald Servat
	  for freebsd support. Note that configure has not been regenerated
	  from this version of configure.in.

	* papi.spec, doc/Doxyfile, doc/Doxyfile-everything,
	  src/Makefile.in, src/configure.in, src/papi.h: Change version
	  numbers to 4.1.2 in preparation for a release.

2011-01-12

	* src/ctests/code2name.c: The code2name test was assuming that the
	  native events start right at PAPI_NATIVE_MASK.  We specifically
	  document elsewhere this might not be the case, and indeed for the
	  libpfm4 code this fails.

	  This fix changes the code to properly enunmerate the native
	  events for the test.

2011-01-06

	* src/: papi.c, papi_internal.c: Fix a long-standing bug where we
	  were walking off the end of the EventInfoArray in
	  remap_event_position().

	  This was noticed by Richard Strong when instrumenting some of the
	  PARSEC benchmarks.

	  In papi_internal.c in the remap_event_position() function we have
	  the loop

		  for ( i = 0; i <= total_events; i++ ) {

	   It seems weird that we are doing a <= compare, and in fact this
	  is why we
	   walk off the end of the array sometimes.  But why only somtimes?
	   If I
	   change that <= to a < then many of the regression tests fail.

	   It turns out that the two calls to remap_event_position() in
	   papi_internal.c are called with ESI->NumberOfEvents being one
	  less
	   than it should be, as it is incremented after the
	  remap_event_position()
	   call (though the new events are added before the call).  This is
	  why
	   <= is used.

	   However the call in PAPI_start() happens with
	  ESI->NumberOfEvents
	   with the right value.  In this case < should be used.

	   The fix I've come up with has a NumberOfEvents value passed in
	  as a
	   parameter to remap_event_position().  This way the value+1 can
	   be passed in the former cases.

2010-12-20

	* src/aix.c: Problem on POWER6 with AIX: pm_initialize() cannot be
	  called multiple times with PM_CURRENT. Instead, use the actual
	  proc type - here PM_POWER6 - and multiple invocations are no
	  longer a problem. Ctests/multiplex1.c passes now.

2010-12-15

	* src/run_tests.sh: If we don't run any tests, get buildbot's
	  attention.

2010-12-14

	* src/aix.c: number_of_nodes var was set to zero in
	  _aix_get_system_info. This caused the papi utilities to report
	  that the number of total CPUs is zero. This also caused
	  ctests/hwinfo to fail on POWER6 with AIX.

2010-12-13

	* src/papi_internal.h: Slight re-ordering of the no_vararg_macro
	  debug statements.  (I actually tested the changes with
	  --with-debug and without on aix)

2010-12-10

	* src/run_tests.sh: Change the syntax on our find command to be
	  more posix compliant.

	  GNU is Not UNIX, cute acronym or massive compatibility
	  conspiracy.  I fall back to posix, you decide!

	* src/: configure, configure.in: Update configure file to be aware
	  of the existence of AIX-Power7.

	  PAPI still won't build, but it gets further than before.

2010-12-09

	* src/run_tests.sh: Make our grep invocation posix compliant.
	  (--invert-match == -v & --regex == -e )

	* src/ctests/overflow_allcounters.c: Separate 'indent' check-in so
	  that the previous modifications are comprehensible :)

	* src/ctests/overflow_allcounters.c: The overflow_allcounters test
	  failed on Power6 with AIX (pmapi) but passes on Power6 with linux
	  (perf_events | perfctr). Therefore detect if we're running on
	  AIX, print a warning, but still pass the test.

	* src/run_tests.sh: Move away from echo -n to the shell builtin
	  printf (echo -n is not portable)

	  non-argumented instances of echo are fine.

	* src/run_tests_exclude.txt: Skip the non-test ctests/burn
	  executable.

	* src/Matlab/: PAPI_Matlab.c, PAPI_Matlab.readme: Change
	  documentation for matlab integration to reflect the need to link
	  to the libpapi.so library and not the static one.

	  Also listed me and the ptools-perfapi list as points of contact
	  for future questions *gulp*

2010-12-08

	* src/: configure, configure.in, run_tests.sh: Clean up (purge)
	  references to libpfm-2.x in configure and run_tests.sh

	* src/Matlab/PAPI_Matlab.c: MATLAB fixups: Calls to PAPI('stop')
	  now stop counting even if we ignore the return values.

	* src/Matlab/PAPI_Matlab.c: Fixup for papi matlab integration.

	  Calls to PAPI('stop') don't cause errors now.  If you call
	  PAPI('stop') with out capturing its return value, it does
	  nothing.

	* src/Matlab/PAPI_Matlab.c: mex does not like c++ style comments
	  (double-backslash)

2010-12-06

	* src/solaris-ultra.c: Resolved a couple type cast warnings.  Also
	  initialized a variable and enabled GET_OVERFLOW_ADDRESS code in
	  two places. The overflow test suite still has a number of
	  failures and is disabled in configure.

2010-11-24

	* src/papi_internal.h: That last commit was lacking in
	  creativity...  By having the debug function names still a macro,
	  we get all the goodness of __FILE__ etc bing in the right place
	  and still not using variadic macros.

	  #define SUBDBG do{ if (_papi_hwi_debug & DEBUG_SUBSTRATE )
	  print_the_label; } while (0); _SUBDBG was the clever line that
	  eluded me yesterday.

2010-11-23

	* src/papi_internal.h: Turns out that when DEBUG and
	  NO_VARARG_MACRO are true, we didn't correctly implement
	  component-level debug functions.  This change uses variable
	  argument lists ( man stdarg) to correctly handle this case. (
	  papi_internal.h defines these)

	  Note that debugging information is not completly useful; due to
	  functions which use variable argument lists not being inlinable (
	  the inline keyword is afterall only a sugestion), all messages
	  appear to come from papi_internal.h:PAPIDEBUG:525:22619 and I am
	  not clever enough to get around that in general right now.

	  Thanks to Maynard Johnson for reporting.

	* src/papi_events.csv: Enable the PAPI_HW_INT event on Nehalem, as
	  tests show the   HW_INT:RCV event is the proper one to use here.

2010-11-22

	* src/papi_events.csv: Update the preset events for Nehalem, as
	  contributed by    Michel Brown.

2010-11-19

	* src/: perf_events.h, perf_events.c: Address problem with overflow
	  handler continuing to count events.  Add overflow status field to
	  determine if an event set has any events enabled for overflow.
	  Use IOC_REFRESH instead of IOC_ENABLE when overflowing.
	  Implement IOC_REFRESH at end of overflow handler.  None of this
	  worked.  Also implemented an IOC_DISABLE at top of overflow
	  handler. That worked, even though it's suboptimal.

2010-11-17

	* src/utils/command_line.c: test_fail_exit() substituted for
	  test_fail().	This became necessary because
	  PAPI_event_name_to_code now returns a PAPI_EATTR error if the
	  base name matches but attribute names don't. This utility was
	  producing an error message and then running the test. Perfctr
	  implementations will happily add a base name with no umasks and
	  then generate 0 counts. This fix prevents that behavior.

	* src/ctests/test_utils.c: Rewrite of test_fail_exit() to call
	  test_fail(). It should be noted that test_fail_exit() behaves the
	  way test_fail() used to behave, i.e. it exits after printing the
	  fail message. However, test_fail no longer exits as that was
	  causing problems with multi-threaded tests not freeing memory. In
	  those cases where an exit is desired, calls to test_fail_exit()
	  should be substituted for calls to test_fail().

	* src/: papi.h, papi_data.c, papi_pfm_events.c, perfmon.c: Added 3
	  new error codes: PAPI_EATTR, PAPI_ECOUNT, and PAPI_ECOMBO. These
	  map onto equivalent errors in libpfm and are provided to give
	  more detail on failures in libpfm calls. A new error mapping
	  function has been added to papi_pfm_events.c to map libpfm errors
	  to PAPI errors, and this function is employed in the
	  compute_kernel_args function in perfmon.c. It could also be
	  deployed elsewhere, but so far is not.

2010-11-09

	* src/x86_cache_info.c: The cpuid change yesterday broke
	  compilation on a 32-bit Pentium 3.  Fix the inline assembly to
	  compile properly there too.

2010-11-08

	* src/: configure, configure.in: Fix configure script to properly
	  detect Pentium M machines.

	* src/x86_cache_info.c: Add cpuid leaf4 cache detection support.

	  This has been available on intel processors since Late model P4s
	  and all Core2 and newer.  It returns cache info in a different
	  way than the older leaf2 method.

	  Currently we only use leaf4 data if the leaf2 results tell us to
	  (apparently Westmere does that).  Otherwise we use the old
	  method.

	  It might be interesting to use more of the leaf4 info.  It can
	  tell us things such as how many processors share a socket, how
	  many processors share a cache, and info on the inclusivity of a
	  cache.

	* src/: linux.c, perfctr-x86.c: Add perfctr Westmere support.

	* src/perfctr-2.6.x/: patches/aliases, usr.lib/Makefile: Fix
	  conflicts from perfctr merge.

2010-11-06

	* src/perf_events.c: Replace KERNEL_CHECKS_SCHEDUABILITY_UPON_OPEN
	  with the proper dynamic kernel version number checking.  This
	  should be the last place in our perf_events code that was using a
	  hard-coded rather than dynamic check for a kernel-version related
	  bugfix.

	* src/perf_events.c: This patch allows PAPI to read multiple events
	  at a time out of the kernel when the kernel is new enough (2.6.34
	  or newer).  The previous code required setting a #define by hand
	  to get this behavior, this new code picks the proper way to do
	  things based on the kernel version number.

	  The patch was supplied by  Gary Mohr

2010-11-04

	* src/: linux.c, perfctr-x86.c: Replace occurrances of
	  PERFCTR_X86_INTEL_COREI7 with PERFCTR_X86_INTEL_NHLM as the
	  former has been documented as being deprecated as of perfctr
	  2.6.41.

2010-11-03

	* src/cycle.h: Change "unicos" to "CLE" since "unicos" no longer
	  exists.

2010-10-26

	* src/examples/locks_pthreads.c: Add a call to PAPI_thread_init(),
	  Thanks to Martin Schindewolf for pointing this out.

2010-10-21

	* src/: papi.c, components/lmsensors/linux-lmsensors.h: Fixup url's
	  that checkbot was finding in error.

2010-10-05

	* src/ctests/: multiattach.c, zero_attach.c: The zero_attach and
	  multiattach were forking before off children	 before testing
	  that PAPI in fact is available.  Then when PAPI_init()   failed
	  the children weren't being cleaned up properly.  This was
	  confusing build bot.	This changeset moves the fork to after the
	  check plus do a fail_exit() on failure.

	* src/: configure, configure.in: Solaris build will fail if
	  /usr/ccs/bin isn't in the path.  Have it check there for "ar" on
	  Solaris systems if it can't be found	 by normal methods.

	* src/: configure, configure.in: Only run the EAR tests on itanium
	  systems.

	* src/: configure, configure.in: Pentium4-perfctr was skipping most
	  of the CTESTS.  Make sure they are all run.


2011-05-10

	* src/Rules.pfm_pe: The --with-bitmode parameter was not being
	  passed along to libpfm3,  so it was not possible to build
	  perf_event PAPI on non-default bitmodes.  This change passes
	  along the $(BITFLAGS) value to the libpfm3 make invocation.

	* src/: papi_pfm_events.c, papi_pfm_events.h, perf_events.c: The
	  perf_events code was using __u64 instead of uint64_t and this was
	  causing a warning when compiling for 64-bit Power.

	* src/libpfm-3.y/lib/amd64_events_fam15h.h: Added Robert Richter's
	  patch with a few new events for AMD Family 15h.

2011-05-06

	* INSTALL.txt: Load the 'gcc' module not 'gnu' module for Cray.

	* INSTALL.txt: Update the install instructions for Cray XT and XE
	  systems.

	* src/ctests/: multiattach.c, multiattach2.c: Make the multiattach
	  and multiattach2 failures into warnings.

	  I have a proposed fix that makes the failures go away, but it has
	  not been tested much and also causes some new fcntl() error
	  messages under perfctr.

	  So temporarily make the tests only warn for the release and I'll
	  work on a proper fix for after.  The behavior in these tests has
	  been broken for a long time so it is not a recent regression.

	* src/papi_memory.c: Band-aid for the leak debugging statement in
	  papi_memory.c on NO_VARARG_MACRO systems.  (aix currently)

2011-05-05

	* src/ctests/multiattach.c: Had the division backwards on the
	  validation.

	* src/ctests/multiattach.c: Update the multiattach test to fail if
	  the results aren't in the proper ratio.  This was failing on
	  perf_event kernels but since the results weren't checked   it was
	  never reported as an error.

	* delete_before_release.sh: delete cvs2cl.pl before release

	* ChangeLogP413.txt: First cut change log for the 4.1.3 release.
	  Nothing's frozen yet...

	* cvs2cl.pl: Perl script to generate change logs. Keeping it with
	  the project makes life easier.

	* INSTALL.txt: Change INSTALL to reflect that we support power7.

	* src/Makefile.in, src/configure, src/configure.in, src/papi.h,
	  doc/Doxyfile, doc/Doxyfile-everything, papi.spec: Modfy version
	  number for pending release: 4.1.3.0

2011-05-03

	* src/: papi_internal.c, papi_internal.h, sys_perf_event_open.c,
	  ctests/attach2.c: Cleanup the _papi_hwi_cleanup_eventset()
	  function in papi_internal.c

	  This function was re-using existing functionality to remove one
	  event at a  time before cleaning out the eventset.  This is not
	  strictly necessary  and was breaking on perf_event eventsets that
	  were attached to  finished processes, as a call to
	  update_control_state() would close/reopen  the perf_event fd,
	  failing when the finished process went away after the close.

	  The new code removes all events from the eventset in one go
	  before  calling update_control_state.

	  The change here also updates code comments as necessary, as some
	  of the  code in papi_internal.c can be a bit obscure.

	  It also updates some of the comments in ctests/attach2.c to give
	  better  debugging info.

2011-04-28

	* src/threads.c: Uncomment the actual signal passing functionality
	  in _papi_hwi_broadcast_signal

	* src/papi_debug.h: Include files added to papi_debug.h

	* src/components/README: Added detailed instructions on how to
	  build PAPI with the CUDA component

2011-04-27

	* src/threads.c: Move an escape test to the outer loop in
	  _papi_hwi_broadcast_signal.

	  This cleans up an infinite loop where before we would only break
	  out of the component look, not the thread list walking loop.

	* src/: papi.c, papi_internal.c, papi_internal.h, papi_protos.h:
	  Clean up papi_internal.c so that functions not used outside are
	  marked static.

	* src/: papi_pfm_events.c, papi_preset.c, pmapi-ppc64_events.c:
	  papi: Fix some memory leaks

	  Signed-off-by: Robert Richter <robert.richter@amd.com>

	* src/perf_events.c: papi: Make functions and variables static in
	  perf_events.c

	  All this functions and variables are not used outside
	  perf_events.c.  Making them static.

	  Signed-off-by: Robert Richter <robert.richter@amd.com>

	* src/papi_pfm_events.c: papi: Fix crash in error handler for
	  pfm_get_event_code_counter()

	  Signed-off-by: Robert Richter <robert.richter@amd.com>

	* src/utils/native_avail.c: papi: Fix error check in native_avail.c

	  Signed-off-by: Robert Richter <robert.richter@amd.com>

2011-04-26

	* src/libpfm-3.y/: include/perfmon/pfmlib_amd64.h,
	  lib/pfmlib_amd64.c: AMD architectural PMU could not be detected
	  for family 15h as there was a strict check for AMD family 10h.
	  Enabling it now for all families from 10h.

	  Signed-off-by: Robert Richter

	* src/libpfm-3.y/lib/amd64_events_fam15h.h: There is no kernel
	  support for AMD family 15h northbridge events, disabling them in
	  libpfm3 to not report them as available native events.

	  Patch from Robert Richter

	* src/: configure, configure.in, linux-common.c: Add some extra
	  debug messages for better tracking of the   --with-assumed-kernel
	  configure option.

2011-04-25

	* src/: configure, configure.in, linux-common.c: Add a new
	  configure option:   --with-assumed-kernel=<ver> This allows you
	  to specify a kernel revision to (instead of being   autodetected
	  with uname) for perf_event workaround purposes.  With   this you
	  can force PAPI to not use workarounds on kernels with
	  backported versions of perf_event features.

2011-04-19

	* src/: Makefile.inc, configure, configure.in, papi_debug.h,
	  papi_internal.h, sys_perf_event_open.c: Add debugging to
	  sys_perf_event_open.c to show exactly what   values are being
	  passed to the perf_event_open syscall.

2011-04-18

	* src/: run_tests.sh, ctests/attach2.c, ctests/attach3.c: Fix for
	  finding attach_target with execlp to search the path.

2011-04-14

	* src/: Rules.pfm, configure, configure.in, linux-ia64-pfm.h,
	  linux-ia64.c, linux-ia64.h, perfmon-ia64-pfm.h, perfmon-ia64.c,
	  perfmon-ia64.h, perfmon.h: Rename the linux-ia64-* files to be
	  called perfmon-ia64-*

	  This is a more descriptive name, and makes it more obvious what
	  the files are for.

	* src/libpfm-3.y/: include/perfmon/pfmlib_amd64.h,
	  lib/pfmlib_amd64.c, lib/pfmlib_amd64_priv.h: Patch to have
	  libpfm3 use 6 counters on Interlagos.

	  Patch provided by Robert Richter

	* src/linux-memory.c: Fix the POWER cache detection routines to
	  work properly on POWER7.

	  Patch provided by Corey Ashford

	* src/: configure, configure.in: Have configure check for ifort if
	  gfortran, etc, not found.

	  Patch by Gary Mohr

	* src/ctests/johnmay2.c: Update the validation message on the
	  ctests/johnmay2.c test to be	 less confusing.  Also add some
	  comments to the source code.

	  Problem reported by Steve Kaufmann.

2011-04-13

	* src/ctests/: multiattach2, multiattach2.c: Remove the
	  accidentally added ctests/multiattach2 and add instead the proper
	  ctests/multiattach2.c

	* src/Makefile.inc: components_config.h is cleaned out with make
	  clobber, not make clean this should fix the build bot issues.

	* src/ctests/: Makefile, attach3.c, multiattach.c, multiattach2,
	  zero_attach.c: Minor typos in comments. Discovered another bug in
	  attach code demonstrated by multiattach2. You cannot have an
	  eventset running that is self counting as well as one that is
	  attached. PAPI thinks that both are running and throws an error.

	* src/perf_events.c: We must update the control state after
	  attaching for perf_events, zero_attach now passes

	* src/ctests/: Makefile, attach2.c, attach3.c, do_loops.c: This
	  commit adds testing of attaching to fork/exec'd executables.
	  zero_attach and multiattach just test forks. This also modifies
	  do_loops.c to be able to generate a test driver when
	  -DDUMMY_DRIVER is defined so we can use it to generate flops as a
	  sub process.

	  Attach2 and attach3 have one important difference.

	  Attach3 does a 'assign component' before attaching and then
	  adding events.  Attach2 does not assign a component and thus
	  should inherit the default component.

	  The current bug in PAPI is that: * The default component is not
	  assigned until you add an event.  * However, attaching an
	  eventset without events is perfectly valid, but we get an error.

	  Possible solution is that the default component should be
	  assigned at create time.

2011-04-12

	* src/ctests/multiattach.c: Make sure the two processes compute
	  different numbers of flops to test attach

2011-04-05

	* src/power7_events.h: Turns out Maynard Johnson answered my
	  questions about the native_name enum back in December.  ( this is
	  a correct version of the events file )

	  As I found out, the AIX substrates do not use the native_name
	  enum.  But a hypothetical perfctr build would.

2011-04-04

	* src/Makefile.inc: Clear out the components_config.h file on make
	  clobber

	* src/: aix.c, power7_events.h: Initial support for power7 aix, the
	  events file is a copy of power6_events.h with the number of
	  groups changed. The native_name enum is unchanged, but unused?

2011-04-01

	* src/configure.in: Commited wrong configure.in

	* src/: configure, configure.in: Clean up setting bitmode flags for
	  non-gcc (xlc in this case) compilers.

	* src/papi_events.csv: Change the Nehalem PAPI_FP_OPS event from
	  FP_COMP_OPS_EXE:SSE_SINGLE_PRECISION+FP_COMP_OPS_EXE:DOUBLE_PRECISION
	  to   FP_COMP_OPS_EXE:SSE+FP_COMP_OPS_EXE:X87

	  The new event gives the same results as the previous one, with
	  the added benefit of also counting 32-bit compiled x87 fp ops
	  properly.

	  More detailed analysis can be found here:
	  http://web.eecs.utk.edu/~vweaver1/projects/nehalem-fp_ops/

2011-03-28

	* src/utils/multiplex_cost.c: Turns out that getopt_long isn't as
	  standard as I had hoped.

	  Convert multiplex_cost to use only getopt.  -s disables software
	  multiplexing -k disables kernel multiplexing

2011-03-25

	* src/: configure, utils/Makefile, utils/multiplex_cost.c,
	  configure.in: Multiplex_cost utility.

	* src/utils/: Makefile, cost.c, cost_utils.c, cost_utils.h: Split
	  off the statistics functions from cost.

2011-03-22

	* src/: run_tests_exclude_cuda.txt, run_tests.sh: Exclude some
	  fork/thread tests from fulltest that won't run with CUDA (reason:
	  cannot invoke same GPU from different threads)

2011-03-21

	* src/utils/cost.c: Add a test for DERIVED_[ADD | SUB ] events to
	  papi_cost.

2011-03-18

	* src/components/cuda/linux-cuda.c: all_native_events ctest failed
	  when CUDA Component is used. Reason: removing cuda events from
	  the eventset is currently not supported. According to the NVIDIA
	  folks this is a bug in cuda 4.0rc and will be fixed in rc2. Note
	  also, several fork and thread tests fail since it's illegal to
	  invoke the same GPU device from different processes / threads. We
	  need a mechanism that allows us to run tests for the CPU
	  component only.

2011-03-15

	* src/utils/cost.c: Add a test case to cost util, look for a
	  derived-postfix event and if found, give timing information for
	  read calls to it.

	  This is just a first run at the test, Core2 and AMD have
	  candidate events and the test runs, but that is the extent of my
	  testing so far.

2011-03-11

	* src/components/: README, cuda/Makefile.cuda.in, cuda/Rules.cuda,
	  cuda/configure, cuda/configure.in, cuda/linux-cuda.c,
	  cuda/linux-cuda.h: Added CUDA component, a hardware performance
	  counter measurement technology for the NVIDIA CUDA platform which
	  provides access to the hardware counters inside the GPU. PAPI
	  CUDA is based on CUPTI support - shipped with CUDA 4.0rc - in the
	  NVIDIA driver library. In any environment where the CUPTI-enabled
	  driver is installed, the PAPI CUDA component can provide detailed
	  performance counter information regarding the execution of GPU
	  kernels.

	* src/components/: coretemp/linux-coretemp.c,
	  lustre/linux-lustre.c: Add some missing includes to components.

	  Thanks to Will Cohen for reminding us warnings matter. :)

	* src/: configure, configure.in, perf_events.c: The SYNC_READ
	  workaround in perf_events.c was being handled at compile time,
	  rather than at run-time like all of our other workarounds.

	  Change it to be like our other kernel-version related
	  workarounds.

2011-03-09

	* src/ctests/multiplex1_pthreads.c: Between 4.0.0 and 4.1.0 a
	  pthread_exit() call was added to ctest/multiplex1_pthreads.c that
	  caused the test to exit partway through the test and without
	  doing a proper PASS/FAIL result.

	  This changeset backs out that change, though the original change
	  was marked as a memory leak fix so a different fix may be needed.

	  Reported by Steve Kaufmann

	* src/linux-timer.c: Add missing header needed by
	  --with-virtualtimer=times build.

	  Reported by Steve Kaufmann

2011-03-01

	* src/: papi_pfm_events.c, perf_events.c: Fix broken Linux/PPC
	  build caused by my pfm_events code movement changes.

2011-02-25

	* src/: papi_pfm_events.c, papi_pfm_events.h, perfctr-x86.h: My
	  changes yesterday broke the perfctr build.  This should fix it.

2011-02-24

	* src/ctests/inherit.c: Make the inherit test respect TESTS_QUIET
	  so that it does not print extra output during a run_tests.sh run

	* src/ctests/overflow.c: Fix missing newline in the overflow
	  output.

	  Reported by Gary Mohr

	* src/: papi_pfm_events.c, papi_pfm_events.h, perf_events.c: Move
	  the libpfm3 specific functions from perf_events.c into
	  papi_pfm_events.c

	* src/perf_events.c: Separate the libpfm3-specific code from
	  _papi_pe_init_substrate() and _papi_pe_update_control_state()
	  into their own functions.  This will allow eventual code sharing
	  and also make the libpfm4 merge easier.

	* src/perf_events.c: Some minor cleanups I found after reviewing
	  the inherit merge.	+ Add missing "static inline" to the new
	  kernel-version codes	  + Remove duplicated test for Pentium 4
	  + Fix a warning only seen if --with-debug is enabled

	* src/: papi.c, papi.h, papi_internal.h, perf_events.c,
	  perf_events.h, ctests/Makefile, ctests/inherit.c,
	  ctests/test_utils.c: Merging Gary Mohr's re-implementation of
	  inherit into the code base.  Thanks, Gary!

2011-02-23

	* src/: any-null.h, freebsd.h, linux-bgp.h, linux-common.c,
	  linux-common.h, linux-context.h, linux-ia64.c, linux-ia64.h,
	  linux-lock.h, linux-memory.c, linux-ppc64.h, linux-timer.c,
	  papi_internal.h, papi_pfm_events.c, perf_events.c, perf_events.h,
	  perfctr-x86.h, perfctr.c, perfmon.h, solaris-niagara2.h,
	  solaris-ultra.h, solaris.h, x86_cache_info.c: Move some more
	  duplicated OS common code (in this case the locking code and the
	  context accessing code) out of the various substrate include
	  files and into a common location.

2011-02-22

	* src/perf_events.c: Separate out the kernel-version dependent
	  checks and group them together near the beginning of the code.
	  This not only allows us to easily see which routines are
	  kernel-version dependent, but it makes it easier to disable the
	  checks one-by-one when debugging kernel-version related issues
	  like those found with the inherit patches.

2011-02-21

	* src/papi_internal.c: Extend _papi_hwi_cleanup_eventset to free
	  memory and better cleanup after us.

2011-02-18

	* src/papi.c: PAPI_assign_eventset_component changed; refuses to
	  reassign components.

2011-02-17

	* src/: papi_events.csv, libpfm-3.y/include/perfmon/pfmlib.h,
	  libpfm-3.y/lib/amd64_events.h,
	  libpfm-3.y/lib/amd64_events_fam10h.h,
	  libpfm-3.y/lib/amd64_events_fam15h.h,
	  libpfm-3.y/lib/pfmlib_amd64.c,
	  libpfm-3.y/lib/pfmlib_amd64_priv.h: Add support for AMD Family
	  15h processors.  Also adds suport for Family 10h RevE

	  Patches provided by Robert Richter

	* src/utils/native_avail.c: Modify papi_native_avail to properly
	  handle event names with libpfm4-style  "::" separators in them.

2011-02-15

	* src/Makefile.inc: make install-doxyman will build/install the
	  doxygen version of the manpages.

	  Note that these pages are very rough right now, much work is
	  needed to get them to be a drop in replacement for the current
	  man pages. (mostly formatting related/use related issues, eg man
	  PAPI_start will not work yet; the content is there.)

	* doc/Makefile: Add install target for doxygen generated man pages.

2011-02-11

	* src/: perfctr-x86.c, perfctr.c: perfctr-2.6.42 introduced
	  PERFCTR_X86_INTEL_WSTMR PAPI added support for
	  PERFCTR_X86_INTEL_WSMR notice the missing T

	  Fix PAPI to use the proper define.  This should fix Westmere
	  support on perfctr kernels.

2011-02-09

	* src/: papi_protos.h, papi_vector.c, papi_vector.h,
	  papi_vector_redefine.h: Added function pointer destroy_eventset
	  to the PAPI vector table. Needed for the CUDA Component to
	  disable CUDA eventGroups, to destroy floating CUDA context, and
	  to free perfmon hardware on the GPU. (Note: the CUDA Component
	  cannot be released yet since we are still under NDA with NVIDIA.
	  Stay tuned.)

2011-02-07

	* src/x86_cache_info.c: The cpuid leaf2 code was printing a message
	  to stderr if leaf4 was needed (only happens on Westmere
	  currently).  Change this to be a MEMDBG() debug message instead.

2011-02-03

	* src/: papi_events.csv, perfctr-x86.c: perfctr-x86 was reporting
	  "Core i7" instead of "Nehalem".  i7 can mean Westmere or Sandy
	  Bridge too, so change the code to properly report Nehalem.

2011-01-27

	* src/ctests/all_native_events.c:
	  Fix this ctest. It failed when the package was built with several
	  components because the eventset was reused and failed to add
	  events that were not from the first component.

	  In order to fix it, I recreate & destroy the eventset when the
	  current event does not belong to the previous component.

2011-01-26

	* src/: configure, configure.in, linux-timer.c, perfmon.c: Fix Cray
	  CLE build.

	* src/: configure, configure.in: Putting -Wall in cflags now
	  requires CC = gcc

	* src/: aix.c, freebsd.c, linux-bgp.c, linux-common.c,
	  linux-memory.c, linux-memory.h, papi.c, papi_protos.h,
	  papi_vector.c, papi_vector.h, solaris-niagara2.c,
	  solaris-ultra.c, windows-common.c, windows-memory.c: Change the
	  paramaters passed to update_shlib_info() to match better with
	  those passed to get_system_info().  This only affects the
	  substrates, outside users of PAPI will not notice this change.

2011-01-25

	* src/: configure, configure.in: Make sure that aix gets -g.

	* src/: configure, configure.in: Give everyone else -g when
	  configuring with debug.

	  To wit, we pass gcc -g3 but neglected platforms where CC!=gcc.

	* src/aix.c: First run at supporting power7.  NOTE: this code is
	  only good for getting event listings eg papi_native_avail,

	  passing PM_GET_GROUPS causes our code to segfault later on, a
	  buffer overflow I'm still tracking down.

	* src/perfctr-x86.c: Accidentally converted a function to _perfctr_
	  that should have stayed _linux_.

	* src/: perfctr-x86.c, perfctr.c: Rename the various perfctr
	  functions to be _perfctr_ rather than _linux_.  This way _linux_
	  is reserved for the common functions used by all.

	* src/: linux-common.c, linux-memory.c, linux-timer.c,
	  perf_events.c, windows-common.c, windows-memory.c,
	  windows-timer.c: Split the WIN32 specific code out from the new
	  linux common code.

	  In most cases very little code was shared (it tended to be a big
	  #ifdef block) and it is confusing to have windows-specific code
	  in files named linux-*

2011-01-24

	* src/linux-timer.c: Fix a compile error that only shows up on PPC.

	* src/linux-timer.c: Fix compile warning if mmtimer is enabled.

	* src/perfctr-x86.c: Missing comma in the perfctr code.

	* src/: Makefile.inc, aix.c, configure, configure.in,
	  hwinfo_linux.c, linux-bgp.c, linux-common.c, linux-common.h,
	  linux-ia64.c, linux-timer.c, linux-timer.h, papi_vector.h,
	  perf_events.c, perfctr-x86.c, perfctr.c, perfmon.c,
	  solaris-niagara2.c, solaris-ultra.c: One last batch of
	  consolidation changes.

	  This one moves get_system_info and get_cpu_info into
	  linux-common.c, plus moves some other routines from perf_events.c
	  there that are shared by the future libpfm4 version.

	  Some non-linux substrates are touched here; these are just short
	  fixes to   make sure the get_system_info() function pointed to by
	  the papi_vector   has the same format on all substrates.

	* src/: Makefile.inc, configure, configure.in, linux-memory.c,
	  linux-memory.h, perf_events.c, perfctr-x86.c, perfctr.c,
	  perfmon.c: Move the various Linux update_shlib_info() functions
	  into a common place.

	* src/: Makefile.inc, linux-timer.c, linux-timer.h, perf_events.c,
	  perfctr-x86.c, perfctr.c, perfmon.c: Move the various
	  timer-related functions to linux-timer.c This gets rid of the
	  duplicated code spread throughout the substrates.

2011-01-21

	* delete_before_release.sh, release_procedure.txt: Updated the
	  release docs with what I learned when making the 4.1.2.1 release.

	* src/: configure, configure.in, freebsd-memory.c,
	  linux-ia64-memory.c, linux-memory.c, linux-memory.h,
	  linux-mx-memory.c, linux-ppc64-memory.c, perf_events.c,
	  perfctr-x86.c, perfmon-memory.c, perfmon.c: Currently there are
	  at least 3 identical copies of the linux memory detection code
	  spread throughout the PAPI source code.

	  This change puts them all in linux-memory.c, and then has all the
	  individual substrates use the common code.
2011-08-29

	* src/configure: Rebuild from configure.in with version number bump
	  to 4.1.4 in advance of pending internal vendor release for Cray.

2011-08-26

	* release_procedure.txt: Update rel procedure to mention building
	  the man pages before a release.

	* man/: man1/avail.c.1, man1/clockres.c.1, man1/command_flags_t.1,
	  man1/command_line.c.1, man1/component.c.1, man1/cost.c.1,
	  man1/decode.c.1, man1/error_codes.c.1, man1/event_chooser.c.1,
	  man1/mem_info.c.1, man1/native_avail.c.1, man1/options_t.1,
	  man1/papi_avail.1, man1/papi_clockres.1,
	  man1/papi_command_line.1, man1/papi_component_avail.1,
	  man1/papi_cost.1, man1/papi_decode.1, man1/papi_error_codes.1,
	  man1/papi_event_chooser.1, man1/papi_mem_info.1,
	  man1/papi_multiplex_cost.1, man1/papi_native_avail.1, man3/CDI.3,
	  man3/HighLevelInfo.3, man3/PAPIF.3, man3/PAPIF_accum.3,
	  man3/PAPIF_add_event.3, man3/PAPIF_add_events.3,
	  man3/PAPIF_assign_eventset_component.3,
	  man3/PAPIF_cleanup_eventset.3, man3/PAPIF_create_eventset.3,
	  man3/PAPIF_destroy_eventset.3, man3/PAPIF_get_dmem_info.3,
	  man3/PAPIF_get_exe_info.3, man3/PAPIF_get_hardware_info.3,
	  man3/PAPIF_num_hwctrs.3, man3/PAPI_accum.3,
	  man3/PAPI_accum_counters.3, man3/PAPI_add_event.3,
	  man3/PAPI_add_events.3, man3/PAPI_addr_range_option_t.3,
	  man3/PAPI_address_map_t.3, man3/PAPI_all_thr_spec_t.3,
	  man3/PAPI_assign_eventset_component.3, man3/PAPI_attach.3,
	  man3/PAPI_attach_option_t.3, man3/PAPI_cleanup_eventset.3,
	  man3/PAPI_component_info_t.3, man3/PAPI_cpu_option_t.3,
	  man3/PAPI_create_eventset.3, man3/PAPI_debug_option_t.3,
	  man3/PAPI_descr_error.3, man3/PAPI_destroy_eventset.3,
	  man3/PAPI_detach.3, man3/PAPI_dmem_info_t.3,
	  man3/PAPI_domain_option_t.3, man3/PAPI_enum_event.3,
	  man3/PAPI_event_code_to_name.3, man3/PAPI_event_info_t.3,
	  man3/PAPI_event_name_to_code.3, man3/PAPI_exe_info_t.3,
	  man3/PAPI_flips.3, man3/PAPI_flops.3, man3/PAPI_get_cmp_opt.3,
	  man3/PAPI_get_component_info.3, man3/PAPI_get_dmem_info.3,
	  man3/PAPI_get_event_info.3, man3/PAPI_get_executable_info.3,
	  man3/PAPI_get_hardware_info.3, man3/PAPI_get_multiplex.3,
	  man3/PAPI_get_opt.3, man3/PAPI_get_overflow_event_index.3,
	  man3/PAPI_get_real_cyc.3, man3/PAPI_get_real_nsec.3,
	  man3/PAPI_get_real_usec.3, man3/PAPI_get_shared_lib_info.3,
	  man3/PAPI_get_thr_specific.3, man3/PAPI_get_virt_cyc.3,
	  man3/PAPI_get_virt_nsec.3, man3/PAPI_get_virt_usec.3,
	  man3/PAPI_granularity_option_t.3, man3/PAPI_hw_info_t.3,
	  man3/PAPI_inherit_option_t.3, man3/PAPI_ipc.3,
	  man3/PAPI_is_initialized.3, man3/PAPI_itimer_option_t.3,
	  man3/PAPI_library_init.3, man3/PAPI_list_events.3,
	  man3/PAPI_list_threads.3, man3/PAPI_lock.3,
	  man3/PAPI_mh_cache_info_t.3, man3/PAPI_mh_info_t.3,
	  man3/PAPI_mh_level_t.3, man3/PAPI_mh_tlb_info_t.3,
	  man3/PAPI_mpx_info_t.3, man3/PAPI_multiplex_init.3,
	  man3/PAPI_multiplex_option_t.3, man3/PAPI_num_cmp_hwctrs.3,
	  man3/PAPI_num_components.3, man3/PAPI_num_counters.3,
	  man3/PAPI_num_events.3, man3/PAPI_num_hwctrs.3,
	  man3/PAPI_option_t.3, man3/PAPI_overflow.3, man3/PAPI_perror.3,
	  man3/PAPI_preload_info_t.3, man3/PAPI_profil.3,
	  man3/PAPI_query_event.3, man3/PAPI_read.3,
	  man3/PAPI_read_counters.3, man3/PAPI_read_ts.3,
	  man3/PAPI_register_thread.3, man3/PAPI_remove_event.3,
	  man3/PAPI_remove_events.3, man3/PAPI_reset.3,
	  man3/PAPI_set_cmp_domain.3, man3/PAPI_set_cmp_granularity.3,
	  man3/PAPI_set_debug.3, man3/PAPI_set_domain.3,
	  man3/PAPI_set_granularity.3, man3/PAPI_set_multiplex.3,
	  man3/PAPI_set_opt.3, man3/PAPI_set_thr_specific.3,
	  man3/PAPI_shlib_info_t.3, man3/PAPI_shutdown.3,
	  man3/PAPI_sprofil.3, man3/PAPI_sprofil_t.3, man3/PAPI_start.3,
	  man3/PAPI_start_counters.3, man3/PAPI_state.3, man3/PAPI_stop.3,
	  man3/PAPI_stop_counters.3, man3/PAPI_strerror.3,
	  man3/PAPI_thread_id.3, man3/PAPI_thread_init.3,
	  man3/PAPI_unlock.3, man3/PAPI_unregister_thread.3,
	  man3/PAPI_write.3, man3/high_api.3, man3/low_api.3,
	  man3/papi_data_structures.3, man3/papi_vector_t.3,
	  man3/ret_codes.3: Switch over to doxygen generated man pages.

	* man/: man1/papi_avail.1, man1/papi_clockres.1,
	  man1/papi_command_line.1, man1/papi_cost.1, man1/papi_decode.1,
	  man1/papi_event_chooser.1, man1/papi_mem_info.1,
	  man1/papi_native_avail.1, man3/PAPI.3, man3/PAPIF.3,
	  man3/PAPIF_get_clockrate.3, man3/PAPIF_get_domain.3,
	  man3/PAPIF_get_exe_info.3, man3/PAPIF_get_granularity.3,
	  man3/PAPIF_get_preload.3, man3/PAPIF_set_event_domain.3,
	  man3/PAPI_accum.3, man3/PAPI_accum_counters.3,
	  man3/PAPI_add_event.3, man3/PAPI_add_events.3,
	  man3/PAPI_assign_eventset_component.3, man3/PAPI_attach.3,
	  man3/PAPI_cleanup_eventset.3, man3/PAPI_create_eventset.3,
	  man3/PAPI_destroy_eventset.3, man3/PAPI_detach.3,
	  man3/PAPI_encode_events.3, man3/PAPI_enum_event.3,
	  man3/PAPI_event_code_to_name.3, man3/PAPI_event_name_to_code.3,
	  man3/PAPI_flips.3, man3/PAPI_flops.3, man3/PAPI_get_cmp_opt.3,
	  man3/PAPI_get_component_info.3, man3/PAPI_get_dmem_info.3,
	  man3/PAPI_get_event_info.3, man3/PAPI_get_executable_info.3,
	  man3/PAPI_get_hardware_info.3, man3/PAPI_get_multiplex.3,
	  man3/PAPI_get_opt.3, man3/PAPI_get_overflow_event_index.3,
	  man3/PAPI_get_real_cyc.3, man3/PAPI_get_real_usec.3,
	  man3/PAPI_get_shared_lib_info.3, man3/PAPI_get_substrate_info.3,
	  man3/PAPI_get_thr_specific.3, man3/PAPI_get_virt_cyc.3,
	  man3/PAPI_get_virt_usec.3, man3/PAPI_help.3, man3/PAPI_ipc.3,
	  man3/PAPI_is_initialized.3, man3/PAPI_library_init.3,
	  man3/PAPI_list_events.3, man3/PAPI_list_threads.3,
	  man3/PAPI_lock.3, man3/PAPI_multiplex_init.3, man3/PAPI_native.3,
	  man3/PAPI_num_cmp_hwctrs.3, man3/PAPI_num_components.3,
	  man3/PAPI_num_counters.3, man3/PAPI_num_events.3,
	  man3/PAPI_num_hwctrs.3, man3/PAPI_overflow.3, man3/PAPI_perror.3,
	  man3/PAPI_presets.3, man3/PAPI_profil.3, man3/PAPI_query_event.3,
	  man3/PAPI_read.3, man3/PAPI_read_counters.3,
	  man3/PAPI_register_thread.3, man3/PAPI_remove_event.3,
	  man3/PAPI_remove_events.3, man3/PAPI_reset.3,
	  man3/PAPI_set_cmp_domain.3, man3/PAPI_set_cmp_granularity.3,
	  man3/PAPI_set_debug.3, man3/PAPI_set_domain.3,
	  man3/PAPI_set_event_info.3, man3/PAPI_set_granularity.3,
	  man3/PAPI_set_multiplex.3, man3/PAPI_set_opt.3,
	  man3/PAPI_set_thr_specific.3, man3/PAPI_shutdown.3,
	  man3/PAPI_sprofil.3, man3/PAPI_start.3,
	  man3/PAPI_start_counters.3, man3/PAPI_state.3, man3/PAPI_stop.3,
	  man3/PAPI_stop_counters.3, man3/PAPI_strerror.3,
	  man3/PAPI_thread_id.3, man3/PAPI_thread_init.3,
	  man3/PAPI_unlock.3, man3/PAPI_unregister_thread.3,
	  man3/PAPI_write.3: Remove the old manpages in preperation for
	  defaulting to doxygen generated ones.

2011-08-25

	* src/: perf_events.c, ctests/overflow_allcounters.c,
	  ctests/papi_test.h, ctests/test_utils.c: Block all PERF_COUNT_SW
	  events from overflow_allcounters test,   as overflow on software
	  counter can crash perf_event kernels pre 3.1

	* src/libpfm4/: Makefile, config.mk, lib/Makefile,
	  lib/pfmlib_common.c, lib/pfmlib_perf_event.c, lib/pfmlib_priv.h,
	  perf_examples/perf_util.c, perf_examples/task_smpl.c: Fix the
	  "conflicts" from the import

	* papi.spec, doc/Doxyfile, doc/Doxyfile-everything,
	  src/Makefile.in, src/configure.in, src/papi.h: Bump version
	  number to 4.1.4 in advance of pending internal vendor release for
	  Cray.

2011-08-23

	* src/: papi.c, papi_hl.c: Removed all references to Fortran APIs.
	  These are now all in papi_fwrappers.c Also normalized syntax for
	  many doxygen headers.

	* src/papi_fwrappers.c: Added doxygen skeleton for all remaining
	  Fortran functions in this file. Also added wrappers for four
	  additional APIs: PAPI_get_real_nsec PAPI_read_ts PAPI_lock
	  PAPI_unlock

2011-08-19

	* src/: papi.c, papi_fwrappers.c: Stubbed out doxygen pages for
	  Fortran functions.  About half way done!

	* src/papi_libpfm4_events.c: Finish up the documentation/cleanup
	  pass through the libpfm4 code.

2011-08-18

	* src/papi_libpfm3_events.c: Fix code so we no longer get warnings
	  that 'setup_preset_term' and '_pfm_get_counter_info' are defined
	  but not used

	* src/: papi_libpfm3_events.c, papi_libpfm4_events.c,
	  papi_libpfm_events.h, perf_events.c, perfctr-x86.c: Consolidate
	  use of _papi_libpfm_init() and pass in MY_VECTOR when necessary.

	* src/papi_libpfm4_events.c: Dynamically allocate the libpfm4
	  native events, rather than having a fixed array allocated at init
	  time.

	* src/papi_libpfm4_events.c: Some more minor cleanups and
	  documentation in the libpfm4 code.

	* src/components/coretemp/linux-coretemp.c: Fixup for linux
	  coretemp component, it pays to check cvs status once in a
	  while...

2011-08-16

	* src/papi.c: Update the PAPI_enum_event() Doxygen comments to
	  reflect modern   values for the "modifier" parameter.

	* src/papi_libpfm4_events.c: Clean up code and add documentation
	  for all the functions involved in libpfm4's
	  _papi_libpfm_ntv_enum_events() function.

2011-08-15

	* src/mb.h: Updat the rmb() barrier for ARM.

	* src/papi_events.csv: Update SandyBridge EP support to match that
	  of mainline libpfm4

	* src/papi_libpfm4_events.c: Cleanup libpfm4 code, and add more
	  comments to code.

	* src/perf_events.c: Fix bug where umask support was disabled.

	* src/Rules.perfctr-pfm: Make the perfctr code use the merged
	  preset event code.

	* src/: Rules.pfm_pe, papi_libpfm3_events.c, papi_libpfm_presets.c:
	  Have libpfm3 use the merged preset code.

	* src/: Rules.pfm4_pe, papi_libpfm4_events.c,
	  papi_libpfm_presets.c: Move the libpfm presets code to its own
	  file, and modify the libpfm4 code to use it.

	* src/papi_libpfm3_events.c: Make the libpfm3 predefined events
	  parser identical to the libpfm4 one, in preparation for a merge.

	* src/: papi_libpfm3_events.c, papi_libpfm4_events.c,
	  papi_libpfm_events.h, perf_events.c: Move vendor fixups into the
	  substrate and out of the naming library code.

	* src/: Rules.perfctr-pfm, Rules.pfm4_pe, Rules.pfm_pe,
	  papi_libpfm3_events.c, papi_libpfm4_events.c,
	  papi_libpfm_events.h, papi_pfm4_events.c, papi_pfm_events.c,
	  papi_pfm_events.h, perf_events.c, perfctr-x86.c, perfmon.c:
	  Rename papi_pfm_events.c to papi_libpfm3_events.c to make it more
	  clear what is in the file.

	  Also rename papi_pfm4_events.c to papi_libpfm4_events.c    and
	  papi_pfm_events.h to papi_libpfm_events.h

	* src/perfmon.c: Fixup perfmon2 case for the libpfm renaming

	* src/perfctr-x86.c: Fix perfctr breakage from the libpfm rename.

	* src/: papi_pfm4_events.c, papi_pfm_events.c, papi_pfm_events.h,
	  perf_events.c, perfctr-x86.c, perfmon-ia64.c, perfmon.c: The PAPI
	  code uses _pfm_ in function names to mean *both* perfmon2 code
	  and libpfm3/4 code.  This can cause a lot of confusion.

	  Rename libpfm specific function names to use _libpfm_ instead.

	* src/: papi_pfm_events.c, papi_pfm_events.h, perf_events.c: Fix
	  build error on perfmon2 due to movement of the
	  _papi_pfm_shutdown()

2011-08-05

	* src/: Makefile.in, Makefile.inc, configure, configure.in,
	  components/Makefile_comp_tests,
	  components/cuda/tests/HelloWorld.cu,
	  components/cuda/tests/Makefile,
	  components/example/tests/HelloWorld.c,
	  components/example/tests/Makefile, components/README: Added
	  generic implementation that makes it possible to add tests to
	  components without modifying any PAPI-specific code (other than
	  adding the tests and a makefile to the component directory). All
	  component tests will be compiled together with PAPI when typing
	  'make' (as well as cleaned up when 'make clean' or 'make clobber'
	  is typed). +++ Also added tests to 2 components, the example and
	  cuda component.

	* src/: papi_defines.h, papi_internal.h, papi_pfm4_events.c,
	  perf_events.c: Add locking to papi_pfm4_events so that
	  adding/looking up event names doesn't have a race condition when
	  multiple threads are doing it at once.

	  Also fix the recently-added pfm_shutdown() to be called at
	  substrate_shutdown() rather than plain shutdown() as the latter
	  is called at thread_shutdown() time too.

	* src/: papi_pfm4_events.c, papi_pfm_events.c, papi_pfm_events.h,
	  perf_events.c: Add a _papi_pfm_shutdown() function and have it
	  clear out the native events array at PAPI_shutdown().

	  This makes sample code that exhibits the libpfm4 event race much
	  easier to write.

	* src/ctests/multiplex2.c: Added some PAPI_set_domain's inside of
	  #if 0's for testing.

2011-08-03

	* src/papi_pfm4_events.c: Use the new ARM vendor code to force the
	  proper default domain on ARM cpus.

	* src/: linux-common.c, papi.h: Add an ARM vendor string and have
	  it properly set.

	  The hardware detection logic is a horrible mess of parsing
	  /proc/cpuinfo I took the easy way out and just tacked the ARM
	  logic on the end rather than trying to clean it up at all.

	* src/perf_events.c: Clean up some comments, add a few debug
	  messages.

2011-08-02

	* src/linux-memory.c: The ARM warning for memory hierarchy not
	  being implemented was in the wrong place.

	* src/: papi_pfm4_events.c, sys_perf_event_open.c: Fix some
	  misleading debug messages.

	* src/papi_events.csv: Update ARM Cortex A9 preset events, and add
	  ARM Cortex A8 events

2011-07-28

	* src/: cycle.h, linux-context.h, linux-lock.h, linux-memory.c,
	  linux-timer.c, mb.h: Add remaining changes needed for ARM
	  compilation.	This is enough for "papi_avail" and
	  "papi_native_avail" to work.

	  Lots of #warning statements scattered around.  ARM is a
	  complicated architecture and things like memory barriers and
	  mutexes are very dependent on what version of the architecture
	  they are running on.	It will take a while to figure out the
	  proper way to handle this in PAPI.

	  Also, on Cortex-A8 and Cortex-A9 there is no way to separate
	  kernel events from the user ones.  So all measurements contain
	  both.  This will probably confuse our ctests.

	* src/papi_events.csv: Add ARM Cortex A9 preset events to the CSV
	  file.

	* src/sys_perf_event_open.c: Add the perf_event syscall number for
	  ARM

	* src/papi_fwrappers.c: Create PAPIF group in doxygen, for the papi
	  fortran interface.

2011-07-27

	* src/x86_cache_info.c: My changes yesterday broke on the
	  --with-debug case, as noticed by buildbot.

2011-07-26

	* src/: papi.c, papi_fwrappers.c: Implement doxygen comments for
	  PAPI_get_opt; Implement doxygen comments for PAPIF_accum in
	  papi_fwrappers.c.  This is a first step in providing separate
	  independent Fortran documentation.

	* doc/Doxyfile: Have doxygen parse papi_fwrappers.c for comments.

	* src/papi_pfm4_events.c: The last checkin broke papi_native_avail
	  on libpfm4.  Fix it.

	* src/papi_pfm4_events.c: Cleanup some code in papi_pfm4_events.c
	  to avoid gcc-4.6 warnings

	* src/x86_cache_info.c: Fix some warnings in src/x86_cache_info.c
	  reported by gcc-4.6

2011-07-21

	* src/ctests/all_native_events.c: Change all_native_events test to
	  create an eventset for each native event it finds.  Also becomes
	  a good test of the number of outstanding eventsets allowed.

2011-07-19

	* src/papi.c: Doxygen rewrite for PAPI_set_opt.

2011-07-13

	* src/: papi_events.csv, libpfm4/lib/events/intel_snb_events.h: A
	  few more commits that get SandyBridge mostly working.

	* src/papi.h: Include a comment to the prototype for PAPI_read_ts.
	  This is apparently a requirement to get doxygen to link from the
	  prototype to the doc block for the function (a link shows up in
	  the low_api group now).

2011-07-12

	* src/libpfm4/lib/events/intel_snb_events.h: Temporarily add
	  missing SandyBridge FP events until support gets merged upstream.

	* src/papi.c: Some minor Doxygen fixes.  This was my run through
	  the HTML output produced by my assigned functions.

2011-07-11

	* src/libpfm4/lib/pfmlib_intel_snb.c: Temporarily add model 45
	  Sandy Bridge to our copy of libpfm4 until we can get this merged
	  upstream.

	* src/ctests/: multiattach.c, multiattach2.c, reset.c, val_omp.c,
	  zero_attach.c, zero_fork.c, zero_omp.c, zero_pthreads.c,
	  zero_smp.c: Fix all the remaining users of the ctests
	  add_two_events() helper

	* src/ctests/first.c: Fix first test bug due to add_two_events()
	  change.  Clean up validation of results.

	* src/ctests/zero.c: Some cleanups I made to the testing routine
	  add_two_events() a while ago broke the zero test.  (the cycles
	  result was swapped with the other counter result).

	  This fixes this, plus adds a validation check to try to avoid
	  this happening in the future.

	* src/: configure, configure.in: Patch from William Cohen that sets
	  LD_LIBRARY_PATH and LIBPATH to include libpfm4/lib.

	  A better fix would probably be to include only the libpfm library
	  we are currently configured for.  I need to do more testing of
	  the --with-static-lib=no --with-shared-lib=yes --with-shlib
	  options

	* src/papi_hl.c: High level interface Doxygen comments updated to
	  include interface overview

2011-07-08

	* doc/Doxyfile, src/papi.h, src/papi_hl.c, src/papi_vector.h: Add
	  in the PAPI component development page.  Currently not linked to
	  by anything yet, but can be found at file://$(html_dir)/CDI or
	  http://web.eecs.utk.edu/~ralph/html/CDI for an already built
	  page.

2011-07-07

	* src/: papi.c, papi.h: Add doxygen comments for
	  PAPI_get_executable_info(), PAPI_exe_info_t and
	  PAPI_address_map_t

	* src/papi.c: Add doxygen comments for PAPI_event_code_to_name()
	  and PAPI_event_name_to_code()

	* src/papi.c: Add doxygen comments for PAPI_enum_event()

	* src/papi.c: Add doxygen comments for PAPI_create_eventset()

	* src/papi.c: Add doxygen comments for PAPI_cleanup_eventset() and
	  PAPI_destroy_eventset()

	* src/papi.c: Add doxygen comments for PAPI_attach() and
	  PAPI_detach()

	* src/papi.c: Add doxygen comments for
	  PAPI_assign_eventset_component()

2011-07-05

	* src/components/cuda/linux-cuda.c: missing parentheses added in
	  CUDA_Shutdown() which caused a seg fault.

2011-07-01

	* src/papi.c: Add doxygen comments for PAPI_add_event()

	* src/papi.c: Add doxygen comments for PAPI_add_events() +++
	  Updated PAPI_accum()

	* src/papi.c: Add doxygen comments for PAPI_accum()

	* src/ctests/: data_range.c, earprofile.c: Some more ia64 ctests
	  fixes

	* src/papi.c: Add doxygen comments for	 PAPI_register_thread()

	* src/papi.c: Add doxygen comments for:  PAPI_read()
	  PAPI_read_ts()

	* src/ctests/earprofile.c: Another attempt at fixing earprofile on
	  ia64.

	* src/ctests/earprofile.c: PAPI for ia64 compiles now, and now it's
	  some of the ia64-specific ctests that are broken.

	  There was a missing #include "papi.h" in earprofile

2011-06-30

	* src/papi.c: Doxygen for: PAPI_set_multiplex PAPI_shutdown
	  PAPI_sprofil_t PAPI_start (int EventSet) PAPI_state (int
	  EventSet, int *status) PAPI_stop (int EventSet, long long
	  *values) PAPI_strerror (int)

	* src/: linux-timer.c, perfmon-ia64-pfm.h, perfmon-ia64.c: more
	  ia64 fixes

	* src/papi.c: doxygen comments for:  PAPI_query_event()

	* src/: linux-timer.c, linux-timer.h, papi_vector.c, papi_vector.h:
	  Some more ia64 fixes.

	* src/papi.c: add doxygen comments for	PAPI_profil()

	* src/: linux-timer.c, linux-timer.h, perfmon-ia64.c: More ia64
	  fixes.  Getting closer.

	* src/: linux-context.h, perfmon-ia64.c, perfmon-ia64.h: One more
	  try at fixing ia64.

	  The trick to cross compiling is   ./configure --with-CPU=itanium2
	  --with-arch=ia64 --with-perfmon=2.0 --with-tls=no   make
	  __ia64__=1

	  and you still have to fiddle with some __ia64__ ifdefs scattered
	  in the code

2011-06-29

	* src/papi.c: Add doxygen comments for: * PAPI_num_events() *
	  PAPI_overflow() * PAPI_perror()

	* src/papi.c: Doxygen for PAPI_set_domain and PAPI
	  _set_granularity.  Unfortunately, this seems to have raised more
	  issues about Fortran support...

	* src/papi.c: Add doxygen comments to * PAPI_list_threads() *
	  PAPI_lock() * PAPI_multiplex_init() * PAPI_num_hwctrs() *
	  PAPI_num_cmp_hwctrs()

	* src/papi.c: Doxygen for PAPI_set_debug and minor tweaks to other
	  function documentation.

2011-06-28

	* src/: linux-common.h, linux-timer.c, papi_pfm_events.c,
	  perfmon-ia64-pfm.h: some more itanium fixes.	This won't be
	  enough to fix things but it is a start.

	* src/papi.c: Check in Kiran's doxygen work.  This time hopefully
	  not clobbering anyone.

	* src/: linux-context.h, linux-timer.c, perfmon-ia64.h: Attempt to
	  fix the build for itanium systems.

	* src/papi.c: Fix comments embedded in doygen source to be C++
	  single line format.

2011-06-27

	* src/papi.c: Commit documentation changes for PAPI_reset,
	  PAPI_set_thr_specific, and PAPI_get_thr_specific. The last one
	  wasn't on my list, but it mirrored _set_ so I did it anyway.

	* src/papi.c: [no log message]

	* src/papi.c: Commit Kiren's updates to the code documentation.

2011-06-24

	* doc/Doxyfile: One got left behind... ( see previous commit about
	  redoing doxygen procedures )

	* src/Makefile.inc, src/configure, src/configure.in,
	  doc/Doxyfile.html, doc/Doxyfile.utils,
	  doc/Doxyfile.utils-everything, doc/Makefile,
	  doc/doxygen_procedure.txt: Update install process for man-pages,
	  install from pre-built pages living in $(PAPI_DIR)/man and update
	  $(PAPI_DIR)/doc to generate doxygen pages and copy them to
	  $(PAPI_DIR)/man.

	  This removes doxygen from the install process.  And when removes
	  the web of doxygen configurationf files, going back to just two,
	  lite and kitchen-sink.

	* src/papi.c: Updates to doxygen stuff for PAPI_remove_event{s}

	* src/: linux-bgp.c, perfmon-ia64.c, perfmon.c, solaris-niagara2.c,
	  solaris-ultra.c: When I made the multiattach change I forgot to
	  update _papi_hwi_lookup_thread calls on all architectures.  This
	  should get the ones I missed.

2011-06-23

	* src/papi_pfm4_events.c: For libpfm4 we were setting available
	  counters to the number of generic counters.

	  This was less than libpfm3, so update the code to set the number
	  of counters to be equal to generic+fixed.

	  In theory whether an event can be added is determined at add
	  time, so the extra check for number of counters is unnecessarily
	  getting in the way.  This should be fixed but might require a
	  re-write of some PAPI internals.

2011-06-22

	* src/ctests/test_utils.c: One more fix to the byte_profile code

	* src/ctests/byte_profile.c: Fix byte_profile ctest, as it was
	  breaking on libpfm4.

	* src/: extras.c, papi.c, perf_events.c, threads.c, threads.h,
	  ctests/multiattach.c, ctests/multiattach2.c: Add support for
	  handling multiattach properly.

	  This adds a pid argument to the
	  _papi_hwi_lookup_or_create_thread() call.  A pid of "0" falls
	  back to the old behavior of using the current tid/pid.

	  If attaching to an outside pid/tid, a new thread object is
	  created to handle this.  This seems like the right thing to do,
	  though there's enough complicated code in the threads code that I
	  haven't fully audited that this can't fail somehow in complicated
	  cases where lots of attaching/detaching is done in conjunction
	  with having a large multi-threaded program.

2011-06-13

	* src/papi_pfm4_events.c: Fix the libpfm4 enumerate code.

	  It was possible for papi_native_avail to get stuck in an infinite
	  loop	if two events had the same name on different PMUs and the
	  "default"  PMU happened later in the enumeration.

	  This was the case on SandyBridge at least.

	  This should be fixed now.

	* src/ctests/test_utils.c: Make "test_fail()" actually fail.

	  In the comments we say we don't exit to avoid leaking memory in
	  threads.

	  That seems suspect.  The threads should exit properly too.  If
	  they	don't, then we should fix the threading code and not make
	  our tests  never exit on fail (which can make debugging a pain).

2011-06-10

	* src/: papi.c, papi_hl.c: Add example code to the high level
	  interface docs

	* src/papi_events.csv: Add initial Sandy Bridge event support.

	  This is in no way nested, so be cautious if using.

	  Sandy Bridge support is libpfm4 only, so you'll have to configure
	  with --with-libpfm4

	* src/papi_hl.c: Added an example of how to embed example code in
	  PAPI_stop_counters documentation.

2011-06-09

	* src/Makefile.inc: Makefile fix for fortran wrapper files on
	  case-insensitive filesystems.  During build, it renames the
	  preprocessed file PAPI_FWRAPPERS.c to upper_PAPI_FWRAPPERS.c

2011-06-08

	* src/: configure, Makefile.inc, configure.in: Have configure check
	  that doxygen is installed, and have make install only attempt to
	  build the doxygen docs if we found doxygen.

2011-06-07

	* src/: run_tests_exclude_cuda.txt, components/cuda/linux-cuda.c:
	  ctests/thrspecific works now too with the CUDA component

	* src/components/cuda/linux-cuda.c: clean up and indent

	* src/components/cuda/: linux-cuda.c, linux-cuda.h: Added
	  CudaRemoveEvent functionality (was broken in earlier CUDA RC
	  versions). ctests/all_native_events works now (at least for the
	  default CUDA device). +++ Minor exit/return mods in CUDA
	  component

	* doc/Doxyfile, doc/Doxyfile.html, doc/Doxyfile.utils,
	  doc/Doxyfile.utils-everything, doc/Makefile, src/Makefile.inc,
	  src/papi.c, src/papi.h, src/papi_hl.c: Rework doxygen to better
	  generate manpages from code comments.

2011-06-03

	* release_procedure.txt: Incorporate a note about using 2.59
	  autoconf to build configure.

2011-06-02

	* src/utils/error_codes.c: Tweak the doxygen title text.

2011-06-01

	* src/: configure, configure.in: Modified configure.in to look for
	  a 2.59 autoconf prerequisite. Rebuilt configure with 2.59. We'll
	  try this out on buildbot.

2011-05-31

	* src/: run_tests_exclude_cuda.txt, components/cuda/linux-cuda.c,
	  components/cuda/linux-cuda.h: 2 things: (1) Bug in CUDA v4.0
	  fixed. It caused a threaded application to hang when parent
	  called cuInit() before fork() and child called also cuInit().
	  All fork ctests pass now if papi is configured with cuda
	  component. (2) If running a threaded application, we need to make
	  sure that a thread doesn't free the same memory location(s) more
	  than once. Now all pthread ctests pass, too (again, if papi is
	  configured with cuda component).

2011-05-27

	* src/perf_events.c: It turns out our FORMAT_ID workaround
	  detection code was identical to FORMAT_GROUP (and not really
	  necessary) so merge the two.

2011-05-26

	* src/papi_pfm_events.h: One last try at the cray compile fix, this
	  time using a suggestion from Steve Kaufmann.

	* src/perf_events.c: Update some comments on the workarounds.

	  I've been writing some validation tests for our various
	  workarounds.

	  It turns out the "no multiplexing before 2.6.33" problem is
	  actually an artifact of the check_schedulability bug on x86 (and
	  its interaction with our event partitioning code) rather than a
	  distinct kernel bug.

	* src/Rules.pfm4_pe: Now fix libpfm4.  I think they should all be
	  fixed now.  Too many permutations.

	* src/: Rules.pfm_pe, papi_pfm_events.h: One last try at fixing the
	  perfmon2 build.

	* src/papi_pfm_events.h: Fix the perfmon2 build that broke with the
	  libpfm4 merge.  The previous fix only fixed perfctr, not perfmon2

	  This should fix the build for cray machines.

2011-05-24

	* src/utils/component.c: Add doxygen comments to components.c

	* src/papi_events.csv: Fix the PAPI_TOT_INS instruction for Atom,
	  as well as update the floating point events.

	* src/perf_events.c: We were using some of the perf_event
	  functionality in an susupported way	and this broke recently
	  when the perf_event interface was made more strict.

	  You can't use the PERF_EVENT_IOC_REFRESH ioctl on a group leader
	  to	start all sampling siblings... use PERF_EVENT_IOC_ENABLE

	  Don't pass NULL or 0 as the argument to the
	  PERF_EVENT_IOC_REFRESH ioctl.

	  These fixes seem to work and fix the Nehalem regressions.  The
	  above changes were made to PAPI back in November to fix the I/O
	  possible error, so we should check to be sure that this doesn't
	  reintroduce the problem.

	  We should also probably back-port this fix to 4.1.2 and 4.2
	  stable

2011-05-23

	* src/: configure, configure.in, papi.c, papi.h, papi_data.h,
	  utils/Makefile, utils/error_codes.c: New utility to display PAPI
	  error codes and description strings.	There was no API to access
	  error descriptions, so I created PAPI_descr_error( int error_code
	  ) too.  I also updated the error table to provide strings for all
	  defined codes.

	* src/aix.c: Define aix's .cmp_info.itimer_ns value to a default.
	  The multiplexing tests are happy on power7 aix now.

	* src/: sys_perf_event_open.c, ctests/overflow.c: cleanup some
	  debug messages

	* src/ctests/: overflow.c, test_utils.c: The overflow test depends
	  on the exact ordering of the flags in the   add_test_event()
	  code.  So my previous changes broke the test.    This commit
	  fixes the test case again.

	* src/ctests/: byte_profile.c, prof_utils.c, prof_utils.h,
	  profile.c, profile_twoevents.c, sprofile.c: ctests:  remove the
	  "hw_info" field from the profile setup functions,	     as the
	  field isn't used.

	* src/: configure, configure.in, utils/Makefile, utils/component.c:
	  Introduce a component avail utility, lists the components we were
	  built with, optionally with native/preset counts and version
	  number.

	* src/components/example/example.c: Add number of 'native' events
	  to the component info structure in example component.

	* src/ctests/: byte_profile.c, papi_test.h, prof_utils.c,
	  prof_utils.h, profile.c, profile_twoevents.c, sprofile.c,
	  test_utils.c, zero_smp.c: Clean up the ctest profile event
	  section code some more.

	  This fixes a build error on AIX that I introuced on Friday.

	* src/papi_events.csv: Initial PAPI Fam14h Bobcat support.

	  Only works with libpfm4 version of PAPI.

	  Passes most of the tests, but still need to verify as there are a
	  number of subtle differences in the native events.

2011-05-20

	* src/ctests/: byte_profile.c, mendes-alt.c, papi_test.h,
	  prof_utils.c, test_utils.c: Fix byte_profile to work on Nehalem.
	  Still needs some more work   to print the result properly.

	* src/ctests/: attach2.c, attach3.c, branches.c, byte_profile.c,
	  case1.c, case2.c, first.c, multiattach.c, multiattach2.c,
	  overflow.c, overflow3_pthreads.c, overflow_index.c,
	  overflow_one_and_read.c, overflow_pthreads.c, papi_test.h,
	  prof_utils.c, profile_pthreads.c, reset.c, sdsc.c, sprofile.c,
	  tenth.c, test_utils.c, zero.c, zero_attach.c, zero_fork.c,
	  zero_pthreads.c: Some cleanups to the ctests/test_utils.c code +
	  Remove the hw_info field from the add_two_events() and
	  add_two_nonderived_events() functions, as it wasn't used.  + Make
	  the add_test_events() function loop through all the masks,
	  insteading having a hardcoded test for each possible mask

	* src/ctests/test_utils.c: buildbot didn't like the colored test
	  messages (despite the code   having fancy checks for "isatty()").

	  So change the color thing to require an environment variable to
	  be set,   TESTS_COLOR=y

2011-05-19

	* src/ctests/test_utils.c: Add color to the testsuite results if we
	  are running at a console.  This makes is much easier to see
	  FAILED results.

	  I can back this out if people don't like it, but it's made my
	  life	a lot easier when running all the tests involved with the
	  libpfm4 merge.

	* src/: papi_pfm_events.c, papi_pfm_events.h: Fix the build with
	  perfctr introduced by libpfm4 changes.

	* src/configure.in: Documentation for the AIX heap fix.

	* src/: papi_pfm4_events.c, ctests/test_utils.c: power6 doesn't
	  work with libpfm4, as it reports num_cntrs=0

	  have PAPI print a better error in this case until we get a fix
	  upstream.

	* src/: configure, configure.in: On aix one has to ask really
	  nicely for a usable ammount of heap space.  The omp tests should
	  run now.

	* src/: configure, configure.in, perf_events.c,
	  sys_perf_event_open.c: This is the last commit needed to get
	  libpfm4 support going.

	  To build with libpfm4 support enabled, run configure like this:
	   ./configure --with-libpfm4

	* src/: papi_pfm_events.c, papi_pfm_events.h, perf_events.c: Pass
	  the actual perf_attr structure around, rather than just a 64-bit
	  event value.	This allows support for generalized events and
	  eventual offcore/uncore support.

	* src/: papi_pfm_events.c, perf_events.c, perf_events.h: Clean up
	  some debugging #ifdefs

	* src/papi_events.csv: The papi_events.csv file requires some
	  additions for libpfm4 to work   + The CPU family names have
	  changed from libpfm3 to libpfm4     It should be backward
	  compatible to just add the libpfm4 ones     in addition to the
	  libpfm3 ones	 + libpfm4 does not provide a helper to get the
	  instruction and cycle     event names.  So we have to add them
	  for all supported CPUs

	* src/: Rules.pfm4_pe, papi_pfm4_events.c: New files needed for
	  libpfm4 support

2011-05-16

	* release_procedure.txt: Add note to update from cvs before
	  tagging.  Thanks, Will Cohen :)

2011-10-25

	* doc/: Makefile, doxygen_procedure.txt: Update doxygen_procedure
	  to note that we need a recent version of doxygen.

	* man/: man1/avail.c.1, man1/clockres.c.1, man1/command_flags_t.1,
	  man1/command_line.c.1, man1/component.c.1, man1/cost.c.1,
	  man1/decode.c.1, man1/error_codes.c.1, man1/event_chooser.c.1,
	  man1/mem_info.c.1, man1/native_avail.c.1, man1/options_t.1,
	  man1/papi_avail.1, man1/papi_clockres.1,
	  man1/papi_command_line.1, man1/papi_component_avail.1,
	  man1/papi_cost.1, man1/papi_decode.1, man1/papi_error_codes.1,
	  man1/papi_event_chooser.1, man1/papi_mem_info.1,
	  man1/papi_multiplex_cost.1, man1/papi_native_avail.1, man3/CDI.3,
	  man3/HighLevelInfo.3, man3/PAPIF.3, man3/PAPIF_accum.3,
	  man3/PAPIF_accum_counters.3, man3/PAPIF_add_event.3,
	  man3/PAPIF_add_events.3, man3/PAPIF_assign_eventset_component.3,
	  man3/PAPIF_cleanup_eventset.3, man3/PAPIF_create_eventset.3,
	  man3/PAPIF_destroy_eventset.3, man3/PAPIF_enum_event.3,
	  man3/PAPIF_event_code_to_name.3, man3/PAPIF_event_name_to_code.3,
	  man3/PAPIF_flips.3, man3/PAPIF_flops.3,
	  man3/PAPIF_get_clockrate.3, man3/PAPIF_get_dmem_info.3,
	  man3/PAPIF_get_domain.3, man3/PAPIF_get_event_info.3,
	  man3/PAPIF_get_exe_info.3, man3/PAPIF_get_granularity.3,
	  man3/PAPIF_get_hardware_info.3, man3/PAPIF_get_multiplex.3,
	  man3/PAPIF_get_preload.3, man3/PAPIF_get_real_cyc.3,
	  man3/PAPIF_get_real_nsec.3, man3/PAPIF_get_real_usec.3,
	  man3/PAPIF_get_virt_cyc.3, man3/PAPIF_get_virt_usec.3,
	  man3/PAPIF_ipc.3, man3/PAPIF_is_initialized.3,
	  man3/PAPIF_library_init.3, man3/PAPIF_lock.3,
	  man3/PAPIF_multiplex_init.3, man3/PAPIF_num_cmp_hwctrs.3,
	  man3/PAPIF_num_counters.3, man3/PAPIF_num_events.3,
	  man3/PAPIF_num_hwctrs.3, man3/PAPIF_perror.3,
	  man3/PAPIF_query_event.3, man3/PAPIF_read.3,
	  man3/PAPIF_read_ts.3, man3/PAPIF_register_thread.3,
	  man3/PAPIF_remove_event.3, man3/PAPIF_remove_events.3,
	  man3/PAPIF_reset.3, man3/PAPIF_set_cmp_domain.3,
	  man3/PAPIF_set_cmp_granularity.3, man3/PAPIF_set_debug.3,
	  man3/PAPIF_set_domain.3, man3/PAPIF_set_event_domain.3,
	  man3/PAPIF_set_granularity.3, man3/PAPIF_set_inherit.3,
	  man3/PAPIF_set_multiplex.3, man3/PAPIF_shutdown.3,
	  man3/PAPIF_start.3, man3/PAPIF_start_counters.3,
	  man3/PAPIF_state.3, man3/PAPIF_stop.3,
	  man3/PAPIF_stop_counters.3, man3/PAPIF_thread_id.3,
	  man3/PAPIF_thread_init.3, man3/PAPIF_unlock.3,
	  man3/PAPIF_unregister_thread.3, man3/PAPIF_write.3,
	  man3/PAPI_accum.3, man3/PAPI_accum_counters.3,
	  man3/PAPI_add_event.3, man3/PAPI_add_events.3,
	  man3/PAPI_addr_range_option_t.3, man3/PAPI_address_map_t.3,
	  man3/PAPI_all_thr_spec_t.3,
	  man3/PAPI_assign_eventset_component.3, man3/PAPI_attach.3,
	  man3/PAPI_attach_option_t.3, man3/PAPI_cleanup_eventset.3,
	  man3/PAPI_component_info_t.3, man3/PAPI_cpu_option_t.3,
	  man3/PAPI_create_eventset.3, man3/PAPI_debug_option_t.3,
	  man3/PAPI_descr_error.3, man3/PAPI_destroy_eventset.3,
	  man3/PAPI_detach.3, man3/PAPI_dmem_info_t.3,
	  man3/PAPI_domain_option_t.3, man3/PAPI_enum_event.3,
	  man3/PAPI_event_code_to_name.3, man3/PAPI_event_info_t.3,
	  man3/PAPI_event_name_to_code.3, man3/PAPI_exe_info_t.3,
	  man3/PAPI_flips.3, man3/PAPI_flops.3, man3/PAPI_get_cmp_opt.3,
	  man3/PAPI_get_component_info.3, man3/PAPI_get_dmem_info.3,
	  man3/PAPI_get_event_info.3, man3/PAPI_get_executable_info.3,
	  man3/PAPI_get_hardware_info.3, man3/PAPI_get_multiplex.3,
	  man3/PAPI_get_opt.3, man3/PAPI_get_overflow_event_index.3,
	  man3/PAPI_get_real_cyc.3, man3/PAPI_get_real_nsec.3,
	  man3/PAPI_get_real_usec.3, man3/PAPI_get_shared_lib_info.3,
	  man3/PAPI_get_thr_specific.3, man3/PAPI_get_virt_cyc.3,
	  man3/PAPI_get_virt_nsec.3, man3/PAPI_get_virt_usec.3,
	  man3/PAPI_granularity_option_t.3, man3/PAPI_hw_info_t.3,
	  man3/PAPI_inherit_option_t.3, man3/PAPI_ipc.3,
	  man3/PAPI_is_initialized.3, man3/PAPI_itimer_option_t.3,
	  man3/PAPI_library_init.3, man3/PAPI_list_events.3,
	  man3/PAPI_list_threads.3, man3/PAPI_lock.3,
	  man3/PAPI_mh_cache_info_t.3, man3/PAPI_mh_info_t.3,
	  man3/PAPI_mh_level_t.3, man3/PAPI_mh_tlb_info_t.3,
	  man3/PAPI_mpx_info_t.3, man3/PAPI_multiplex_init.3,
	  man3/PAPI_multiplex_option_t.3, man3/PAPI_num_cmp_hwctrs.3,
	  man3/PAPI_num_components.3, man3/PAPI_num_counters.3,
	  man3/PAPI_num_events.3, man3/PAPI_num_hwctrs.3,
	  man3/PAPI_option_t.3, man3/PAPI_overflow.3, man3/PAPI_perror.3,
	  man3/PAPI_preload_info_t.3, man3/PAPI_profil.3,
	  man3/PAPI_query_event.3, man3/PAPI_read.3,
	  man3/PAPI_read_counters.3, man3/PAPI_read_ts.3,
	  man3/PAPI_register_thread.3, man3/PAPI_remove_event.3,
	  man3/PAPI_remove_events.3, man3/PAPI_reset.3,
	  man3/PAPI_set_cmp_domain.3, man3/PAPI_set_cmp_granularity.3,
	  man3/PAPI_set_debug.3, man3/PAPI_set_domain.3,
	  man3/PAPI_set_granularity.3, man3/PAPI_set_multiplex.3,
	  man3/PAPI_set_opt.3, man3/PAPI_set_thr_specific.3,
	  man3/PAPI_shlib_info_t.3, man3/PAPI_shutdown.3,
	  man3/PAPI_sprofil.3, man3/PAPI_sprofil_t.3, man3/PAPI_start.3,
	  man3/PAPI_start_counters.3, man3/PAPI_state.3, man3/PAPI_stop.3,
	  man3/PAPI_stop_counters.3, man3/PAPI_strerror.3,
	  man3/PAPI_thread_id.3, man3/PAPI_thread_init.3,
	  man3/PAPI_unlock.3, man3/PAPI_unregister_thread.3,
	  man3/PAPI_write.3, man3/high_api.3, man3/low_api.3,
	  man3/papi_data_structures.3, man3/papi_vector_t.3,
	  man3/ret_codes.3: Update doxygen generated man-pages for the
	  pending release.

	  In the future, we need to use a newer version of doxygen to
	  generate the pages (1.7 +) because locally installed verions
	  appear to have a  bug.

	* src/ctests/nmi_watchdog.c: The nmi_watchdog test should report a
	  Warning if nmi_watchdog is enabled   not an error.  (Since we do
	  work around it, even if performance is   likely impacted).

	* src/ctests/: Makefile, nmi_watchdog.c: I think the nmi_watchdog
	  stuff is going to cause us problems down the road.

	  Thus add a test that will tell users about the issue.

	* src/perf_events.c: The nmi_watchdog workaround is needed for
	  multiplexing too.

	  The kernel devs don't seem eager to fix this.  Until they do,
	  we'll have to fall back to software multiplexing on recent
	  kernels that have nmi_watchdog enabled (most vendor kernels).

	* src/multiplex.c: Yesterday's coverity fix to make sure the
	  cleanup and destroy rerturn values were checked ended up
	  over-writing "retval" in a way that broke the sdsc4-mpx test.
	  Fix things so that doesn't happen.

	* src/: papi.c, perf_events.c, ctests/overflow_allcounters.c: Some
	  changes for perf_event MIPS support

	  + Add __mips__ cases to the format_group, schedulability, and
	  broken   multiplexing bug workarounds, as even new Linux mips
	  kernels have	 these bugs + fix overflow_allcounters to work
	  properly if the MHz value   is zero.	+ Add some debugging to
	  PAPI_overflow() so that errors are more obvious   than just
	  returning PAPI_EINVAL, which made the previous item	a pain to
	  track down.

	* man/: footer.htm, header.htm, manServer_papi.pl, papiman.bat,
	  html/papi.html, html/papi_accum.html,
	  html/papi_accum_counters.html, html/papi_add_event.html,
	  html/papi_add_events.html,
	  html/papi_assign_eventset_component.html, html/papi_attach.html,
	  html/papi_avail.html, html/papi_cleanup_eventset.html,
	  html/papi_clockres.html, html/papi_command_line.html,
	  html/papi_cost.html, html/papi_create_eventset.html,
	  html/papi_decode.html, html/papi_destroy_eventset.html,
	  html/papi_detach.html, html/papi_encode_events.html,
	  html/papi_enum_event.html, html/papi_event_chooser.html,
	  html/papi_event_code_to_name.html,
	  html/papi_event_name_to_code.html, html/papi_flips.html,
	  html/papi_flops.html, html/papi_get_component_info.html,
	  html/papi_get_dmem_info.html, html/papi_get_event_info.html,
	  html/papi_get_executable_info.html,
	  html/papi_get_hardware_info.html, html/papi_get_multiplex.html,
	  html/papi_get_opt.html, html/papi_get_overflow_event_index.html,
	  html/papi_get_real_cyc.html, html/papi_get_real_usec.html,
	  html/papi_get_shared_lib_info.html,
	  html/papi_get_substrate_info.html,
	  html/papi_get_thr_specific.html, html/papi_get_virt_cyc.html,
	  html/papi_get_virt_usec.html, html/papi_help.html,
	  html/papi_ipc.html, html/papi_is_initialized.html,
	  html/papi_library_init.html, html/papi_list_events.html,
	  html/papi_list_threads.html, html/papi_lock.html,
	  html/papi_mem_info.html, html/papi_multiplex_init.html,
	  html/papi_native.html, html/papi_native_avail.html,
	  html/papi_num_cmp_hwctrs.html, html/papi_num_components.html,
	  html/papi_num_counters.html, html/papi_num_events.html,
	  html/papi_num_hwctrs.html, html/papi_overflow.html,
	  html/papi_perror.html, html/papi_presets.html,
	  html/papi_profil.html, html/papi_query_event.html,
	  html/papi_read.html, html/papi_read_counters.html,
	  html/papi_register_thread.html, html/papi_remove_event.html,
	  html/papi_remove_events.html, html/papi_reset.html,
	  html/papi_set_cmp_domain.html,
	  html/papi_set_cmp_granularity.html, html/papi_set_debug.html,
	  html/papi_set_domain.html, html/papi_set_event_info.html,
	  html/papi_set_granularity.html, html/papi_set_multiplex.html,
	  html/papi_set_opt.html, html/papi_set_thr_specific.html,
	  html/papi_shutdown.html, html/papi_sprofil.html,
	  html/papi_start.html, html/papi_start_counters.html,
	  html/papi_state.html, html/papi_stop.html,
	  html/papi_stop_counters.html, html/papi_strerror.html,
	  html/papi_thread_id.html, html/papi_thread_init.html,
	  html/papi_unlock.html, html/papi_unregister_thread.html,
	  html/papi_write.html, html/papif.html,
	  html/papif_get_clockrate.html, html/papif_get_domain.html,
	  html/papif_get_exe_info.html, html/papif_get_granularity.html,
	  html/papif_get_preload.html, html/papif_set_event_domain.html,
	  images/cssigoff.gif, images/cssigon.gif, images/headertop.jpg,
	  images/line.gif, images/logobottom.jpg, images/logoleft.jpg,
	  images/menubg.jpg, images/menubg95.jpg, images/rd.jpg,
	  images/spinbg.jpg, images/spinlogo.gif, images/stable.gif,
	  images/stripes2.jpg, images/trans.gif, images/utsigoff.gif,
	  images/utsigon.gif, images/white.jpg: Remove the old html
	  documentation and assorted helper files.

	* src/components/coretemp/linux-coretemp.c: Fix a possible
	  directory stream leak in the coretemp component.

	  reported by coverity checker.

	* src/ctests/calibrate.c: Properly free the arrays in calibrate,
	  introduced by yesterdays coverity fix.

	  Patch by Will Cohen


2011-10-24

	* src/components/coretemp/linux-coretemp.c: Fix coretemp to not
	  fail if /sys/class/hwmon doesn't exist.

	* src/components/coretemp/linux-coretemp.c: Patch coretemp to only
	  free the initialized data in shutdown_substrate (once per
	  PAPI_init) rather than shutdown (once per thread).

	  This was causing double free errors.

	  Patch from Will Cohen

	* src/utils/multiplex_cost.c: Fix various calls to PAPI_start() and
	  PAPI_stop() in multiplex_cost that didn't check the return value.
	  Took care to try to avoid changing timing measurements.  Noticed
	  by coverity checker.

	* src/utils/cost.c: In one case, cost was not checking the return
	  of PAPI_start()/PAPI_stop().	This change makes it does so, while
	  being careful not to interfere with the timing that is going on.

	* src/ctests/: pthrtough.c, pthrtough2.c: pthrtough and pthrtough2
	  were not checking the return value for pthread_attr_setscope().
	  Reported by coverity checker.

	* src/ctests/multiplex1_pthreads.c: multiplex1_pthreads was not
	  checking the return from PAPI_library_init() as flagged by
	  coverity checker.

	* src/ctests/inherit.c: inherit.c wasn't checking the result of the
	  waitpid() call, as reported by coverity checker.

	* src/ctests/clockres_pthreads.c: Check the return of
	  pthread_create().

	  Reported by coverity checker.

	* src/papi_libpfm4_events.c: Fix an actual bug (reported as
	  deadcode by coverity) where _papi_hwd_ntv_code_to_descr was
	  appending extraneous ", masks:" strings into an event
	  description.

	  None of our utils/ctests exercise this function, which is
	  probably why the bug wasn't noticed.

	* src/: multiplex.c, papi.c: Fix cases where PAPI_*() functions
	  were called without checking the return for an error.

	  Reported by coverity.

	* doc/Doxyfile.utils: Update version to 4.2.0 for pending release.

	* src/multiplex.c: Fix some code that could potentially dereference
	  a null pointer.

	  Found by the coverity checker.

	* src/papi_vector.c: Remove a dead code case as reported by
	  coverity.  Shouldn't break anything as I can't find anywhere that
	  vector_print_table() is actually called.

	* release_procedure.txt: Update release_procedure to reflect
	  another file that needs a version number bump. (Doxyfile.utils)

	* src/ctests/calibrate.c: Fix some weird code that was sharing a
	  memory allocation for both double and floats.  This was really
	  ugly and made the coverity checker sad.

	  Patch provided by Will Cohen.

	* src/testlib/test_utils.c: Fix a signed/unsigned comparison bug I
	  introduced.

	* src/components/coretemp/tests/coretemp_basic.c: Fix the test so
	  it correctly iterates all of the components.

	* src/components/coretemp/: linux-coretemp.c, tests/Makefile,
	  tests/coretemp_basic.c: Fix a potential memory leak in coretemp
	  (flagged by coverity).

	  Also added a test case for coretemp so I can actually test if
	  these changes are breaking anything.

	* src/solaris-ultra.c: Remove const decleration from get_virt_* in
	  solaris substrate.  Vince removed this from papi_vector.h back in
	  June.

	* src/testlib/test_utils.c: Improce the add_two_events() code in
	  the test library.  Before it was possible to overrun a buffer if
	  none of the potential predefined events were available.

	  Noticed by the coverity checker.

	* papi.spec, doc/Doxyfile, doc/Doxyfile-everything, src/configure,
	  src/papi.h, src/Makefile.in, src/configure.in: Update version to
	  4.2.0 for pending release.

2011-10-21

	* src/: Makefile.inc, configure, configure.in, papi.c, papi.h,
	  papi_internal.c, papi_user_events.c, papi_user_events.h: Merge in
	  the user events code , protected by a configure option.  (
	  --with-user-events )

	* src/testlib/test_utils.c: We now ensure that test_fail() always
	  exits.  There was some code around that tracked the number of
	  times test_fail() was called.  Remove that, as I think it was
	  confusing the coverity checker and causing a huge number of false
	  positives for NULL pointer dereferences.

	* src/components/acpi/linux-acpi.c: Some minor cleanups to the acpi
	  component.  It was choking a bit if ACPI didn't provide thermal
	  information, and also fix a few coverity bugs involving not
	  checking the result of a dup() call.

	* src/testlib/test_utils.c: Another problem with negative numbers,
	  this time one could potentially be passed to a malloc call.

	  noticed by coverity

	* src/ctests/overflow_pthreads.c: We were indexing an array with a
	  returned value that could be negative on failure.  Add a check to
	  avoid that.

	  We're also indexing a per-thread array with an EventSet number,
	  which sounds suspect, should probably investigate that further.

	* src/perf_events.c: perf_events.c was setting variables to -1 and
	  then potentially using them to index arrays or call close() on
	  them.

	  This adds checks to avoid that.

	  Noticed by the coverity checker.

	* src/components/lustre/linux-lustre.h: Include stdint.h and
	  ctype.h; needed for uint64_t and isspace() respectivly.

	* src/components/coretemp/linux-coretemp.c: Fix problem where we
	  try to manipulate a NULL directory entry.

	  This fixes a segfault on a Nehalem machine we have here that has
	  a /sys/class/hwmon/hwmon0 directory without a "device"
	  subdirectory.

	* src/components/coretemp/linux-coretemp.c: We were opening a file
	  but not checking for failure before reading from it.

	  Flagged by the coverity checker.

	* src/components/coretemp/linux-coretemp.c: Both gcc and coverity
	  were complaining about using an uninitialized pointer.  This
	  makes sure it's not dereferenced if not initialized.

	* src/ctests/prof_utils.c: Stop doing unnecessary pointer math in a
	  print statement.

	  This was flagged as a problem by the coverity tool.

	* src/components/coretemp/linux-coretemp.c: Fix some wrong buffer
	  sizes in the coretemp component.

	  Patch from Will Cohen

	* src/ctests/sdsc.c: add some extra debug info for sdsc test
	  failures.

	* src/papi_hl.c: Add comment to PAPI_num_counters() documentation
	  about use of PAPI_num_cmp_hwctrs() for component counters.

2011-10-19

	* src/papi.c: Correct documentation errors for PAPI_strerror.

	* src/: configure, configure.in: Under a no-cpu-counters build,
	  still build all of the utils.  We probably want to rethink some
	  of the cost util details.

2011-10-11

	* src/run_tests.sh: Remove an unneeded call to "cat".  For some
	  reason it was printing pointless warnings that needlessly
	  cluttered the buildbot logs.

	* src/ctests/: Makefile, multiplex1.c: -lpapi should never be a
	  dependency.  -I.. is missing in makefile

	  You should be able to cd ctests and do: make <test> or make
	  multiplex.

	  Also, added the read after start multiplex case for multiplex1.
	  This triggers bugs in perf_events systems.

2011-10-10

	* src/: papi.c, papi_internal.c, threads.c: The multiplex1_pthreads
	  test was reporting a memory leak.

	  This is because the test was calling PAPI_unregister_thread()
	  without destroying its EventSets.

	  This added change adds code that at unregister_thread time will
	  destroy any events belonging to that thread.

	  This works on all the current ctests but I should check some of
	  the various corner cases not currently tested.

2011-10-07

	* src/libpfm4/: config.mk, lib/pfmlib_amd64.c, lib/pfmlib_common.c,
	  lib/pfmlib_intel_x86.c, lib/events/intel_nhm_events.h,
	  lib/events/intel_wsm_events.h: Merge the "conflicts" from the
	  libpfm4 merge

	* src/: threads.c, threads.h: Fix the MEMORY LEAK errors involving
	  the attach ctests (as seen on buildbot)

	  These came about when proper multiattach support was added.  A
	  "fake" thread structure is created for each attached process.
	  These fake thread structures were not being cleaned up at
	  shutdown,   hence the leak.

	  This fix adds support so at thread shutdown, if we have any
	  "fake" threads that we created, also shut them down too.

	  This was tricky, especially dealing with the circular-linked list
	    the thread info structs are in.  This fix seems to work without
	    negatively affecting the pthread cases.

	  ctests/multiplex1_pthreads still reports MEMORY LEAK but that
	  seems   to be an eventset issue, not a thread issue, so will be
	  investigated	 separately.

2011-10-06

	* src/: papi.h, papi_fwrappers.c: Add Fortran reference to  doxygen
	  main page.

2011-10-05

	* src/: papi.c, papi_internal.c, perf_events.c: There has been some
	  ongoing speculation about what would happen if you enabled
	  Multiplexing and Overflow at the same time.

	  It turns out (at least on perf_events) that if you have kernel
	  multiplexing, the results are what you expect.  You get
	  overflows, but less than in the non-multiplexing case because the
	  overflow counter isn't being run all the time.

	  The results for software multiplexing involved a segfault.  This
	  is because in the software multiplexing case the primary EventSet
	  is a fiction; a set of shadow EventSets are created behind the
	  scene, and these are the ones used.  Therefore when you enable
	  overflow, the overflow event is attempted to be enabled on the
	  fictious main EventSet.  There are no native events mapped for
	  it, so overflow tries to access native event array index "-1"
	  which causes bad things to happen.

	  This change avoids the issue by catching the "-1" case and
	  failing accordingly.	We should probably decide if we want to
	  catch the oflo/mpx combination earlier and outright ban it.

	  I also went through a lot of the code involved adding comments,
	  as it was really hard following what was going on.  This involved
	  the infamously dense "_papi_hwi_remap_event_position()" function
	  too.

	* src/papi.h: Moved cpu and inherit bits to end of structure for
	  compat across all 4.x lines.	Found by Will Cohen.

	  As it turns out, I ended up reviewing the CPU_ATTACH changes; I
	  had not done so before. This functionality actually belongs in
	  PAPI_set_granularity. A CPU is a natural unit of granularity of
	  counting, and that value was speced in papi.h a long time ago.
	  Right thing to do here is leave the current attach stuff but make
	  it work as part of set_granularity.

	  Consider that a TODO for 4.3.

2011-10-04

	* doc/: Doxyfile, Doxyfile-everything: Enable macro expansion in
	  the doxygen preprocessor step.

	  Doxygen was not creating docs for the fortran functions and I
	  believe it is because it was silently choking on our clever
	  preprocessor abuse; this fixes? that.  However, its worth taking
	  a critical eye to the generated pages again.

	* src/: papi.c, papi_fwrappers.c, papi_hl.c: make "* #include" into
	  "* \#include" so doxygen doesn't treat it as a command.

	* src/papi_fwrappers.c: Added all doxygen stubs to the PAPIF group.

2011-10-03

	* src/ctests/ipc.c: My previous "fix" for the array bounds issue in
	  ipc.c had multiple embarassing bugs.

	  Thanks to Will Cohen for noticing.  Things should be better now.

	* src/: Rules.perfctr-pfm, Rules.pfm_pe: Additionally remove the
	  now extraneous papi_libpfm_preset definition from the other Rules
	  files too.

	* src/: Makefile.inc, Rules.pfm4_pe: The change to make the preset
	  code generic accidentally ended up defining the build rules for
	  the file in duplicate places.  This fixes that.

2011-09-30

	* src/: linux-common.c, utils/decode.c: Fix two unused variable
	  warnings.

	* src/ctests/second.c: We were allocating the "values" array but
	  never freeing it.

	* src/ctests/: sdsc2.c, sdsc4.c: The SDSC tests could walk off the
	  end of an array.

	* src/ctests/overflow_twoevents.c: We could potentially access
	  outside an array boundary in overflow_twoevents.

	* src/ctests/ipc.c: ipc was also abusing array boundaries.

	* src/ctests/flops.c: The flops.c ctest was abusing the notion of C
	  arrays, by writing INDEX*INDEX values to mresult[0][i], I suppose
	  "knowing" that this would fill in the whole array.  Fix things to
	  use an additional iterator.

	* src/ctests/byte_profile.c: The coverity checker rightly points
	  out that the last argument to strncat should be buffersize-1.

	* src/ctests/: exeinfo.c, shlib.c: Coverity flagged that there were
	  some tests that had no effect. In particular the are tests that
	  the pointers are non-null. However, they are arrays rather than
	  pointers. This patch make it clear that arrays are being used in
	  the code.

	  Patch from Will Cohen at redhat

	* src/ctests/clockcore.c: This is a relatively minor patch that
	  ensures that all the allocated memory is initialized to zero
	  before it is used.  Coverity might not be smart enough to
	  determine whether the test actually wrote into all the locations
	  because of the case statement. This is make it easier for
	  coverity to determine that the memory has been initialized.

	  Path from Will Cohen at redhat.

	* src/multiplex.c: Coverity scan showed that MPX_cleanup() function
	  was blindly accessing a value through a pointer and then checking
	  to see that the pointer was null.  This patch makes sure that the
	  pointer is checked before it is used.

	  Patch from Will Cohen at redhat.

	* src/ctests/: pthrtough.c, pthrtough2.c: Coverity found that the
	  sizeof argument for pthrtough2.c and pthrtough.c was using
	  sizeof(pthread *) rather than sizeof(pthread). This patch fixes
	  that problem.

	  Patch from Will Cohen at redhat

	* src/papi_internal.c: This change moves the setting for default
	  domain to be enforced at eventset add time, rather than eventset
	  creation time.

	  This fixes some problems seen when multiplexing.

	  The patch was provided by Phil Mucci.

	* src/pmapi-ppc64.h: One more file that is no longer needed.

	* src/: configure, configure.in, perfctr.c, pmapi-ppc64_events.c,
	  ppc64_events.c: Clean up the now not-needed pmapi-ppc64_events.c
	  file.

	* src/: Makefile.inc, aix.c, aix.h, configure, configure.in,
	  papi_libpfm_presets.c: Finalize the merge of the preset code.

	* src/aix.c: Fix a missing include.

	* src/: aix.c, configure, configure.in: Move more code to its
	  proper place.

	* src/: aix.c, configure, configure.in, pmapi-ppc64.c,
	  pmapi-ppc64_events.c, ppc64_events.c: Move the
	  ppc64_setup_native_table() routines out of the preset code.

	  This is complicated, as there are two very similar routines
	  setup_ppc64_native_table() used by AIX/pmapi and
	  ppc64_setup_native_table() used by perfctr

	  These could probably be merged too, but this is definitely not
	  the time.

	* src/: aix.c, papi_libpfm_presets.c, pmapi-ppc64_events.c: move
	  pmapi_find_full_event to be _aix_ntv_name_to_code() as it
	  probably always should have been.

	* src/: papi_libpfm_presets.c, papi_setup_presets.h,
	  pmapi-ppc64_events.c: Make papi_libpfm_presets more generic by
	  calling    _papi_hwi_native_name_to_code() rather than a
	  substrate-specific call.

	* src/: aix.c, papi_libpfm_presets.c, pmapi-ppc64_events.c: I was
	  mainly doing this to aid debugging, but now the
	  papi_libpfm_presets.c file and pmapi-ppc64_events.c file are
	  close enough to being identical I might try to merge them.

2011-09-29

	* src/: papi_libpfm_presets.c, pmapi-ppc64_events.c,
	  ppc64_events.h: The files are almost the same now.

	* src/: papi_libpfm_presets.c, pmapi-ppc64_events.c: More making
	  these files the same, including some memory leak fixes that made
	  it to the former but not the latter.

	* src/: papi_libpfm_presets.c, pmapi-ppc64_events.c: Tracking down
	  problems on AIX can be a bit of a pain because
	  papi_libpfm_presets.c and pmapi-ppc64_events.c are almost (but
	  not quite)   the same.  This change makes the files more similar,
	  mostly by   cleaning up whitespace and normalizing comments and
	  debugging statements	 between the two.

	* src/pmapi-ppc64_events.c: Ugh, obvious typo in that last commit.

	* src/pmapi-ppc64_events.c: In ppc64_setup_gps() the current code
	  sometimes walks off the end of the group array and trashes
	  unrelated memory.

	  Until we work out the proper fix, this prints an error message
	  and stops the loop before memory is corrupted.

	* src/papi_data.h: No one seems to remember the last time this file
	  was used, so let's remove it.

2011-09-28

	* src/Makefile.inc: Remove the "u" option to the "ar" command that
	  links libpapi.a, as it was breaking the build on MIPS.

	  This *shouldn't* break anything, but messing around with "ar"
	  options can be potentially dangerous.  I'll double-check the
	  non-Linux builds.

	* src/libpfm4/lib/: Makefile, pfmlib_mips_priv.h,
	  events/intel_nhm_events.h, events/intel_wsm_events.h: Fix up the
	  "collisions" from the libpfm4 import

2011-09-26

	* src/Makefile.inc: We would like to use parallel make on packages
	  to speed things up. However, when this was tried with papi the
	  "make -j4" failed
	  (https://bugzilla.redhat.com/show_bug.cgi?id=740909). I took a
	  look through the code and found that some of dependencies were
	  not quite right. Turns out that $(papiLIBS) is substituted during
	  the configure, but it isn't available for the actual make.
	  Attached is the patch that ensures that the $(LIBS) are built
	  before utils and tests.

	  Patch from Will Cohen <wcohen at redhat.com>

	* src/run_tests.sh: Modify run_tests.sh so that you can set the
	  VALGRIND command externally via environment variable without
	  having to edit run_tests.sh itself.

	  Also adds Date and cpuinfo information to the beginning of
	  run_tests.sh results.  This can help when run run_tests.sh output
	  is passed around when debugging a problem.

	  Patch from Phil Mucci

	* src/: configure, configure.in: If we have no Fortran compiler
	  available, then our current build system tries to build the
	  Fortran examples with an empty compiler string which just
	  generates strange errors.

	  This patch changes F77 to be "echo" which at least avoids the
	  errors.  The proper fix is probably just not to build the Fortran
	  samples if no compiler is available.

	  Patch from Phil Mucci

	* src/papi_libpfm4_events.c: The build on power6 was warning in a
	  DEBUG statement because sizeof() returns an int rather than a
	  long.  So use a cast to avoid this.

	* src/perf_events.c: The move to use pid_t for pid values caused
	  warnings on a --with-debug build due to the lack of a way to
	  print a pid_t value without a cast.

	  This fix adds the proper casts.

2011-09-23

	* src/papi_libpfm4_events.c: Rename the "perfmon_idx" structure
	  field the more evocative "libpfm4_idx" value.

	  Patch from Phil Mucci

	* src/ctests/all_native_events.c: Fix problem where we were passing
	  a pointer to an EventSet rather than the actual EventSet number
	  to PAPI_cleanup_eventset().

	  Also include some of the cleanups from Phil Mucci's MIPS tree.

	* src/: perf_events.c, perf_events.h: Make the perf_event ctl
	  structure have more explicit data types.

	  Patch from Philip Mucci

	* src/: cycle.h, linux-common.c, linux-context.h, linux-lock.h,
	  linux-timer.c, mb.h, papi.h: Add bare minimal MIPS74k support,
	  enough to compile.

	  Patch from Philip Mucci

	* src/papi_events.csv: Add MIPS 74k pre-defined events

	  Patch by Philip Mucci

2011-09-22

	* src/ctests/all_native_events.c: Heike's cleanup_eventset work
	  allows the calling of PAPI_cleanup_eventset with cuda, so
	  uncomment the eventset cleanup code in all_native_events.

	* src/papi.h: Update papi.h to properly detect if being built with
	  a C99 compiler.

	* src/papi_events.csv: Update PAPI_FP_INS event name on amd_fam14h
	  as it was changed in the most recent libpfm4 merge

	* src/libpfm4/: README, config.mk, docs/Makefile,
	  docs/man3/pfm_get_event_info.3, examples/Makefile,
	  examples/showevtinfo.c, include/Makefile,
	  include/perfmon/perf_event.h, lib/Makefile, lib/pfmlib_common.c,
	  lib/pfmlib_gen_mips64_priv.h, lib/pfmlib_mips.c,
	  lib/pfmlib_mips_74k.c, lib/pfmlib_mips_perf_event.c,
	  lib/pfmlib_mips_priv.h, lib/pfmlib_perf_event_pmu.c,
	  lib/pfmlib_priv.h, lib/events/intel_atom_events.h,
	  lib/events/intel_core_events.h, lib/events/intel_nhm_events.h,
	  lib/events/intel_snb_events.h, lib/events/intel_wsm_events.h: Fix
	  the "conflicts" from the libpfm4 git import

	* src/libpfm4/: docs/man3/libpfm_mips_74k.3, tests/validate_arm.c,
	  tests/validate_mips.c: Initial revision

2011-09-21

	* src/multiplex.c: Fix problem where we were freeing a
	  singly-linked list in a for loop, possibly free()ing the
	  allocation before dereferencing ->next

	  Problem reported by coverity tool, via Will Cohen

	* src/utils/cost.c: Fixed uninitialized data problem in papi_cost

	  Problem reported by coverity tool, via Will Cohen

	* src/papi_internal.c: Fix problem where we were copying around
	  chunks of memory that were not initialized yet.

	  Problem reported by coverity tool, via Will Cohen

	* src/multiplex.c: Fix two cases where we were dereferencing a
	  pointer without checking for NULL.

	  Problem reported by coverity tool, via Will Cohen

	* src/linux-memory.c: We were opening files but not properly
	  closing them if we returned early with an error condition.

	  Problem reported by coverity tool, via Will Cohen

	* src/linux-common.c: The coverity tool noticed that we allocate
	  and populate a cpu node info structure, but we never pass any
	  info on this structure outside of the cpu detection routine, in
	  effect leaking the allocation.

	  For now just comment out this code as it is not used by anyone.

	  Problem reported by coverity tool, via Will Cohen

	* src/: papi.c, papi_libpfm3_events.c, perfctr-x86.c: The coverity
	  checker was reporting we forgot to fclose() /proc/cpuinfo in
	  papi.c

	  The bigger question, is why were we unconditionally trying to
	  open /proc/cpuinfo in generic code in papi.c anyway?

	  Turns out it was to set the event masks properly for itanium and
	  p4.

	  The platform code sets CPU vendor and family for us though, so if
	  we just make the event mask code use those values then we don't
	  have to open cpuinfo.  This also means that non-Linux users with
	  the misfortune of running on a P4 might actually work too.

	* src/: papi_internal.c, papi_libpfm_presets.c: In various places
	  we were using MAX_COUNTER_TERMS (defined by substrate) rather
	  than PAPI_MAX_COUNTER_TERMS (a papi predefined event define).
	  This could cause buffer overruns.

	  This fixes things, though really we shouldn't have such similar
	  names for different defines.

	  Problem reported by coverity tool, via Will Cohen

	* src/multiplex.c: Avoid case where we could have been
	  dereferencing a NULL pointer in MPX_stop()

	  Reported by coverity tool, via Will Cohen

	* src/papi.c: Fix problem where thread and cpu could be
	  dereferenced as NULL in PAPI_start()

	  Reported by coverity tool, via Will Cohen

	* src/papi_events.csv: Update the AMD Family 14h (Bobcat)
	  pre-defined events.

	  It turns out they are different enough from 10h that they need
	  their own category.

	  In going through the Fam14h BKDG it turns out that Bobcat has a
	  really nice set of events available, especially for
	  Floating-Point/SSE but also memory bandwidth.

	  With this change, all of the ctests pass on a Bobcat machine.

	* src/: configure, configure.in: Recent Ubuntu versions use the ld
	  flag --as-needed by default.

	  This breaks the PAPI configure step for the libdl check, as the
	  --as-needed flag enforces the rule that libraries (in this case
	  -ldl)   must come after the object files on the command line, not
	  before.

	  The fix for this is easy, the libdl check was wrongly sticking
	  -ldl in LDFLAGS rather than in LIBS.	Putting it in LIBS   makes
	  things work as expected.

	  You can see here:
	  http://www.gentoo.org/proj/en/qa/asneeded.xml

	  For more info on this issue than you probably ever want to know.

2011-09-19

	* src/: ctests/Makefile, ftests/Makefile, utils/Makefile: When
	  building testlib dependencies from ctests/ ftests/ and utils/
	  call $(MAKE) and not make, this should fix aix.

2011-09-14

	* src/: aix.c, freebsd.c, linux-bgp.c, papi_vector.c,
	  perf_events.c, perfctr-ppc64.c, perfctr-x86.c, perfmon-ia64.c,
	  perfmon.c, solaris-niagara2.c, solaris-ultra.c,
	  components/acpi/linux-acpi.c,
	  components/coretemp/linux-coretemp.c,
	  components/coretemp_freebsd/coretemp_freebsd.c,
	  components/example/example.c,
	  components/infiniband/linux-infiniband.c,
	  components/lmsensors/linux-lmsensors.c,
	  components/lustre/linux-lustre.c, components/mx/linux-mx.c,
	  components/net/linux-net.c, win2k/substrate/win32.c,
	  win2k/substrate/winpmc-p3.c: Change initialization of function
	  pointer cleanup_eventset() from vec_int_dummy to vec_int_ok_dummy
	  so that it returns PAPI_OK by default. Roll back initialization
	  for every substrate. AGAIN, keep an eye on builtbot.

	* src/libpfm4/lib/: pfmlib_mips.c, pfmlib_mips_74k.c,
	  pfmlib_mips_perf_event.c, pfmlib_mips_priv.h,
	  events/mips_74k_events.h: Merged with HEAD, still passing all
	  tests

2011-09-13

	* src/papi_libpfm4_events.c: The libpfm4 code was doing a full call
	  to	pfm_get_os_event_encoding() during every call to
	  update_control_state().

	  This is unnecessary, as we can call pfm_get_os_event_encoding()
	  once	 at event creation time and cache the results.	There's no
	  need	 to call it each update_control_state(), as that is called
	   during PAPI_start() and thus relatively time critical.

	* src/run_tests.sh: Missed a $

	* src/: run_tests.sh, components/example/tests/HelloWorld.c: Update
	  run_tests.sh to run component tests, and update the example test
	  to act more like a ctest.

	* src/components/example/example.c: Fix warnings generated by the
	  example component.

	* src/: Makefile.inc, components/Makefile_comp_tests,
	  ctests/Makefile, ctests/do_loops.c, ctests/dummy.c,
	  ctests/papi_test.h, ctests/test_utils.c, ctests/test_utils.h,
	  ftests/Makefile, testlib/Makefile, testlib/do_loops.c,
	  testlib/dummy.c, testlib/papi_test.h, testlib/test_utils.c,
	  testlib/test_utils.h, utils/Makefile: ctests, ftests, utils, and
	  the component tests were all using some files in ctests.

	  These weren't being built when --with-no-cpu-counters was
	  enabled, so the PAPI build was breaking when that was enabled as
	  well as a component.

	  Move the shared files to their own directory, testlib Then update
	  all the users to look in the right place.

	  After this commit you might need to do a "cvs -d update" to make
	  sure you get the new subdirectory.

	* src/: configure, configure.in: When compiling with
	  --with-no-cpu-counters configure would report the platform as
	  linux-perfctr-x86.  This changes it to report as
	  linux-no-counters

2011-09-12

	* src/: aix.c, freebsd.c, linux-bgp.c, perf_events.c,
	  perfctr-ppc64.c, perfctr-x86.c, perfmon-ia64.c, perfmon.c,
	  solaris-niagara2.c, solaris-ultra.c,
	  components/acpi/linux-acpi.c,
	  components/coretemp/linux-coretemp.c,
	  components/coretemp_freebsd/coretemp_freebsd.c,
	  components/example/example.c,
	  components/infiniband/linux-infiniband.c,
	  components/lmsensors/linux-lmsensors.c,
	  components/lustre/linux-lustre.c, components/mx/linux-mx.c,
	  components/net/linux-net.c, win2k/substrate/win32.c,
	  win2k/substrate/winpmc-p3.c: Initialize new function pointer
	  cleanup_eventset() for every substrate. Keep an eye on builtbot.

	* src/components/cuda/: linux-cuda.c, linux-cuda.h: Cannot override
	  void* definitions from PAPI framework layer (e.g.
	  hwd_control_state_t) with typedefs to conform to PAPI Component
	  layer code if this technique has already been used in another
	  substrate (e.g. perfctr-x86). Or short: #undef and typedef can't
	  be done twice.

	* src/perf_events.c: Fix bug caused by forgetting to drop the
	  stream name when converting a fprintf() into a SUBDBG()

	* src/papi_libpfm_presets.c: Patch from William Cohen fixing a
	  potential problem found by a static analysis tool where we could
	  possibly pass a NULL pointer to free_notes().

	* src/papi_libpfm_presets.c: Some memory leak fixes made to libpfm3
	  papi_pfm_events.c by Robert Richter were lost when the
	  libpfm4/libpfm4 presets merge was done.

	  This re-applies these fixes.

2011-09-10

	* src/run_tests.sh: Cleaned up old comment regarding CUDA pre-4.0
	  when it was not possible to access a GPU from multiple CPU
	  threads.

	* src/: papi.c, papi_protos.h, papi_vector.c, papi_vector.h,
	  components/README, components/cuda/linux-cuda.c,
	  components/cuda/linux-cuda.h: Deleted function pointer
	  destroy_eventset from the PAPI vector table, and added
	  cleanup_eventset instead. PAPI_destroy_eventset() requires an
	  empty EventSet. Hence, usually PAPI_cleanup_eventset() is called
	  before PAPI_destroy_eventset(); which also sets the CompIdx to
	  -1. This means, PAPI_destroy_eventset() won't have any knowledge
	  about components. However, in order to disable CUDA eventGroups
	  and to free perfmon hardware on the GPU, knowledge about the CUDA
	  component index is required. Hence, I replaced
	  CUDA_destroy_eventset() with CUDA_cleanup_eventset() in the CUDA
	  component. NOTE: Please make sure you call
	  PAPI_cleanup_eventset() before calling PAPI_shutdown().

2011-09-09

	* src/: papi_protos.h, papi_vector.c, papi_vector.h,
	  components/cuda/linux-cuda.c, components/cuda/linux-cuda.h: CUDA
	  component is now thread-safe. Starting in CUDA 4.0, multiple CPU
	  threads can access the same CUDA context. This is a much easier
	  programming model then pre-4.0 as threads - using the same CUDA
	  context - can share memory, data, etc. Note, it's possible to
	  create a different CUDA context for each thread, but then we are
	  likely running into a limitation that only one context can be
	  profiled at a time.

2011-09-07

	* src/ctests/: do_loops.c, test_utils.c: Apply fixes to problems
	  noticed by a static analysis tool.

	  Provided by William Cohen at RedHat

	* src/papi_events.csv: Update SandyBridge preset events.

	  These were provided by Michel Brown at Bull

	* src/libpfm4/lib/: pfmlib_gen_mips64.c, pfmlib_mips.c,
	  pfmlib_mips_74k.c, pfmlib_mips_perf_event.c, pfmlib_mips_priv.h,
	  events/gen_mips64_events.h, events/mips_74k_events.h: MIPS 74K
	  little endian perf event support, requires 3.0.3+ kernel

2011-09-06

	* src/perf_events.c: The warning I had print on nmi_watchdog being
	  found was a bit much, make it a SUBDBG() call instead.

	  I do wish there were a way to notify the user more visibly,
	  because losing a counter (when you might only have 4 total to
	  begin with) is a big deal, and most Linux vendors are starting to
	  ship kernels with the nmi_watchdog enabled.

	* src/: linux-common.c, linux-common.h, perf_events.c: On newer
	  Linux kernels (2.6.34+) the nmi_watchdog counter can	 steal one
	  of the counters, reducing by one the total available.

	  There's a bug in Linux where if you try to use the full number of
	    counters on such a system with a group leader, the
	  sys_perf_open()   call will succeed only to fail at read time.
	  (instead of the proper   error code at open time).

	  This patch attempts to work around this issue by detecting if   a
	  watchdog timer is being used, and in that case re-use the
	  existing KERNEL_CHECKS_SCHEDUABILITY_UPON_OPEN bugfix code.

	* src/papi_events.csv: We were missing a proper libpfm4 interlagos
	  CPU name in the papi_events.csv file

2011-09-02

	* src/libpfm4/: include/perfmon/perf_event.h, lib/Makefile,
	  lib/pfmlib_intel_nhm_unc.c, lib/pfmlib_intel_x86.c,
	  lib/pfmlib_intel_x86_priv.h, lib/pfmlib_priv.h,
	  lib/events/amd64_events_fam10h.h, lib/events/amd64_events_k7.h,
	  lib/events/amd64_events_k8.h, lib/events/intel_atom_events.h,
	  lib/events/intel_core_events.h,
	  lib/events/intel_coreduo_events.h, lib/events/intel_nhm_events.h,
	  lib/events/intel_nhm_unc_events.h, lib/events/intel_p6_events.h,
	  lib/events/intel_snb_events.h, lib/events/intel_wsm_events.h,
	  lib/events/intel_wsm_unc_events.h,
	  lib/events/intel_x86_arch_events.h: Fix "conflicts" from the
	  libpfm4 import

	* src/papi_libpfm4_events.c: Explicitly set num_native_events to
	  zero at init time.

	  Somehow the value was surviving fork/exec and making the
	  fork/exec test cases fail on a recent Debian system.

	* src/perf_events.c: Set FD_CLOEXEC on the overflow signal handler
	  fd.

	  Otherwise if we exec() with overflow enabled, the exec'd process
	  will quickly die due to lack of signal handler.

	  This patch is needed due to a change in behavior in Linux 3.0.

	  Mark Krentel first noticed this problem.

	* src/: Rules.perfctr-pfm, Rules.pfm, Rules.pfm4_pe, Rules.pfm_pe:
	  Remove the "unexport CFLAGS" lines from the Rules files.

	* src/: multiplex.c, papi_internal.c, utils/component.c: Fix a few
	  warnings reported by gcc-4.6

	* src/: configure, configure.in: Override auto-detection of
	  substrate if the user specifies what they want to build with.
	  This allows building perfctr and perfmon2 PAPI on systems
	  auto-detected as having perf_event support.

	* src/: configure, configure.in: Add a "--with-libpfm3" argument to
	  configure that lets us specify libpfm3 for testing purposes.

	* src/solaris-niagara2.c: Fix solaris niagara2 build problems
	  reported by tigrage on the PAPI forum.

2011-08-30

	* src/configure: Regen

2011-08-29

	* src/configure.in: Check for a requested interface to tweak build
	  flags

	* src/: configure, configure.in: Last bit for cross compiling...

	* src/: configure, configure.in: Better double quotes

	* src/: configure, configure.in: There can be only 1. (choice of
	  perfctr, perfmon or perf events)

	* src/: configure, configure.in: Further refinement of the
	  combinations of --with-perfctr --with-perfmon and
	  --with-perf-events

	  True autotools cross not yet supported until we move to automake.

	  I did trick it into doing a cross compile with...  # ARCH=mips
	  CC=scgcc ./configure --with-arch=mips
	  --host=mips64el-gentoo-linux-gnu- --with-ffsll --with-libpfm4 --w
	  ith-perf-events --with-virtualtimer=times
	  --with-walltimer=gettimeofday --with-tls=__thread --with-CPU=mips
	  # cross compiling should work differently...

	  Wow, do I hate specifying mips in 3 places...

	* src/: config.h.in, configure, configure.in: Some fixes for cross
	  compiling and not including x86_cache_info.c when not ensured an
	  x86.

	* src/Makefile.inc: Surround component tests and cleanup recipies
	  with a conditional, the version of sh that our aix machine has
	  does not handle	   for i in {Empty set};

	  treating it as a syntax error.

	  NOTE: This requires gnu make, my shell-foo couldn't make sh
	  happy, so for now gnu conditionals!

	* ChangeLogP414.txt, RELEASENOTES.txt: Update Release Notes and add
	  ChangeLog for PAPI 4.1.4.

	* src/configure: Rebuild from configure.in with version number bump
	  to 4.1.4 in advance of pending internal vendor release for Cray.

2012-02-13

	* src/components/net/linux-net.c: Repairing more coverity warnings.

2012-02-11

	* src/windows-common.c: Missed an instance of CPUs yesterday.

	* src/: papi_internal.c, threads.c: This changes fixes two race
	  conditions that are probably the cause of the pthrtough
	  double-free error.

	  When freeing a thread, we remove and free all eventsets belonging
	  to that thread.  This could race with the thread itself removing
	  the evenset, causing some ESI fields to be freed twice.

	  The problem was found by using the Valgrind 3.8 Helgrind tool

	    valgrind --tool=helgrind --free-is-write=yes ctests/pthrtough

	  In order for Helgrind to work, I had to temporarily modify PAPI
	  to use POSIX pthread mutexes for locking.  Is there any reason we
	  don't use these all the time?

2012-02-10

	* src/utils/: avail.c, component.c, event_chooser.c,
	  native_avail.c: ix one more case of "CPU's" in the print header
	  code.

	  Also remove the extraneous	The following correspond to fields
	  in the PAPI_event_info_t structure.  message

	* src/: testlib/papi_test.h, testlib/test_utils.c,
	  ctests/all_native_events.c, ctests/calibrate.c,
	  ctests/code2name.c, ctests/hwinfo.c: Fix one more case of "CPU's"
	  in the print header code.

	  Also remove the extraneous	The following correspond to fields
	  in the PAPI_event_info_t structure.  message

	* src/buildbot_configure_with_components.sh: take infiniband out of
	  the buildbot test.

	* src/: x86_cache_info.c, components/coretemp/linux-coretemp.c,
	  components/lmsensors/linux-lmsensors.c,
	  components/lustre/linux-lustre.c, components/net/linux-net.c,
	  utils/event_chooser.c: Fix coverity errors reported by Will
	  Cohen.

	* src/: aix.c, any-proc-null.c, linux-common.c, papi.c, papi.h,
	  papivi.h, solaris-niagara2.c, solaris-ultra.c,
	  ctests/clockres_pthreads.c: Address Redhat bug 785975.  The
	  plural of CPU appears to be CPUs

	* src/Makefile.inc: Patch to cleanup dependencies, allowing for
	  parallel makes.  Patch due to Will Cohen from redhat

2012-02-09

	* src/buildbot_configure_with_components.sh: Add infiniband and mx
	  component to buildbot component tests.

	* src/components/net/tests/: net_values_by_code.c,
	  net_values_by_name.c: Apply patch suggested by Will Cohen to
	  check for system return values.

	* src/components/lmsensors/linux-lmsensors.h: Added missing string
	  header

2012-02-08

	* man/... : update man pages one more time for 4.2.1
	  release

	* release_procedure.txt: Make sure generated html has papi group
	  id.

2012-02-07

	* src/multiplex.c: Fix the @file matching multiple files warning.

	* src/components/README: Cleanup doxygen errors.

	* doc/Doxyfile-html: Typo introduced by the last commit.

	* doc/Doxyfile-html: Exclude linux-bgp.c from doxygen.

	* doc/Doxyfile-html: Make sure the component README file gets
	  included in doxygen.

	* src/components/coretemp_freebsd/coretemp_freebsd.c: Cleanup
	  doxygen warnings in freebsd coretemp component.

	* src/papi.h: Cleanup some doxygen warnings related to the
	  groupings.

	* src/components/example/example.c: fix doxygen warning in the
	  example component

	* doc/Doxyfile-html: Remove some cruft from doxygen config file.

	  This addresses the warning about dot not found at /sw/bin/dot .

	* src/components/: infiniband/linux-infiniband.c,
	  infiniband/linux-infiniband.h, cuda/linux-cuda.c,
	  cuda/linux-cuda.h: Cleaned up some doxygen issues

	* src/components/lmsensors/linux-lmsensors.c: Removed long
	  forgotten debug outputs

	* src/papi_libpfm4_events.c: Fix minor doxygen typos.

	* src/components/vmware/vmware.c: Add params for doxygen

	* man/... : update man pages

2012-02-06

	* doc/Doxyfile-man1: Fix a typo in a doxygen config file.

2012-02-03

	* release_procedure.txt, doc/Doxyfile, doc/Doxyfile-everything,
	  doc/Doxyfile-html, doc/Doxyfile.utils, doc/Doxyfile-man1,
	  doc/Doxyfile-man3, doc/Makefile, doc/doxygen_procedure.txt:
	  Rework the doxygen configuration files.

	* RELEASENOTES.txt: Update for the impending release.

	* ChangeLogP421.txt, RELEASENOTES.txt: Updates for the impending
	  release.

2012-02-02

	* src/: papi.c, papi.h: Minor tweaks for doxygen errors

2012-02-01

	* src/components/lmsensors/: Rules.lmsensors, configure.in: Fixed
	  configure error message and rules link error for shared object
	  linking. Thanks Will Cohen.

	* src/components/appio/Rules.appio: Correct pathing

	* src/ctests/api.c: One minor tiny fix to check for PAPI_ENOEVNT
	  when testing PAPI_flops. If PAPI_FP_OPS does not exist on the
	  processor (like many of em), then this tests fails.

2012-01-31

	* src/ctests/multiattach.c: Increase acceptance criteria for
	  cycles.

	* src/Makefile.in, src/configure, src/configure.in, src/papi.h,
	  doc/Doxyfile, doc/Doxyfile-everything, doc/Doxyfile.utils,
	  papi.spec: Update version number to 4.2.1 in preparation for
	  release.

	* src/ctests/prof_utils.c: Correct a warning on 32bit builds about
	  casting caddr_t to (long long)

	  Specifically: prof_utils.c:234: warning: cast from pointer to
	  integer of different size prof_utils.c:248: warning: cast from
	  pointer to integer of different size prof_utils.c:262: warning:
	  cast from pointer to integer of different size

	  We first cast to unsigned long and then on to long long.  ( This
	  maybe overkill, but its for a printf format string )

2012-01-30

	* release_procedure.txt: Add the correct path for doxygen on ICL
	  machines.

	* src/papi_events.csv: Modify Intel Sandybridge PAPI_FP_OPS and
	  PAPI_FP_INS events to not count x87 fp instructions.

	  The problem is that the current predefines were made by adding 5
	  events.  With the NMI watchdog stealing an event and/or
	  hyperthreading reducing the numbr of available counters by half,
	  we just couldn't fit.

	  This now raises the potential for people using x87-compiled
	  floating point on Sandybridge and getting 0 FP_OPS.  This is only
	  likely if running a 32-bit kernel and *not* compiling your code
	  with -msse.

	  A long-term solution might be trying to find a better set of FP
	  predefines for sandybridge.

	* src/components/: lustre/linux-lustre.c, mx/linux-mx.c: Some
	  really minor cleanups to the lustre and mx components.

2012-01-28

	* src/components/example/: example.c, tests/example_basic.c: Update
	  example component

	  Cleans up code, adds some more documentation, adds counter write
	  support.

2012-01-27

	* src/papi_user_events.c: Minor cleanups for user events.

	* src/libpfm4/: README, include/perfmon/pfmlib.h, lib/Makefile,
	  lib/pfmlib_amd64.c, lib/pfmlib_common.c, lib/pfmlib_priv.h: Fix
	  "conflicts" in git import of libpfm4.

	* src/libpfm4/lib/: pfmlib_amd64_fam11h.c,
	  events/amd64_events_fam11h.h: Initial revision

2012-01-26

	* src/papi_fwrappers.c: Escape the include directives in the
	  documentation.

	  (Cleans up doxygen )

	* src/components/README: Adding vmware to component README

	* src/components/vmware/: Makefile.vmware.in,
	  PAPI-VMwareComponentDocument.pdf, Rules.vmware,
	  VMwareComponentDocument.txt, configure, configure.in, vmware.c,
	  vmware.h: merge vmware branch to head

	* src/perf_events.c: Set fast_counter_read back to 0 on x86/x86_64
	  perf_events, as currently rdpmc counter access is not supported.

	  There are patches floating around that enable this (although
	  performance is still a long way from perfctr) but they will  not
	  likely be merged for a while now, and the perf_events substrate
	  will require a lot of extra code to support it once it does make
	  it into a shipping kernel.

	* src/buildbot_configure_with_components.sh: Remove acpi from the
	  buildbot configure script.

2012-01-25

	* src/components/mx/: Makefile.mx.in, Rules.mx, configure,
	  configure.in, linux-mx.c, linux-mx.h, tests/Makefile,
	  tests/mx_basic.c, tests/mx_elapsed.c, utils/fake_mx_counters.c,
	  utils/sample_output: Re-write of the MX component

	  + Add tests + Modernize code + Remove the need to run ./configure
	  in the mx directory + Add fake mx_counters program that lets you
	  test component   on machine without myrinet installed

	* src/components/: README, acpi/Rules.acpi,
	  acpi/linux-acpi-memory.c, acpi/linux-acpi.c, acpi/linux-acpi.h:
	  Remove the ACPI component.

	  It was one of the oldest components and needed a lot of cleanup
	  work, and it turns out that the main useful event it provided
	  (temperature) isn't available on modern machines/kernels
	  (coretemp should be used instead).

2012-01-23

	* src/perf_events.c: Restored Phil's changes that I inadvertently
	  clobbered with my last commit :(

	* src/perf_events.c: Remove a warning about an uninitialized
	  variable.

	* src/utils/: component.c, event_info.c, native_avail.c: Update the
	  Doxygen comments on these utilities to have the command line
	  options listed in a list like the other utils.

	* src/perf_events.c: More improvements to the read path for
	  multiplexed counters. Now the case for bad kernel behavior is
	  built in, and is not required with a #define.

	  Basically, there are situations when either enabled or running is
	  zero but not both. This could result in a divide by 0 in the
	  worst case, as was observed by Tushar Mohan in papiex. You could
	  trigger it by doing a read immediately after doing a start with
	  perf events and use a FORMAT_SCALE argument.

	  Now the logic goes, assuming mpxing.

	  1) if (running=enabled)	  return raw counter 2) if (running
	  && enabled)	scale counter by ratio 3) else	warn in debug mode
	      return raw counter

	  Apparently we need a test case that does a read immediately after
	  a start.  That's a hole.

	  Tested on brutus, core2 2.6.36

	  Here's the original report.  ------------------- Model string and
	  code	       : Intel(R) Pentium(R) M processor 1600MHz (9) Linux
	  thinkpad 2.6.38-02063808-generic #201106040910 SMP Sat Jun 4
	  10:51:30 UTC 2011 i686 GNU/Linux PAPI Version: 4.2.0.0

	  I think I ran into a bug similar to what we ran with MIPS.

	  With the latest PAPI (from CVS), on an x86 (32-bit machine), when
	  using papiex with multiplex with anything more than two events, I
	  get a floating point exception in PAPI during the PAPI_read call.
	  On enabling debugging in the substrate, I think the problem is
	  the same (namely a division by zero, because some event had a
	  zero time of running):

	  libpapiex debug: 24625,0x0,papiex_thread_init_routine Starting
	  counters with PAPI_start
	  SUBSTRATE:perf_events.c:pe_enable_counters:953:24625
	  ioctl(enable): ctx: 0x96a4bc8, fd: 3
	  SUBSTRATE:perf_events.c:pe_enable_counters:953:24625
	  ioctl(enable): ctx: 0x96a4bc8, fd: 5 libpapiex debug:
	  24625,0x0,papiex_thread_init_routine Calling PAPI_lock before
	  critical section libpapiex debug:
	  24625,0x0,papiex_thread_init_routine Released PAPI lock libpapiex
	  debug: 24625,0x0,papiex_start START POINT 0 LABEL libpapiex
	  debug: 24625,0x0,papiex_start Reading counters (PAPI_read) to get
	  initial counts SUBSTRATE:perf_events.c:_papi_pe_read:1147:24625
	  read: fd:  3, tid: 0, cpu: -1, ret: 56
	  SUBSTRATE:perf_events.c:_papi_pe_read:1148:24625 read: 2 1341021
	  1341021 SUBSTRATE:perf_events.c:_papi_pe_read:1181:24625
	  (papi_pe_buffer[3] 33405 * tot_time_enabled 1341021) /
	  tot_time_running 1341021
	  SUBSTRATE:perf_events.c:_papi_pe_read:1181:24625
	  (papi_pe_buffer[5] 44552 * tot_time_enabled 1341021) /
	  tot_time_running 1341021
	  SUBSTRATE:perf_events.c:_papi_pe_read:1147:24625 read: fd:  5,
	  tid: 0, cpu: -1, ret: 40
	  SUBSTRATE:perf_events.c:_papi_pe_read:1148:24625 read: 1 214777 0
	  SUBSTRATE:perf_events.c:_papi_pe_read:1181:24625
	  (papi_pe_buffer[3] 0 * tot_time_enabled 214777) /
	  tot_time_running 0

	  The above debug log is for three events: PAPI_TOT_CYC,
	  PAPI_TOT_INS and PAPI_L1_DCM. Multiplexing works with two events.
	  Adding the third (any event), gives this error. Basically, the
	  floating point exception kills the program, and PAPI_read never
	  returns.

	  I think I know why papiex always hits this bug: It's because
	  right after starting the counters with PAPI_start, papiex does a
	  PAPI_read to store the initial values of the counters in a tmp
	  variable. These are then subtracted from the final counter
	  values. Should we put a deliberate delay? Of course, the real bug
	  should be fixed in PAPI.  ----

	* src/utils/event_info.c: Major re-write of the papi_xml_event_info
	  program.  + Remove event code numbers, as they are not stable
	  run-to-run + Add some Doxygen comments + Remove some wrong
	  assumptions that could cause potential buffer overflows + Improve
	  usage information

2012-01-20

	* src/components/lustre/: Rules.lustre, linux-lustre.c,
	  linux-lustre.h,
	  fake_proc/fs/lustre/llite/hpcdata-ffff81022a732800/read_ahead_stats,
	  fake_proc/fs/lustre/llite/hpcdata-ffff81022a732800/stats,
	  tests/Makefile, tests/lustre_basic.c: Finish the re-write of the
	  lustre component.

	  It would be nice if someone with access to a machine with a
	  lustre filesystem could test this for us.

	* src/: papi_internal.c, components/lustre/linux-lustre.c: Update
	  the component initialization code so that it can handle a PAPI
	  ERROR return gracefully.  Previously there was no way to indicate
	  initialization failure besides just setting num_native_events to
	  0.

2012-01-19

	* src/components/lustre/: linux-lustre.c, linux-lustre.h: First
	  pass at cleaning up the lustre component.

	  It should now properly report no events when no lustre
	  filesystems are available.

2012-01-11

	* src/papi_events.csv: Add AMD fam12h support to the events file.
	  Right now it is just an alias to the similar fam10h event list;
	  this can be split out if necessary once we find a tester with the
	  hardware.

	* src/libpfm4/: README, docs/man3/pfm_get_event_next.3,
	  docs/man3/pfm_get_pmu_info.3, include/perfmon/perf_event.h,
	  include/perfmon/pfmlib.h, lib/Makefile, lib/pfmlib_amd64.c,
	  lib/pfmlib_amd64_priv.h, lib/pfmlib_common.c,
	  lib/pfmlib_perf_event.c, lib/pfmlib_priv.h,
	  lib/events/intel_coreduo_events.h, lib/events/perf_events.h,
	  perf_examples/Makefile, perf_examples/perf_util.c,
	  perf_examples/perf_util.h, perf_examples/self.c,
	  perf_examples/task_smpl.c, perf_examples/x86/bts_smpl.c: Fix
	  "merge" conflicts with libpfm4 merge.

	* src/libpfm4/lib/: pfmlib_amd64_fam12h.c,
	  events/amd64_events_fam12h.h: Initial revision

	* src/papi_libpfm4_events.c: Properly use the  pfm_get_event_next()
	  iterator to find next event.

	  Without this, on AMD Fam10h some events are missed.

	  Some events are still missed due to libpfm4 bug, this will be
	  fixed once I update the libpfm4 tree included with PAPI.

	  Note, enumeration fixes like this often break things, so please
	  test if possible.

	* src/papi_events.csv: Update the coreduo (not core2) events.  Most
	  notably the FP events were wrong.

	  This, along with a forthcoming libpfm4 update, make all the
	  CTESTS pass on an old Yonah coreduo laptop I have.

2012-01-05

	* src/ctests/api.c: Make the api test actually test PAPI_flops() as
	  it claims to do, rather than PAPI_flips().

	  Patch thanks to: Emilio De Camargo Francesquini

	* src/papi_hl.c: Fix some copy-and-paste documentation remnants in
	  the papi_hl.c file, mostly where it said FLIPS where it meant
	  FLOPS.

2012-01-04

	* src/utils/native_avail.c: Update papi_native_avail to *not* print
	  the event codes, as these are not guaranteed to be stable from
	  run to run.

	  Also fix up the formatting and print some component info too.

	  Please try and let me know if you don't like the new output.

	* src/: configure, configure.in: Respect a FORCED option in
	  configure.

2011-12-22

	* src/Rules.pfm4_pe: Remove perfmon.h from MISCHDRS.

2011-12-20

	* src/: Rules.perfctr, Rules.perfctr-pfm, Rules.pfm, Rules.pfm4_pe,
	  Rules.pfm_pe, linux-lock.h, mb.h: Merry Christmas ARM users.

	  This patch fixes the SMP ARM issues reported by Harald Servat.
	  Also, adds proper header dependency checking in the Rules files.
	  People, please when you add headers, please add them to the
	  dependency lines so everything gets rebuilt properly.

	  New implementation of SMP locks are very pedantic, that is, they
	  are nost the fastest, but they do use atomics and avoid kernel
	  intervention.

	  Passed on our 2 core ARM v7. All pthreads tests now pass, except
	  the ones that also fail in the single processor case usually due
	  to a missing event.

	  Samples:

	  mucci@panda:~/papi.head/src$ uname -a Linux panda 3.0.0 #2 SMP
	  Fri Jul 29 16:23:54 EDT 2011 armv7l GNU/Linux

	  mucci@panda:~/papi.head/src$ hostname panda

	  mucci@panda:~/papi.head/src$ cat /proc/cpuinfo Processor: ARMv7
	  Processor rev 2 (v7l) processor: 0 BogoMIPS: 2007.19

	  processor: 1 BogoMIPS: 1965.18

	  Features: swp half thumb fastmult vfp edsp thumbee neon vfpv3 CPU
	  implementer: 0x41 CPU architecture: 7 CPU variant: 0x1 CPU part:
	  0xc09 CPU revision: 2

	  Hardware: OMAP4 Panda board Revision: 0020 Serial:
	  0000000000000000

	  mucci@panda:~/papi.head/src$ ./ctests/locks_pthreads Creating 2
	  threads 10000 iterations took 13489 us.  Running 44480 iterations
	  Expected: 88960 Received: 88960 locks_pthreads.c
	   PASSED

	  mucci@panda:~/papi.head/src$ ./ctests/pthrtough Creating 2
	  threads for 1000 iterations each of: register create_eventset
	  destroy_eventset unregister pthrtough.c
	    PASSED

	  mucci@panda:~/papi.head/src$ ./ctests/pthrtough2 Creating 2000
	  threads for 1 iterations each of: register create_eventset
	  destroy_eventset unregister Failed to create thread: 238
	  Continuing test with 237 threads.  pthrtough2.c
		  PASSED

	  mucci@panda:~/papi.head/src$ ./ctests/thrspecific Thread
	  0x40ae1470 started, specific data is at 0xbea9c6d4 Thread
	  0x40021000 started, specific data is at 0xbea9c6c4 Thread
	  0x4244d470 started, specific data is at 0xbea9c6c8 Thread
	  0x4138d470 started, specific data is at 0xbea9c6d0 Thread
	  0x41c4d470 started, specific data is at 0xbea9c6cc Entry 0,
	  Thread 0x41c4d470, Data Pointer 0xbea9c6cc, Value 4000000 Entry
	  1, Thread 0x40021000, Data Pointer 0xbea9c6c4, Value 500000 Entry
	  2, Thread 0x40ae1470, Data Pointer 0xbea9c6d4, Value 1000000
	  Entry 3, Thread 0x4244d470, Data Pointer 0xbea9c6c8, Value
	  8000000 Entry 4, Thread 0x4138d470, Data Pointer 0xbea9c6d0,
	  Value 2000000 thrspecific.c			      PASSED

	  mucci@panda:~/papi.head/src$ ./ctests/krentel_pthreads
	  program_time = 6, threshold = 20000000, num_threads = 3

	  launched timer in thread 0 launched timer in thread 1 launched
	  timer in thread 3 launched timer in thread 2 [1] time = 1, count
	  = 7, iter = 5, rate = 1400.0/Kiter [2] time = 1, count = 7, iter
	  = 5, rate = 1400.0/Kiter [0] time = 1, count = 7, iter = 5, rate
	  = 1400.0/Kiter [3] time = 1, count = 7, iter = 5, rate =
	  1400.0/Kiter [1] time = 2, count = 25, iter = 16, rate =
	  1562.5/Kiter [0] time = 2, count = 25, iter = 16, rate =
	  1562.5/Kiter [3] time = 2, count = 25, iter = 16, rate =
	  1562.5/Kiter [2] time = 2, count = 25, iter = 16, rate =
	  1562.5/Kiter [1] time = 3, count = 25, iter = 16, rate =
	  1562.5/Kiter [2] time = 3, count = 25, iter = 16, rate =
	  1562.5/Kiter [0] time = 3, count = 25, iter = 16, rate =
	  1562.5/Kiter [3] time = 3, count = 25, iter = 16, rate =
	  1562.5/Kiter [1] time = 4, count = 25, iter = 16, rate =
	  1562.5/Kiter [0] time = 4, count = 25, iter = 16, rate =
	  1562.5/Kiter [3] time = 4, count = 25, iter = 16, rate =
	  1562.5/Kiter [2] time = 4, count = 25, iter = 16, rate =
	  1562.5/Kiter [3] time = 5, count = 25, iter = 16, rate =
	  1562.5/Kiter [0] time = 5, count = 25, iter = 16, rate =
	  1562.5/Kiter [2] time = 5, count = 25, iter = 16, rate =
	  1562.5/Kiter [1] time = 5, count = 26, iter = 17, rate =
	  1529.4/Kiter [2] time = 6, count = 25, iter = 16, rate =
	  1562.5/Kiter [0] time = 6, count = 27, iter = 17, rate =
	  1588.2/Kiter done krentel_pthreads.c		     PASSED

2011-12-15

	* src/papi_libpfm_presets.c: Change PAPI_PERFMON_EVENT_FILE
	  environment variable name to PAPI_CSV_EVENT_FILE since it's not
	  just for perfmon anymore.

	* src/: configure, configure.in: Open mouth, insert foot; fix
	  perfctr configure by not testing a library we have not built yet.

2011-12-14

	* src/: configure, configure.in: Missed one more place where we
	  tested perfctr != "no"

	* src/: configure, configure.in: Fix a typo in the perfctr section;
	  it was causing a machine to default to perfctr when it had no
	  performance interface.  ( a centos vm image with a 2.6.18 kernel
	  )

	  Also checks that we actually have perfctr if we specify
	  --with-perfctr.

2011-12-08

	* src/components/cuda/: Makefile.cuda.in, Rules.cuda, configure,
	  configure.in, linux-cuda.c, linux-cuda.h: Added auto-detection of
	  CUDA version to PAPI CUDA Component. Reason is, the interface has
	  changed between CUDA/CUPTI 4.0 and 4.1. PAPI now supports both
	  CUDA versions without any exposure to the users. Configure step
	  is unchanged and no additional knowledge of which CUDA version is
	  installed is required.

2011-12-03

	* src/components/appio/: CHANGES, README, Rules.appio, appio.c,
	  appio.h, tests/Makefile, tests/appio_list_events.c,
	  tests/appio_values_by_code.c, tests/appio_values_by_name.c: [no
	  log message]

2011-11-25

	* src/linux-timer.c: Fix compilation warning if you specify
	  --with-walltime=gettimeofday

	* src/linux-timer.c: Fix the build on Linux systems using mmtimer

	* src/linux-common.c: Update the linux MHz detection code to use
	  bogoMIPS when there is no MHz field available in /proc/cpuinfo.

	  This gives roughly correct MHz on ARM, and the MIPS workaround
	  should also still work.

2011-11-23

	* src/components/net/linux-net.c: Fix compile errors in a debug
	  message.  (pathname didn't exist but we are working on
	  NET_PROC_FILE)

2011-11-22

	* src/components/net/: linux-net.c, tests/net_values_by_code.c,
	  tests/net_values_by_name.c: Change the ping command in the net
	  tests to not use &> to redirect to NULL.

	  This would work on a system with csh, but on systems with a bash
	  shell this runs ping in the background instead, so the test
	  finishes before ping can generate any packets.

	* src/components/net/linux-net.c: Fix slight bug in the net
	  component, where a memset() had the wrong arguments.	This made
	  for weird results in the case where we start/stop quickly enough
	  that we return the initial data.

	* src/components/net/: CHANGES, Makefile.net.in, README, Rules.net,
	  configure, configure.in, linux-net.c, linux-net.h,
	  tests/Makefile, tests/net_list_events.c,
	  tests/net_values_by_code.c, tests/net_values_by_name.c: Replace
	  net component with updated version written by    Jose Pedro
	  Oliveira

	   * Dynamically detects the network interfaces
	      (i.e. the ones listed in /proc/net/dev)

	  * No longer needs to fork/exec the external ifconfig command and
		parse its output.  It now reads the Linux kernel network
	  statistics	 directly from /proc/net/dev.

	  * Each network interface now has 16 events instead of 13
	  (all counters in /proc/net/dev).

	  * Adds support for PAPI_event_name_to_code()

	  * Adds a couple of small tests/examples

2011-11-16

	* doc/Doxyfile-everything: Fix the exclude libpfm/perfctr config.

2011-11-10

	* src/perf_events.c: Only scale when running != enabled.

	  Now verified on ig, brutus and the malta

	* src/perf_events.c: Further tuneups for mpx'ing.

	  Previous commit broke systems with valid return values from
	  perf_events for running & enabled. My attempt at scaling in long
	  long world caused an overflow which led to a negative number when
	  passed up the chain.

	  Also consolidated types... best way to avoid this stuff is to
	  start as the type you are ending as.

	  Now we use some better integer scaling...guaranteed within +-0.5%
	  of the actual scaled value of enabled / running.

	  New results on brutus: multiplex1

	  case1: Does PAPI_multiplex_init() not break regular operation?
	  Added PAPI_TOT_CYC Added PAPI_FP_INS case1: PAPI_TOT_CYC
	  PAPI_FP_INS case1:	     2739865106    600002876

	  case2: Does setmpx/add work? Added PAPI_TOT_CYC Added PAPI_FP_INS
	  case2: PAPI_TOT_CYC  PAPI_FP_INS case2:	  2739678237
	  600002258

	  case3: Does add/setmpx work? Added PAPI_TOT_CYC Added PAPI_FP_INS
	  case3: PAPI_TOT_CYC  PAPI_FP_INS case3:	  2739847832
	  600002298

	  case4: Does add/setmpx/add work? Added PAPI_TOT_CYC Added
	  PAPI_FP_INS case4: PAPI_TOT_CYC  PAPI_FP_INS case4:
	  2737832980	600013404

	  case5: Does setmpx/add/add/start/read work? Added PAPI_TOT_CYC
	  Added PAPI_FP_INS read @start counter[0]: 7106 read @stop
	  counter[0]: 2740387017 difference  counter[0]: 2740379911  read
	  @start counter[1]: 0 read @stop  counter[1]: 600017169 difference
	   counter[1]: 600017169  multiplex1.c
	  PASSED

2011-11-09

	* src/components/cuda/linux-cuda.c: For the CUDA Component,
	  PAPI_read() now accumulates event values. This has to be
	  explicitly done in PAPI because CUPTI automatically resets all
	  counter values to 0 after a read. (PAPI_start()/stop() continues
	  to reset the values to 0)

	* src/perf_events.c: Last of the multiplex fixes to perf events.
	  The root of all evil was this:

	  counts[i] =					      ( uint64_t )
	  ( ( double ) buffer[count_idx] * ( double )

	  buffer[get_total_time_enabled_idx(  )] /
						 ( double )

	  buffer[get_total_time_running_idx(  )] ) ; In addition to
	  improper casting to uints... (papi returns int64s), using
	  floating point arith is a no-no. Plus this resulted in divide by
	  zeros...

	  Before:

	  SUBSTRATE:perf_events.c:_papi_pe_read:1155:12218 read: fd:  3,
	  tid: 0, cpu: -1, buffer[0-2]: 0x6cba, 0x0, 0x0, ret: 24
	  SUBSTRATE:perf_events.c:_papi_pe_read:1155:12218 read: fd:  4,
	  tid: 0, cpu: -1, buffer[0-2]: 0x23, 0x0, 0x0, ret: 24
	  SUBSTRATE:perf_events.c:_papi_pe_read:1155:12218 read: fd:  3,
	  tid: 0, cpu: -1, buffer[0-2]: 0x6de72b5d, 0x8ae0fa80, 0x8ae0fa80,
	  ret: 24 SUBSTRATE:perf_events.c:_papi_pe_read:1155:12218 read:
	  fd:  4, tid: 0, cpu: -1, buffer[0-2]: 0x4c4b46b, 0x8ae0fa80,
	  0x8ae0fa80, ret: 24

	  So kernel is good, but errors in multiplexed scaling.

	  case5: Does setmpx/add/add/start/read work? Added PAPI_TOT_CYC
	  Added PAPI_FP_INS read @start counter[0]: 9223372034707292159
	  read @stop  counter[0]: 1843791732 difference  counter[0]:
	  -9223372032863500427	multiplex1.c
	  FAILED Line # 389

	  With fix:

	  SUBSTRATE:perf_events.c:_papi_pe_read:1151:12821 read: fd:  3,
	  tid: 0, cpu: -1, buffer[0-2]: 0x6782, 0x0, 0x0, ret: 24
	  SUBSTRATE:perf_events.c:_papi_pe_read:1151:12821 read: fd:  4,
	  tid: 0, cpu: -1, buffer[0-2]: 0x0, 0x0, 0x0, ret: 24
	  SUBSTRATE:perf_events.c:_papi_pe_read:1151:12821 read: fd:  3,
	  tid: 0, cpu: -1, buffer[0-2]: 0x6de725dc, 0x8ae0fa80, 0x8ae0fa80,
	  ret: 24 SUBSTRATE:perf_events.c:_papi_pe_read:1151:12821 read:
	  fd:  4, tid: 0, cpu: -1, buffer[0-2]: 0x4c4b400, 0x8ae0fa80,
	  0x8ae0fa80, ret: 24 read @start counter[0]: 26498 read @stop
	  counter[0]: 1843865052 difference  counter[0]: 1843838554  read
	  @start counter[1]: 0 read @stop  counter[1]: 80000000 difference
	  counter[1]: 80000000
	  SUBSTRATE:perf_events.c:_papi_pe_update_control_state:1288:12821
	  Called with count == 0
	  SUBSTRATE:papi_libpfm4_events.c:_papi_libpfm_shutdown:1178:12821
	  shutdown  multiplex1.c			   PASSED

	  New code is vastly simpler and smaller and checks for bad kernel
	  behavior:

		int64_t tot_time_running =
	  papi_pe_buffer[get_total_time_running_idx(  )];
		int64_t tot_time_enabled =
	  papi_pe_buffer[get_total_time_enabled_idx(  )];
	  #ifdef BRAINDEAD_MULTIPLEXING       if (tot_time_enabled == 0)
	       tot_time_enabled = 1;	   if (tot_time_running == 0)
	    tot_time_running = 1; #else       /* If we are convinced this
	  platform's kernel is fully operational, then this stuff will
	  never happen. If it does,	     then BRAINDEAD_MULTIPLEXING
	  needs to be enabled. */	if ((tot_time_running == 0) &&
	  (papi_pe_buffer[count_idx])) {	 PAPIERROR("This platform
	  has a kernel bug in multiplexing, count is %lld (not 0), but time
	  running is 0.\n",papi_pe_buffer[count_idx]);	   return
	  PAPI_EBUG;	   }	   if ((tot_time_enabled == 0) &&
	  (papi_pe_buffer[count_idx])) {	 PAPIERROR("This platform
	  has a kernel bug in multiplexing, count is %lld (not 0), but time
	  enabled is 0.\n",papi_pe_buffer[count_idx]);	 return PAPI_EBUG;
	       } #endif       pe_ctl->counts[i] =
	  (papi_pe_buffer[count_idx] * tot_time_enabled) /
	  tot_time_running;

	  Also, renamed all instances of 'buffer' to papi_pe_buffer because
	  buffer is a global variable on MIPS/Linux/libc. Yikes! (gdb)
	  whatis buffer type = struct utmp *

	* src/ctests/multiplex1.c: Made sure that PAPI_TOT_CYC is the first
	  event added to multiplexing event set.

	  This will demonstrate the bug in perf_event multiplexing
	  arithmetic in case5 on MIPS and other perf_event subsystems that
	  likely have some breakage in the kernels handling of
	  multiplexing. The common bug is that the perf_event subsystem
	  does not fill in the second and third elements of the 24 byte
	  read that gets returned from the kernel. These values are
	  time_enabled and time_running. MIPS as of 3.0.3 just fills this
	  in after a HZ tick has happened. Workarounds are pretty simple in
	  the low level layer...

	  A buggy output looks like this (3.0.3 MIPS/Linux Big Endian)

	  -bash-4.1$ ./ctests/multiplex1 case1: Does PAPI_multiplex_init()
	  not break regular operation? Added PAPI_TOT_CYC Added PAPI_FP_INS
	  case1: PAPI_TOT_CYC  PAPI_FP_INS case1:	  1843775252
	  80000000

	  case2: Does setmpx/add work? Added PAPI_TOT_CYC Added PAPI_FP_INS
	  case2: PAPI_TOT_CYC  PAPI_FP_INS case2:	  1843773254
	  80000037

	  case3: Does add/setmpx work? Added PAPI_TOT_CYC Added PAPI_FP_INS
	  case3: PAPI_TOT_CYC  PAPI_FP_INS case3:	  1843772919
	  80000037

	  case4: Does add/setmpx/add work? Added PAPI_TOT_CYC Added
	  PAPI_FP_INS case4: PAPI_TOT_CYC  PAPI_FP_INS case4:
	  1843773959	 80000037

	  case5: Does setmpx/add/add/start/read work? Added PAPI_TOT_CYC
	  Added PAPI_FP_INS read @start counter[0]: 9223372034707292159
	  read @stop  counter[0]: 1843784577 difference  counter[0]:
	  -9223372032863507582	multiplex1.c
	  FAILED Line # 389 Error: Difference in start and stop resulted in
	  negative value!

2011-11-08

	* src/components/cuda/: linux-cuda.c, linux-cuda.h: Updated CUDA
	  component for CUPTI 4.1 (RC1). Note, SetCudaDevice() should now
	  work with the latest CUDA 4.1 version.

2011-11-07

	* src/components/coretemp/linux-coretemp.c: Update coretemp to
	  better handle sparse numbering of the inputs.

	* doc/Doxyfile-everything: Exclude the libpfm* and perfctr-*
	  directories from consideration when generating Doxygen docs.

	* src/: papi.h, components/acpi/linux-acpi.h,
	  components/coretemp_freebsd/coretemp_freebsd.c,
	  components/cuda/linux-cuda.h,
	  components/infiniband/linux-infiniband.h,
	  components/mx/linux-mx.h, components/net/linux-net.h: Place a
	  space in < your name here > to cleanup doxygen warnings.

	* src/perf_events.c: Only perf event systems that have FAST counter
	  reads and FAST hw timer access are x86...

	* src/linux-common.c: MIPS clock and Linux fixup code

	* src/components/example/example.c: A little more documentation on
	  which of the component vector function pointers are relevant.

	* src/papi_vector.c: Tested the dummy get_{real,virt}_{cyc,usec}
	  functions on zeus, they appear to work.

	* src/components/example/tests/example_multiple_components.c:
	  Another fix to properly skip the multiple component case if CPU
	  component not available.

	* src/components/example/tests/example_multiple_components.c: Skip
	  the test if no CPU component enabled, rather than fail.

2011-11-04

	* src/components/example/example.c: Free example_native_table with
	  papi_free, glibc didn't like it if we just called free.  (we
	  allocate it with papi_calloc)

	* man/...: Version number bump. (since the pages are
	  quantifiably different from those released in 4.2.0 )

	* doc/: Doxyfile, Doxyfile-everything, Doxyfile.utils: Bump version
	  number in the doxygen config files.

	* src/components/example/example.c:
	  _papi_example_shutdown_substrate does not have any arguments.

	* src/components/net/linux-net.c: Include ctype.h for isspace().

	* release_procedure.txt: release_procedure now reflects the correct
	  version of doxygen to use.

	* src/buildbot_configure_with_components.sh: Do not always
	  configure with not cpu counters, allow this to be passed in.
	  Allows us to use one script for both types of builds we test.

	* delete_before_release.sh,
	  src/buildbot_configure_with_components.sh: Create a script for
	  buildbot to configure with several components.

	  Buildbot runs all commandline arguments through a sanitization
	  before passing them to sh.  Thus --with-configure="a b c" =>
	  '--with-configure="a b c"' which is bad.
	  delete_before_release.sh has been instructed to remove this file.

	* man/...:  Rebuild the manpages with doxygen 1.7.4 to
	  remove the 's at the end of sentances.

	  The html output looks clean.

2011-11-03

	* src/: multiplex.c, papi.c: Fix some gcc-4.6 compile warnings
	  complaining that retval was being set but not used.

	* src/papi.c: Add some extra comments to the PAPI_num_cmp_hwctrs()
	  code that describe its limitations a bit better.

2011-11-02

	* src/: ctests/overflow_allcounters.c, testlib/test_utils.c: Add
	  lots of debugging to make results of overflow_allcounters test a
	  bit more clear.

	* src/components/coretemp/tests/coretemp_pretty.c: coretemp_pretty
	  wasn't printing the description for fan inputs.

	  The result on an apple MacBook Pro (running Linux) now looks like
	  this:

	  Trying all coretemp events Found coretemp component at cid 2
	  hwmon0.temp1_input	     value: 33.50 degrees C, applesmc
	  module, label TB0T hwmon0.temp2_input  value: 33.50 degrees C,
	  applesmc module, label TB1T hwmon0.temp3_input  value: 32.00
	  degrees C, applesmc module, label TB2T hwmon0.temp4_input  value:
	  0.00 degrees C, applesmc module, label TB3T hwmon0.temp5_input
	  value: 62.25 degrees C, applesmc module, label TC0D
	  hwmon0.temp6_input  value: 54.25 degrees C, applesmc module,
	  label TC0F hwmon0.temp7_input  value: 57.25 degrees C, applesmc
	  module, label TC0P hwmon0.temp8_input  value: 69.00 degrees C,
	  applesmc module, label TG0D hwmon0.temp9_input  value: 58.00
	  degrees C, applesmc module, label TG0F hwmon0.temp10_input
	   value: 51.25 degrees C, applesmc module, label TG0H
	  hwmon0.temp11_input	      value: 58.25 degrees C, applesmc
	  module, label TG0P hwmon0.temp12_input	 value: 60.75
	  degrees C, applesmc module, label TG0T hwmon0.temp13_input
	   value: 62.25 degrees C, applesmc module, label TN0D
	  hwmon0.temp14_input	      value: 59.25 degrees C, applesmc
	  module, label TN0P hwmon0.temp15_input	 value: 49.00
	  degrees C, applesmc module, label TTF0 hwmon0.temp16_input
	   value: 54.00 degrees C, applesmc module, label Th2H
	  hwmon0.temp17_input	      value: 58.75 degrees C, applesmc
	  module, label Tm0P hwmon0.temp18_input	 value: 31.50
	  degrees C, applesmc module, label Ts0P hwmon0.temp19_input
	   value: 44.25 degrees C, applesmc module, label Ts0S
	  hwmon0.fan1_input   value: 1999 RPM, applesmc module, label Left
	  side hwmon0.fan2_input     value: 2003 RPM, applesmc module,
	  label Right side coretemp_pretty.c		     PASSED

	* src/components/coretemp/: linux-coretemp.c, linux-coretemp.h,
	  tests/coretemp_pretty.c: Make the coretemp code a bit pickier
	  about which events it supports.  Add descriptions to the events.
	  Also add support for Voltage (in*) events.

	  On an amd14h machine I have access to, coretemp_pretty now
	  prints:

	  Trying all coretemp events Found coretemp component at cid 2
	  hwmon0.in1_input value: 1.31 V, it8721 module, label ?
	  hwmon0.in2_input value: 2.22 V, it8721 module, label ?
	  hwmon0.in3_input value: 3.34 V, it8721 module, label +3.3V
	  hwmon0.in4_input value: 1.02 V, it8721 module, label ?
	  hwmon0.in5_input value: 1.52 V, it8721 module, label ?
	  hwmon0.in6_input value: 1.13 V, it8721 module, label ?
	  hwmon0.in7_input value: 3.26 V, it8721 module, label 3VSB
	  hwmon0.in8_input value: 3.17 V, it8721 module, label Vbat
	  hwmon0.temp1_input value: 28.00 degrees C, it8721 module, label ?
	  hwmon0.temp2_input value: -128.00 degrees C, it8721 module, label
	  ? hwmon0.temp3_input value: -128.00 degrees C, it8721 module,
	  label ? hwmon0.fan1_input value: 0 RPM hwmon0.fan2_input value:
	  1320 RPM hwmon1.temp1_input value: 33.00 degrees C, jc42 module,
	  label ? hwmon2.temp1_input value: 31.75 degrees C, jc42 module,
	  label ? hwmon3.temp1_input value: 53.00 degrees C, radeon module,
	  label ? hwmon4.temp1_input value: 53.12 degrees C, k10temp
	  module, label ? coretemp_pretty.c		    PASSED

	* src/components/coretemp/: linux-coretemp.c,
	  tests/coretemp_pretty.c: Cut and paste error slipped in to that
	  last commit.	Fixes a build issue.

	* src/components/coretemp/: linux-coretemp.c, tests/Makefile,
	  tests/coretemp_pretty.c: Clean up coretemp with same cleanups
	  done in example component.

	  Add a new test, "coretemp_pretty" that prints coretemp results in
	  a more user-friendly way.

	* man/:... Rebuild the man pages with a newer version of
	  doxygen. ( older versions of doxygen had a nasty bug in man
	  output. )

	  Also reworked the utilities documentation to remove pages for the
	  files.  Thanks to Jose Pedre Oliveria for pointing this out.

	* src/components/example/tests/: Makefile,
	  example_multiple_components.c: Add a test that makes sure you can
	  have active EventSets on multiple components at the same time.

	* release_procedure.txt: Change PATH specification to include tcsh
	  syntax; other minor syntax corrections.

	* src/components/example/example.c: More cleanups and documentation
	  for the example component.

2011-11-01

	* src/components/example/example.c: Some more major overhaul of the
	  example component.  A lot more documentation, plus make is behave
	  a lot more like a real component would.

	* doc/Doxyfile.utils: Turn off undocumented warnings for the utils.
	  doxygen run.

	* src/utils/: avail.c, command_line.c, cost.c, event_chooser.c,
	  multiplex_cost.c: Add spaces to the comments so doxygen doesn't
	  think <event> is an xml tag.

2011-10-31

	* src/utils/: avail.c, clockres.c, command_line.c, component.c,
	  cost.c, decode.c, error_codes.c, event_chooser.c, mem_info.c,
	  multiplex_cost.c, native_avail.c: Remove the @file directive from
	  the doxygen comment blocks for the utilities.  This cleans up the
	  generated man pages. ( we nolonger build *.c.1 )

	* src/components/example/: example.c, tests/example_basic.c:
	  Clarify in the example component that ->reset only gets called if
	  an eventset is currently running.

	  Extend the example_basic test to test PAPI_reset()

	* release_procedure.txt: Fix a maketarget typo.

	* release_procedure.txt: We now have a good version of doxygen
	  installed on most icl run machines.  (
	  /mnt/scratch/sw/doxygen-1.7.5.1 )

	* doc/doxygen_procedure.txt: [no log message]

	* release_procedure.txt: Update release_procedure to inform how to
	  update the website documentation link.

2011-10-28

	* RELEASENOTES.txt: Correct the RELEASENOTES for some things I
	  missed when reviewing it.

	  It's Offcore events that we don't support on
	  Nehalem/Westmere/Sandybridge.

	  Also the power6 libpfm4 bug that was listed as an outstanding bug
	  was fixed a long time ago.

	* src/components/coretemp/linux-coretemp.c: Have coretemp set the
	  num_native_events field.

	* src/components/example/tests/example_basic.c: Update example test
	  to print num_native_events, to help debug issues with other
	  components not updating the value.

	* src/components/coretemp/: linux-coretemp.c, linux-coretemp.h: Fix
	  typo enent -> event Also remove residual LMSENSOR mentions from
	  the coretemp header.

	* src/papi_libpfm4_events.c: Fix two memory leak locations.

	  The attached patch reduces the number of lost memory blocks
	  reported by valgrind from 234 to 39.	It frees the memory
	  allocated by the 4 strdups and the calloc functions in
	  papi_libpfm4_events.c:allocate_native_event().

	  Patch by: Jos Pedro Oliveira

	* src/components/cuda/tests/Makefile: The change to pass the PAPI
	  CC/CFLAGS to the component tests broke the nvidia test as it
	  wants CC to be nvcc.	So update that Makefile to use nvcc
	  instead.

2011-10-27

	* src/components/example/tests/example_basic.c: Improve the
	  example_basic component test to be much more comprehensive.

	* src/components/example/: example.c, tests/HelloWorld.c,
	  tests/Makefile, tests/example_basic.c: Cleanup the example test.
	  Fix various mistakes in the comments as well as add better error
	  checking.

	  Also rename the "HelloWorld" test to "example_basic"

	* src/components/coretemp/tests/Makefile: The coretemp_test target
	  was example_test due to cut-and-paste error.

	  Patch from Jose Pedro Oliveira

	* src/Makefile.inc: Add a component_tests dependency so that the
	  component_tests are made during a make -j build

	* src/Makefile.inc: Make sure the component test makefiles get
	  passed the CC and CFLAGS definitions.

	* src/components/coretemp/: linux-coretemp.c, tests/Makefile,
	  tests/coretemp_basic.c: Fix up the coretemp component some more.
	  Make sure the enumerate function returns PAPI_ENOEVNT if no
	  events are available.

	  Update the Makefile so it has proper dependencies.

	  Update the test so it prints the first event available.  (The
	  latter based on a patch from Jose Pedro Oliveira)

	* src/: solaris-ultra.c, ctests/all_native_events.c: The
	  solaris-ultra substrate was still broken.  This is because recent
	  changes to component bind time explictly used the ->set_domain()
	  call, and this vector was not set up in solaris_ultra.

	  Also made the all_native_events test report the returned error
	  value to aid in debugging problems like this in the future.
2012-04-17  

  * 8782daed cvs2cl.pl delete_before_release.sh gitlog2changelog.py...: Update
  the release machinery for git.  gitlog2changelog.py takes the output of git
  log and parses it to something like a changelog.

  * 80ff04a9 doc/Doxyfile-html: Cover up an instance of doxygen using full
  paths.  Doxygen ( up to 1.8.0, the most recent at this writing ) would use
  full paths in directory dependencies ignoring the use relative paths config
  option.

  * c556dad1 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump the version
  for the PAPI 4.4.0 release.

2012-04-14  

  * 27174c0b src/components/bgpm/CNKunit/CVS/Entries
  src/components/bgpm/CNKunit/CVS/Repository
  src/components/bgpm/CNKunit/CVS/Root...: Removed CVS stuff from Q code.

  * 970a2d50 src/configure src/configure.in src/linux-bgq.c...: Removed
  papi_events.csv parsing from Q code. (CVS stuff still needs to be taken care
  of.)

2012-04-13  

  * 853d6c74 src/libpfm-3.y/lib/intel_corei7_events.h
  src/libpfm-3.y/lib/intel_wsm_events.h src/libpfm-3.y/lib/pfmlib_intel_nhm.c:
  Add missing update to libpfm3  Somehow during all of the troubles we had with
  importing libpfm3 into CVS, we lost some Nehalem/Westmere updates.  Tested on
  a Nehalem machine to make sure this doesn't break anything.

2012-04-12  

  * 07e4fcd6 INSTALL.txt: Updated INSTALL notes for Q

  * 2a0f919e src/Makefile.in src/Makefile.inc src/components/README...: Added
  missing files for Q merge.

  * 0b0f1863 src/Rules.bgpm src/components/bgpm/CNKunit/CVS/Entries
  src/components/bgpm/CNKunit/CVS/Repository...: Added PAPI support for Blue
  Gene/Q.

2012-02-17  

  * 147a4969 src/perfctr-2.6.x/usr.lib/event_set_centaur.o
  src/perfctr-2.6.x/usr.lib/event_set_p5.o
  src/perfctr-2.6.x/usr.lib/event_set_p6.o: Remove a few binary files in
  perfctr-2.6.x

2012-02-23  

  * 955bd899 src/perfctr-2.6.x/usr.lib/event_set_centaur.os
  src/perfctr-2.6.x/usr.lib/event_set_p5.os
  src/perfctr-2.6.x/usr.lib/event_set_p6.os: Removes the last of the binary
  files from perfctr2.6.x  Some binary files were left out in the cold after a
  mishap trying to configure perfctr for the build test.

2012-02-17  

  * 5fe239c8 src/perfctr-2.6.x/CHANGES src/perfctr-2.6.x/INSTALL
  src/perfctr-2.6.x/Makefile...: More cleanups from the migration, latest
  version of libpfm-3.y perfctr-2.[6,7]  Version numbers got really confused in
  cvs and the git cvsimport didn't know that eg 1.1.1.28 > 1.1 ( see
  perfctr-2.6.x/CHANGES revision 1.1.1.28.6.1 :~)

2012-03-13  

  * e7173952 src/libpfm-3.y/examples_v2.x/multiplex.c
  src/libpfm-3.y/examples_v2.x/pfmsetup.c
  src/libpfm-3.y/examples_v2.x/rtop.c...: Fix some libpfm3 warnings.  libpfm3
  is not maintained anymore, so applied these changes locally.  libpfm3 is
  compiled with -Werror so they broke the build with newer gcc even though they
  are just warnings in example programs.

2012-04-09  

  * 10528517 src/libpfm-3.y/Makefile src/libpfm-3.y/README
  src/libpfm-3.y/docs/Makefile...: Copy over libpfm-3.y from cvs.  libpfm3 was
  another one of our skeletons in CVS. Thanks to Steve Kaufmann for keeping us
  honest.

2012-02-17  

  * ec8c879e src/aix.c src/components/coretemp/linux-coretemp.c
  src/components/coretemp_freebsd/coretemp_freebsd.c...: The git conversion
  reset all of the CVS $Id$ lines to just $Id$  Since we depend on the $Id$
  lines for the component names, I had to go back and fix all of them to be the
  component names again.

2012-03-09  

  * 71a2ae4f src/components/lmsensors/linux-lmsensors.c: Fix buffer overrun in
  lmsensors component  Conflicts:  src/components/lmsensors/linux-lmsensors.c

  * ec0e1e9a src/libpfm4/config.mk
  src/libpfm4/docs/man3/pfm_get_os_event_encoding.3
  src/libpfm4/examples/showevtinfo.c...: Update to current git libpfm4 snapshot

2012-02-15  

  * 1312923e src/libpfm4/debian/changelog src/libpfm4/debian/control
  src/libpfm4/debian/rules...: The git cvsimport didn't get the latest version
  of the libpfm4 import. This should be the versions as were in cvs now.

2012-02-24  

  * 81847628 src/papi_events.csv: Fix broken Pentium 4 Prescott support  We
  were missing the netbusrt_p declaration in papi_events.csv

2012-03-01  

  * 917afc7f src/papi_internal.c: Add some locking in
  _papi_hwi_shutdown_global_internal  This caused a glibc double-free warning,
  and was caught by the Valgrind helgrind tool in krentel_pthreads  There are
  some other potential locking issues in PAPI_shutdown, especially when debug
  is enabled.

  * f85c092f src/papi.c: Fix possible race in _papi_hwi_gather_all_thrspec_data
   The valgrind helgrind tool noticed this with the thrspecific test

2012-03-09  

  * 912311ed src/multiplex.c src/papi_internal.c src/papi_libpfm4_events.c...:
  Fix issue when using more than 31 multiplexed events on perf_event  On
  perf_event we were setting num_mpx_cntrs to 64.  This broke, as the
  MPX_EventSet struct only allocates room for PAPI_MPX_DEF_DEG events, which is
  32.  This patch makes perf_event use a value of 32 for num_mpx_cntrs,
  especially as 64 was arbitrarily chosen at some point (the actual value
  perf_event can support is static, but I'm pretty sure it is higher than 64). 
  Conflicts:  src/papi_libpfm4_events.c

2012-08-08  

  * 4b4f87ff ChangeLogP5000.txt: Changelog for PAPI5

  * 6f208c06 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump version
  numbers in prep for a 5.0 release.

  * c6fdbd11 release_procedure.txt: Update release_procedure.txt  Change the
  order of when we branch git, so that the main dev branch gets some of the
  release related changes.

2012-04-17  

  * 97d4687f ChangeLogP440.txt: Pickup the changelog from papi 4.4  This was
  only included in the stable-4.4 branch.

2012-08-23  

  * 628c2b6e src/buildbot_configure_with_components.sh: Take debug out of the
  with several components build test config.  When built with PAPI's memory
  wrapper routines, the threaded stress tests will sometimes get into poor
  performing situations.  See trac ticket 148 for discussion.
  http://icl.utk.edu/trac/papi/ticket/148

2012-08-22  

  * 46faae8e src/ctests/overflow2.c src/ctests/overflow_single_event.c
  src/ctests/overflow_twoevents.c...: Move find_nonderived_event() from
  overflow_twoevents to test_utils and call it from overflow2 and
  overflow_single_event to insure that we're not trying to overflow on a
  derived event.

  * 3e7d8455 src/ctests/zero_smp.c: Fix a memory leak reported on the aix
  power7 machine.  zero_smp.c did not unregister at the end of its thread
  function.

  * 3ad5782f src/perf_events.c: perf_events: fix segfault if DEBUG is enabled
  Was incorrectly using "i" as an index where it should be "0" in a debug
  statement.


2012-08-21  

  * a3cadbdb src/ftests/accum.F src/ftests/avail.F src/ftests/case1.F...: Take
  #2. Changing len_trim function in ftests to last_char. This time, I respect
  72 char line limit.

  * c9db8fbf src/ctests/overflow_force_software.c: overflow_force_software was
  the only test that used a different hard_tolerance value (0.25) than the
  other overflow tests (0.75). This caused trouble on Power7/AIX. Now we are
  using the same hard_tolerance value in all overflow tests.

  * 70515343 src/ftests/accum.F src/ftests/avail.F src/ftests/case1.F...:
  Changed name of function len_trim to last_char.

  * 95168d79 src/components/cuda/linux-cuda.c: Cleanup cuda shutdown code.
  * The
  shutdown_thread code cleaned out the whole component's state. This has been
  split into shutdown_global for the whole component, and shutdown_thread is
  left to cleanup some control state info.

  * 56284f81 src/ctests/multiplex1_pthreads.c: Fix memory leaks in pthread
  multiplex tests.

  * aeead8b6 src/threads.c: Remove an outdated comment about
  _papi_hwi_free_EventSet holding INTERNAL lock

  * e598647b src/perf_events.c: perf_events: fix issue where we dereference a
  pointer before NULL check.  Fix suggested by Will Cohen, based on a coverity
  report.

  * 4e0ed976 src/ctests/calibrate.c: Modify warning message to eliminate the
  word "error" Hopefully this will suppress it in buildbot outputs.

  * 50fbba18 src/ctests/api.c src/ftests/case2.F: Cleanup a few more warnings
  from the PAPI_perror change.

  * 1f06bf28 src/ftests/case2.F: Missed an instance of perror in the fortran
  code.

  * 93e6ae2c src/ftests/ftests_util.F: Fix warning in ftest_util.F

2012-08-20  

  * 60c6029e src/perf_events.c: perf_events: Update multiplexing code  It
  * turns
  out the PERF_EVENT_IOC_RESET ioctl resets the count but not the multiplexing
  info.  This means that when we fiddle with the events then reset them in
  check_scheduability(), we are not really resetting things to zero.  The
  effect might be small, but since the new multiplex code by definition is
  always scheduable, then let's skip the test if multiplexing.

  * 9079236c src/ctests/zero.c: Change error reporting so FLOPS > 100% above
  theoretical FAIL and FLOPS > 25% above theoretical WARN.

2012-08-18  

  * 980558af src/papi_internal.c: papi_internal: fix memory leak  When I made
  some changes a while back I forgot to free ESI->NativeBits properly.  This
  was causing memory leak warnings on buildbot.

2012-08-17  

  * 83a14612 src/perf_events.c: perf_events: more cleanups and comments  We
  really need to go back and figure out in more detail what the
  profile/sampling/overflow code is doing.

  * 7cafb941 src/perf_events.c: perf_events: more cleanups and comments

  * e9e39a4b src/perf_events.c: perf_events: disable kernel multiplexing
  * before
  2.6.34  It turns out even our simple multiplexing won't work on kernels
  before 2.6.34, so fall back to sw multiplex in that case.

  * 05801901 src/perf_events.c: perf_events: more cleanup and comments

  * 268e31d7 src/perf_events.c: perf_events: more cleanup and commenting

  * d62fc2bf src/perf_events.c: perf_events: more cleanup and comments

  * fb0081bc src/perf_events.c: perf_events: more cleanups and comments

  * a1142fc8 src/perf_events.c: perf_events: cleanup and comment the kernel
  * bug
  workarounds

  * b8560369 src/perf_events.c: perf_events: minor cleanups and new comments

  * 6c320bb2 src/perf_events.c: perf_events: fix some debug messages  I forget
  to test with --with-debug enabled

  * f7a3cccf src/perf_events.c: perf_events: enable new read_code  This makes
  the read code much simpler.  It finishes the multiplexing changes.  To avoid
  complication, we no longer enable PERF_FORMAT_ID as reading that extra info
  is unnecessary with the current implementation.  This passes all the tests
on
  a recent kernel, but on 2.6.32 there are still a few issues.

  * 15749cff src/ctests/all_events.c src/ctests/all_native_events.c: Fix
  warning in all_events and all_native_events.  In the perror semantic change,
  several strings for use in the old interface were left.

2012-08-16  

  * afdd25fa src/perf_events.c: perf_events: always enable kernel multiplexing
  The new code should work on any kernel version.

  * 9f5e23ae src/perf_events.c: Rewrite multiplex support.  Drop support for
  the former "partitioned" multiplexing, as we could never use it.  Instead
use
  the simple/braindead model.  This still needs more work, as sometimes reads
  are failing.

  * cdd29909 src/ftests/strtest.F: Fix strtest.F ftest  It was still making
  some assumptions about PAPI_perror() writing to a string rather than
directly
  to standard error.

  * 565f60b3 src/papi_internal.c: Missing code to set num_error_chunks to 0
  The new _papi_hwi_cleanup_errors() function was not resetting
  num_error_chunks to 0, leading to a segfault in the fmultiplex1 test.

2012-08-02  

  * bb85bafd src/genpapifdef.c src/papi.c src/papi_common_strings.h...: Remove
  usage of _papi_hwi_err.  Move PAPI over to storing errors in a runtime list.
  * Functions to add/lookup errors. * Generate the list of PAPI_E* errors at
  library_init time. * genpapifdef pulled the values for the PAPI_* error
  return codes from the _papi_hwi_err structure at configure time. Since this
  is now built at run-time, I added the appropriate values to genpapifdef's
  builting describe_t table. See : _papi_hwi_publish_error
  _papi_hwi_init_errors For usage hints.

2012-08-10  

  * e27af085 src/perf_events.c: perf_event: rename BRAINDEAD_MULTIPLEXING  It
  is now "simple_multiplexing" and is a variable not an #ifdef  This is needed
  before perf_event multiplexing can be sorted out.  It's unclear if it
  actually works anyway.

  * 7f8e8c58 src/perf_events.c: perf_event: remove context "cookie" field  It
  was a bit of overkill, we just need an initialized field. Also revamp how
  context and control are initialized.

  * 8cb8ac6d src/perf_events.c: perf_event: move all event specific info to
  * the
  control state  previously half was in the context state and half in the
  control state  perf_event has a strange architecture with each event being
  created having its own fd, which is context wide.  In PAPI though we usually
  only have one eventset (control state) active at once, so there's no need to
  have the context be aware of this.

2012-08-09  

  * 8d7782cb src/perf_events.c: perf_event: rename evt_t to perf_event_info_t
  This just makes the code easier to follow.

  * 349de05c src/perf_events.c: perf_event: remove the superfluous
  per_event_info_t structure

2012-08-08  

  * da8ad0a2 src/ctests/all_native_events.c src/ctests/get_event_component.c
  src/utils/native_avail.c: Fix warnings about PAPI_enum_cmp_event() return
not
  being checked  Reported by coverity checker via Will Cohen  Harmless
  warnings, and now the checker will likely complain about the value being
  checked but ignored.

  * b4719888 src/papi_user_events.c: Fix unused value in papi_user_events.c
  Reported by Coverity checker by Will Cohen

  * 6a8f255c src/utils/event_chooser.c: remove unused
  * PAPI_get_component_info()
  call in event_chooser  Reported by Will Cohen from coverity checker

2012-08-06  

  * 62cda478 src/genpapifdef.c src/papi_common_strings.h
  src/papi_internal.c...: Remove usage of _papi_hwi_err.  genpapifdef pulled
  the values for the PAPI_* error return codes from the _papi_hwi_err structure
  at configure time. Since this is now built at run-time, I added the
  appropriate values to genpapifdef's builting describe_t table.

2012-08-02  

  * d11259f3 src/papi.c src/papi_internal.c src/papi_internal.h...: Move over
  to generating the list of PAPI errors at library_init time.

  * 097ffc44 src/papi_internal.c: Functions to add/lookup errors.

2012-08-07  

  * 2530533f src/papi_events.csv: tests/zero fails on Power7 due to PAPI_FP_INS
  Error of 50%. Preset definition has been redefined and test now passes.

  * 8e17836f src/components/appio/Rules.appio src/components/appio/appio.c
  src/components/appio/appio.h...: We now intercept recv(). The support for
  recv() requires dynamic linkage. For static linkage, recv is not intercepted.

2012-08-06  

  * 8b1eb84c src/perf_events.c: perf_events: some whitespace cleanup and extra
  comments

  * f10edba6 src/perf_events.c: perf_events: MAX_READ was no longer being used,
  remove it

  * 08c06ed1 src/perf_events.c: perf_event event_id is actually 64-bit, so make
  our copy match

  * a33e8d9c src/perf_events.c: Rename context_t pe_context_t in perf_events.c 
  Makes the code a bit clearer and matches how other components name things.

  * 96ce9dcd src/perf_events.c: Rename control_state_t pe_control_state_t  This
  makes the code a bit easier to follow and matches how other components name
  things.

2012-08-03  

  * 4c5dce7f src/ctests/zero.c: Beef up error reporting.

  * 83b5d28a src/ctests/cycle_ratio.c: Have the cycle_ratio test skip if
  PAPI_REF_CYC event is not defined.

2012-08-02  

  * 25b1ba41 src/ctests/cycle_ratio.c: Removed all TESTS_QUIET blocks. They
  aren't needed because tests_quiet() overloads printf. We should probably
  remove TEST_QUIET blocks in ALL tests at some point for code clarity

  * 8777d7d4 src/ctests/zero.c: Fixed error reporting. The error computation
  was inside a TESTS_QUIET block and wasn't getting executed when run quietly.
  Thus this test always passed on buildbot, even when it didn't.

  * 006fe8e9 src/ctests/Makefile: Fix typo in cycle_ratio make line.

  * 88e6d6a4 src/aix.c src/aix.h: Setting number of multiplex counters back to
  32 for AIX. Before it was set equal to number of max HW counters. This caused
  ctests/sdsc-mpx to fail.

  * ab78deda src/papi_events.csv: ctests/calibrate on Power7/AIX failed with a
  50% error all the way through. Updated the preset FP_OPS with a more
  appropriate definition. Now the calibrate errors range from 0.0002 to 0.0011%
  for double and single precision

  * fadce32f src/ctests/calibrate.c: Modify calibrate test in two ways: 1. add
  a -f flag to suppress failures and allow test to run to completion; 2. change
  error detection to allow warnings above MAX_WARN and failures above MAX_FAIL.
  Currently set to 10% and 80% respectively. This allows speculative over
  counting to pass with warning rather than fail completely.

  * 8a39ac9d src/papi_events.csv: LST_INS for Power7 was defined from 3 native
  events that cannot be counted together at the same time. Caused
  ctests/all_events to fail. Updated the preset with a more appropriate
  definition.

  * cdc16e5d src/papi_events.csv: L1_DCA for Power7 was defined from 3 native
  events that cannot be counted together at the same time. That caused
  ctests/tenth to fail. Updated the preset with a more appropriate definition.

2012-08-01  

  * 2bf44d13 src/papi_internal.c src/perf_events.c: icc does not like
  arithmetic on void pointers. Added cast to unsigned char* when arithmetic was
  being performed on void pointers in papi_internal and perf_events.

  * 7825ec14 src/ctests/api.c src/ctests/attach2.c src/ctests/attach3.c...:
  Modify tests that FAIL if PAPI_FP_OPS or PAPI_FP_INS not implemented. Now
  they will warn and continue. This is specifically to accommodate the
  brain-dead IvyBridge implementation.

  * fd70a015 src/testlib/test_utils.c: Re-writing of test_utils introduced new
  bugs that caused ctests/tenth to fail. test_events struct lists the same
  event twice (MASK_L1_DCW), hence PAPI_add_event() fails because it's forced
  to add the same preset twice.

  * 74ece3a0 src/run_tests.sh: run_tests.sh was clobbering $EXCLUDE variable if
  $CUDA was defined. Changed to add entries from run_tests_exclude_cuda.txt to
  $EXCLUDE which should already contain entries from run_tests_exclude.txt
  instead of replacing the entries already contained.

  * 11ed2364 src/libpfm4/config.mk: Added check in libpfm4/config.mk to check
  if using icc. If so, the -Wno-unused-parameter flag will no longer be used
  because icc does not provide it and provides no alternative.

  * dedf73f6 src/papi_user_events.c: fget() returns an int it should be treated
  as an int  The coverity scan flagged that the int return by fget was stored
  in a char. The main concern with this is the EOF that fget() could return is
  -1. Do not want to mess up that value by typecasting to char and then back to
  int. 

  * c4fcbe7e src/ctests/kufrin.c: Check return values of PAPI_get_cmp_opt() and
  calloc  A coverity scan showed that PAPI_get_cmp_opt() could potentially
  return a negative number.  Also it is good form to check the return value of
  calloc to ensure it is a non-null pointer. 

  * e89d6ffa src/testlib/test_utils.c: Clean up test_print_event_header() 
  There were a couple warnings flagged by coverity on
  test_print_events_header(). The function now checks for error conditions
  flagged by PAPI_get_cmp_opt() and also frees memory allocated by a calloc()
  function. 

  * c81d8b60 src/threads.h: Eliminate deadcode from threads.h  If
  HAVE_THREAD_LOCAL_STORAGE is defined, a portion of the
  _papi_hwi_lookup_thread() will never be executed.  This patch make either one
  section or the other section of code be compiled.  This will eliminate a
  coverity scan warning about unreachable code. 

  * f70f3f56 src/ctests/all_native_events.c: Eliminate unused variable in
  ctests/all_native_events.c  Coverity identified a variable that was set but
  never used in all_native_events.c.  This patch removes the unused variable to
  eliminate that warning. 

  * a9f29840 src/components/appio/appio.c: A couple places in appio.c used the
  FD_SET() without initializing the variable. Coverity scan pointed out this
  issue. 

  * 9e535ae2 src/components/rapl/linux-rapl.c: A Coverity scan pointed out that
  read_msr() could potentially use an invalid value of fd for pread().  Need to
  check the value of fd before using it. 

  * 7b55c675 src/components/rapl/linux-rapl.c: The arrays used for
  initialization were hard coded to 1024 packages. Want to avoid hard coding
  that so the day when machines with 1025 packages are available is a
  non-event.  Also changed the initialization code to avoid having the
  initialization be O((number of packages)^2) in time complexity. 

2012-07-27  

  * 3703995a src/papi_internal.c: Fix the component name predending code.  When
  presented with a NULL component .short_name, the code did the wrong thing.

  * 5258db8b src/components/cuda/linux-cuda.c: Fix a warning in cuda.

2012-07-26  

  * ddd6f193 src/ctests/Makefile src/ctests/cycle_ratio.c: Add a test to
  compute nominal CPU MHz from real cycles and use PAPI_TOT_CYC and
  PAPI_REF_CYC to compute effective MHz. Warns if PAPI_REF_CYC is zero, which
  can happen on kernels < ~3.3.

  * fab5e9ef src/papiStdEventDefs.h src/papi_common_strings.h
  src/papi_events.csv: Add PAPI_REF_CYC preset event. Define it as
  UNHALTED_REFERENCE_CYCLES for all Intel platforms on which this native event
  is supported.

2012-07-25  

  * 8b9b6bef src/papi_events.csv: Modify SandyBridge and IvyBridge tables:
  SandyBridge FP_OPS only counts scalars; SP_OPS and DP_OPS now count
  correctly, including SSE and AVX. IvyBridge can't count FP at all;
  adjustments made to eliminate event differences with SandyBridge.

2012-07-26  

  * 5b11c982 src/components/cuda/linux-cuda.c: Fix the cuda component.  The
  cuda component prepended CUDA. to all its event names, this is no longer the
  case.

2012-07-25  

  * db5b0857 src/papi_events.csv: Added 2 new preset definitions for BGQ. Note,
  these presets use the new feature where a generic event mask together with an
  ORed opcode string is used. This won't work until the new Q driver is
  released (currently scheduled for end of August).

2012-07-24  

  * af7cd721 src/components/coretemp/linux-coretemp.c
  src/components/coretemp/tests/coretemp_pretty.c
  src/components/cuda/linux-cuda.c...: Enforce all our components to use the
  same naming.  We setteled on :'s as inter-event seperators. This also touches
  a few of the components' tests, we changed the name field so their searches
  needed help.

2012-07-23  

  * 57aeb9d4 src/papi_internal.c: Prepend component .short_name to each event
  name.  Use ::: as a sep.

2012-07-24  

  * 762e9584 src/ctests/multiplex2.c src/sw_multiplex.c: Fix multiplex2 test 
  It complained if it tried to add a multiplex event and PAPI properly told it
  that it couldn't.

  * 531870f1 src/papi_internal.c: Add sanity check at component init time 
  Looks for num_cntrs being larger than num_mpx_cntrs which doesn't make much
  sense.

  * 53ad0259 src/extras.c src/genpapifdef.c src/papi.c...: Rename
  PAPI_MAX_HWCTRS to PAPI_EVENTS_IN_DERIVED_EVENT  Hopefully this will make
  things a little less confusing.

  * 700af24b src/papi_internal.c: Change EventInfoArrayLength to always return
  num_mpx_cntrs  Things should be consistently using num_mpx_cntrs rather than
  num_cntrs now.  Issue reported by Steve Kaufmann

  * d1570bec src/sw_multiplex.c: Fix sw_multiplex bug when max SW counters is
  less than max HW counters  this was causing kufrin and max_multiplex to fail

  * f47f5d6a src/aix.c src/components/appio/appio.c
  src/components/bgpm/CNKunit/linux-CNKunit.c...: Remove PAPI_MPX_DEF_DEG  It
  was not well documented and being used in confused ways all over the code. 
  Now there is a different define PAPI_MAX_SW_MPX_EVENTS used by the software
  multiplex code.  All other components have had the value replaced with just
  the maximum number of counters.  If a component can handle its own
  (non-software) multiplexing it is up to it to set .num_mpx_cntrs to a value
  that's different from .num_cntrs

  * 0d83f5db src/papi_internal.c src/papi_internal.h: Split NativeBits off of
  NativeInfoArray in EventSet  previously we were doing some crazy thing where
  we allocated both at once and then split them afterward.  The new code is
  easier to follow.

  * 98f2ecbd src/papi_internal.c: Clean up EventSet creation  Sort out which
  sizes are used for allocating which structures.

  * e1024579 src/Makefile.inc src/multiplex.c src/multiplex.h...: Rename the
  multiplex files to be sw_multiplex  That way it's more clear the stuff
  included only relates to software multiplexing, not generic multiplexing.

  * a6adc7ff src/multiplex.h src/papi_internal.c src/papi_internal.h: Move some
  sw-multiplex specific terms out of papi_internal.h and into multiplex.h

2012-07-23  

  * 1ddbe117 src/components/README: Added note that lmsensors component
  requires lmsensors version >=3.0.0

  * 94676869 src/components/appio/appio.c
  src/components/appio/tests/appio_test_pthreads.c: proper checking of return
  codes in response to tests using coverity

  * ea958b18 src/components/appio/tests/appio_list_events.c
  src/components/appio/tests/appio_values_by_code.c: As component name in table
  has been changed from appio.c to appio, we now use appio in the tests.

2012-07-20  

  * f212cc34 src/components/appio/appio.c
  src/components/coretemp/linux-coretemp.c
  src/components/coretemp_freebsd/coretemp_freebsd.c...: Add .short_name
  entries to each component.

  * 1e755836 src/papi_libpfm4_events.c src/perf_events.c: Fix use-after-free
  bug in perf_events.c  This turned up in the ctests/flops test, and Valgrind
  made it easy to track down.

  * 4580ed1d src/perf_events.c: Update perf_event.c rdpmc support  Use the
  libpfm4 definition for mmap rather than our custom one, now that libpfm4 has
  been updated

  * 47558b2c src/libpfm4/examples/showevtinfo.c
  src/libpfm4/include/perfmon/perf_event.h
  src/libpfm4/lib/pfmlib_intel_nhm_unc.c...: Import current libpfm4 from
  libpfm4 git  It has some minor uncore fixes plus the header changes needed
  for rdpmc.

2012-07-17  

  * 65d4c06c src/linux-common.c: Reorder statements to ensure the fclose() are
  performed  Coverity pointed out that it was possible for resources to be
  leaked in linux-common.c if the fscanf() encountered error.  This reordering
  of the statements ensures that the fclose() calls are done regards of the
  results of the fscanf() functions. 

2012-07-18  

  * 7bf071ff src/papi_user_events.c: Ensure that load_user_event_table() frees
  files and memory on error  A Coverity scan showed that an error condition in
  load_user_event_table() function would exit the the function without closing
  the table file or freeing allocated memory.  This patch addresses those
  issues. 

2012-07-17  

  * 1ba52e35 src/components/stealtime/linux-stealtime.c: Ensure that
  read_stealtime() closes the file in case of an error condition  A Coverity
  scan showed that an error condition could cause read_stealtime() to exit
  without closing the file.  This patch ensures that the file is closed
  regardless of success or failure. 

2012-07-18  

  * f37f22e5 src/papi_libpfm4_events.c: Fix warning in papi_libpfm4_events.c 
  We were setting a value but never using it.

  * 8e8401bc src/testlib/test_utils.c: Remove unused variable in test_utils.c 
  Most of the machines in buildbot were complaining about this.

  * 133ce6a9 src/linux-timer.c: Add missing papi_vector.h include to
  linux-timer.c  This was breaking on PPC Linux

2012-07-17  

  * 6fd3cedd src/perf_events.c: Fix perf_events.c warnings reported by ICC

  * 21c8f932 src/perfctr-x86.c: Fix perfctr-x86 build with debug enabled

  * 08f76743 src/configure src/configure.in src/linux-bgq.c: Attempt to fix
  linux-bgq compilation error.  It turns out BGQ uses the standard
  linux-context.h header

  * 43457f4f src/linux-bgq.c: Made check for opcodes more robust.

  * d58116b4 src/perf_events.c: More cleanups of perf_events.c file

  * 409438b7 src/freebsd-context.h src/freebsd.c src/freebsd.h: Fix FreeBSD
  compile warnings  Similar to the perfctr issues.

  * 1e6dfb02 src/aix.c src/aix.h: Fix AIX build warnings  They were similar in
  cause to the perfctr issues.

  * 3d0b5785 src/Rules.perfmon2 src/components/appio/appio.c
  src/components/bgpm/CNKunit/linux-CNKunit.h...: Remove papi_vector.h include
  from papi_internal.h  There were some semi-circular dependencies that came up
  with the context split changes.  The easiest way to fix things for perfctr
  was just move papi_vector.h out to be included explicitly.  This touches a
  lot of files because a lot of files include papi_internal.h  This should also
  fix the perfctr and perfmon2 builds that were broken yesterday.

2012-07-16  

  * a7a14a5b src/ctests/zero.c src/testlib/test_utils.c: Modify zero test to
  warm up processor before measuring events, and report timing errors as signed
  deviations. Modify test_utils add_two_events code to check for errors after
  adding nominally valid events. This is a more rigorous test than just
  counting available registers.

  * de0860d3 src/perf_events.c: Remove perf_events.h module header  It's no
  longer needed, everything important is merged into the perf_events.c file.

  * 22975f14 src/perf_events.c: Remove perf_event SYNCHRONIZED_RESET code  This
  was never defined and never used, just remove the code.

  * 48750b8c src/perf_events.c: Remove papi_pe_allocate_registers  On
  perf_event this code wasn't really doing anything useful, as
  update_control_state would end up re-doing any possible tests we could want
  to do here.

  * 1775566f src/Makefile.in src/Makefile.inc src/Rules.pfm4_pe...: Remove
  "include CPUCOMPONENT" from papi_internal.h  This was the last major
  dependency on CPU component in common PAPI code.  It was mostly necessary for
  the ucontext definitions when trying to get the instruction pointer when
  doing sampling.  This change creates new OS-specific header files that handle
  the ucontext related code, and has papi_internal.h include that instead.

  * 969ce035 src/Rules.pfm4_pe src/Rules.pfm_pe src/configure...: Make
  perf_event libpfm4 only  perf_event libpfm3 support is not really needed
  anymore and supporting it was cluttering up the perf_event component.

2012-07-13  

  * adad1d2a src/perf_events.c: Add init time error messages to perf_event
  component

  * 827ccc07 src/perf_events.c: Add perf_event rdpmc / fast_real_timer
  detection  Currently we need a custom copy of struct perf_event_mmap_page
  because the version included with libpfm4 doesn't define the fields we need
  yet.

  * 4f82fe94 src/perf_events.c: Read in paranoid info on perf_events  This
  indicates whether a regular user can read CPU-specific or system-wide
  measurements.

  * 03080450 src/perf_events.c: Add proper perf_event detection  Using the
  official /proc/sys/kernel/perf_event_paranoid file

  * 6e71d3f7 src/linux-bgq.c: Updated BGQ opcode stuff; cleaned up code.

2012-07-11  

  * 3114d3dc src/multiplex.c src/papi_internal.c src/perf_events.c: Minor
  documentation improvements  Plus fixes some typos

2012-07-09  

  * b60c0f0c src/perf_events.c: Minor cleanups to perf_events.c

  * 075278a0 src/aix.c src/freebsd.c src/linux-bgp.c...: Change return value
  for .allocate_registers  For some reason it returned 1 on success and 0 on
  failure.  Change it so you return PAPI_OK on success and a PAPI error on
  failure, to better match all of the other component vectors.

  * 29d9e62b src/testlib/test_utils.c: Fixed the print_header routine to report
  an error message if counters are not found, instead of a negative counter
  number. Tested by forcing the return value negative; not by running on a Mac,
  where the error first appeared.

  * 74257334 src/ctests/Makefile src/ctests/remove_events.c: Add remove_events
  test  This just makes sure EventSets still work after an event has been
  removed.  This is probably covered by other more elaborate tests, but I
  needed a simple test to make sure I wasn't breaking anything.

  * 1372714f src/papi.c src/papi_internal.c src/papi_internal.h: Clean up,
  rename, and comment _papi_hwi_remap_event_position  I've found this section
  of code to be confusing for a long time. I think I finally have it mostly
  figured out.  I've renamed it _papi_hwi_map_events_to_native() to better
  describe what it does.  The issue is that the native event list in an
  EventSet can change at various times.  At event add, event remove, and
  somewhat unexpectedly, whenever ->update_control_state is called (a component
  can re-arrange native events if it wants, to handle conflicts, etc.)  Once
  the native event list has been changed, _papi_hwi_map_events_to_native() has
  to be called to make sure the events all map to the proper native_event
  again.  Currently we have the _papi_hwi_map_events_to_native() calls in odd
  places. It seems to cover all possible needed locations, but analyzing that
  we do takes a lot of analysis...

  * f1b837d8 src/papi.c: Remove unused variable in papi.c

  * 541bcf44 src/papi_internal.h: Update commens in papi_internal.h  Some of
  the EventSetInfo comments were out of date.

  * e6587847 src/papi.c src/papi_internal.c src/papi_internal.h: Remove unused
  paramater from _papi_hwi_remap_event_position  The mysterious
  _papi_hwi_remap_event_position function had a "thisindex" field that was
  ignored.  This will possibly speed PAPI_start() time as it was running a loop
  over num_native_events on _papi_hwi_remap_event_position even though each
  call did the same thing since the value being passed was ignored.

  * 3ad3d14b src/papi_internal.c: Clean up and comment add_native_events in
  papi_internal.c  I'm chasing some weird perf_events behavior with the
  papi_event_chooser.  The add_native_events code is very hard to understand,
  working on commenting it more.

  * 4e5e7664 src/utils/event_chooser.c: Fix coverity warning in
  papi_event_chooser

  * 666249a8 src/jni/EventSet.java src/jni/FlipInfo.java
  src/jni/FlopInfo.java...: RIP Java.  Java PAPI wrappers have not been
  supported for years (2005?). They are being removed to declutter the source.

  * e18561fc src/papi_preset.c: Update cmpinfo->num_preset_events properly 
  This value wasn't being set if we were reading the presets directly from the
  CSV file.

  * 290ab7c3 src/utils/component.c: Have papi_component_avail report counter
  and event info

  * 7c421b9c src/testlib/test_utils.c src/utils/native_avail.c: Remove counter
  number from the testlib header.  The header was only reporting number of
  counters for the CPU component, even though the header is printed for many
  utils and the CPU component might not even be involved.  This could be a bit
  confusing, so remove it.

  * 26432359 src/darwin-common.c src/darwin-memory.c: Improve OSX support  This
  properly detects CPU information now.  You can get results like this: 
  Available native events and hardware information.
  
  - PAPI Version             : 4.9.0.0 Vendor string and code   : GenuineIntel
  (1) Model string and code    : Intel(R) Core(TM) i5-2435M CPU @ 2.40GHz (42)
  CPU Revision             : 7.000000 CPUID Info               : Family: 6 
  Model: 42  Stepping: 7 CPU Max Megahertz        : 2400 CPU Min Megahertz     
    : 2400 CPUs per Node            : 0 Total CPUs               : 4 Running in
  a VM          : no Number Hardware Counters : -4 Max Multiplex Counters   :
  -4
  
  -

2012-07-08  

  * 845d9ecb src/Makefile.inc src/configure src/configure.in...: Add Mac OSX
  support  This is enough that things compile and simple utilities run.  No CPU
  perf counter support.

2012-07-06  

  * ff6f9ab4 src/linux-bgq.c: missed to delete a debug output.

2012-04-17  

  * 12e9a11a RELEASENOTES.txt: Release notes for the 4.4 release.

2012-07-06  

  * ac2eac56 src/papi.c src/papi.h: Add a PAPI_disable_component_by_name entry
  point.

  * 8c490849 src/components/coretemp_freebsd/coretemp_freebsd.c src/freebsd.c:
  Fix FreeBSD to work  I'm not sure how it ever worked in the past.  With these
  changes I can at least do a papi_component_avail and a papi_native_avail and
  get sane results

  * 108b5ce6 src/freebsd.c src/freebsd.h src/freebsd/map-atom.c...: Fix FreeBSD
  build  some of the recent changes broke the FreeBSD build

  * 40a60f0a src/linux-bgq.c src/linux-bgq.h: Added BGQ's opcode and generic
  event functionality to PAPI. For BGQ there are multiple ways to define
  presets. The naive way is to derive from multiple events. This eats up
  multiple counters and we lose sample capability as well as overflow
  capability. On the other side, some events come with multiple InstrGroup
  derived in the field. If that's the case we can use a generic event and
  opcodes to filter multiple groups in a single counter. This is not working
  properly yet due to a known error in BGPM. Bgpm_AddEvent() does not work
  properly when multiple generic events are added to an EventSet. The BGPM
  folks have been made aware of this issue, they confirmed the error, and they
  are currently working on a fix.

  * 6f72b70f src/papi_events_table.sh: Make this script robust enough to handle
  any line ending, including CR (Mac), CRLF (Windows), and LF (Unix). It
  appears that google mail now automagically converts attached files to CRLF
  format.

  * 765ed0d2 src/papi_internal.c: Fix a type warning in the UE code.

  * 94bc1b15 src/MACROS: Remove the MACROS file  it held out of date info and
  hasn't been touched since 2004

  * d19e73ba src/ctests/Makefile src/ctests/clockcore.c
  src/testlib/Makefile...: Move the clockcore.c file from ctests to testlib 
  it's common code used by multiple tests, including some in the utils
  directory  also add a function definition to fix a build-time warning

  * 1101a6aa src/aix-lock.h src/aix.h src/configure...: Make papi_lock.h
  changes for non Linux architectures

2012-07-05  

  * 3b82b03d src/Makefile.in src/Makefile.inc src/aix.c...: Make the PAPI locks
  be tied to OS, not to CPU  There is not a papi_lock.h file that when included
  gets the proper lock include for the OS.  This fixes a lot of previous build
  hacks where a CPU component was needed in order for locks to work.

  * 0632ef42 src/threads.c: Fix spurious init_thread call in threads.c 
  threads.c was calling init_thread() on all components, even ones that were
  disabled  Fix it to honor the disable bit, as well as for shutdown_thread(). 
  This was causing perfctr disable code to not work.

  * 19d9de7f src/Makefile.in src/Makefile.inc src/Rules.pfm4_pe...: Replace
  SUBSTRATE with CPUCOMPONENT in build  This was mostly a configure/build
  change but it also cleaned up some cases where we were including SUBSTRATE
  where we didn't have to.

  * 829780db src/solaris-common.c src/solaris-common.h
  src/solaris-niagara2.c...: Move some common solaris code to solaris-common

  * 681ef027 src/configure src/configure.in src/solaris-memory.c...: Merge
  solaris-memory.c and solaris-niagara2-memory.c

  * bbd41743 src/solaris-ultra/get_tick.S src/solaris.h: Remove
  solaris-ultra/get_tick.S  Nothing was using it.

  * dc3b6920 src/papi_sys_headers.h src/solaris.h: Remove papi_sys_headers.h 
  Solaris was the only thing including it, and it wasn't really using it.

  * 7ccfa9df src/Makefile.in src/Makefile.inc src/configure...: Move move OS
  specific code into the new OSFILESSRC  Linux in particular was using MISC for
  this.

  * 6f16c0c5 src/configure: Re-run autoconf to pickup the substrate=>component
  change.

  * cfff1ede src/Makefile.in src/Makefile.inc src/configure...: Remove
  MEMSUBSTR  In reality, what we want instead of a Memory Substrate is an idea
  of the OS-specific common code that includes the memory substrate.  This
  change adds OSFILESSRC and OSFILESOBJ to handle this case in configure

  * ca4729e6 src/configure.in: Separate out MEMSUBSTR and make it per-OS

  * 3148cba5 src/Matlab/PAPI_Matlab.dsp src/ctests/calibrate.c
  src/ctests/flops.c...: RIP Windows, remove the windows support code.  Windows
  has not been activly supported since the transition to Component PAPI (4.0)
  This cleans up the code-base.

2012-07-03  

  * a366adf7 src/papi.c src/utils/error_codes.c: Change PAPI_strerror and
  PAPI_perror to behave more like thir POSIX namesakes.  PAPI_error_descr is
  made redundant and removed as a result.

2012-07-05  

  * 7df46f81 src/Rules.pfm src/aix.c
  src/components/coretemp/linux-coretemp.c...: Move uses of PAPI_ESBSTR to
  PAPI_ECMP  I left PAPI_ESBSTR defined too for backward compatability.  Also
  some of the changes update PAPI_ESBSTR to be a more relevant error code, it
  one is available.

2012-07-03  

  * fdb348ad src/components/coretemp_freebsd/coretemp_freebsd.c
  src/components/example/example.c src/components/net/linux-net.c...: A few
  more substrate removals

  * 791747c1 src/cpus.c src/papi.h src/perf_events.c...: Fix bugs introduced by
  substrate -> component change  Fix some stupid compile bugs that I missed.

  * 79b01a47 src/aix.c src/components/appio/appio.c
  src/components/bgpm/CNKunit/linux-CNKunit.c...: More substrate -> component
  changes  This changes the vectors .init_substrate -> .init_component
  .shutdown_substrate -> .shutdown_substrate .init -> .init_thread .shutdown ->
  .shutdown_thread  hopefully this will make the code clearer.

  * 02a10d71 src/Makefile.inc src/aix.c src/cpus.c...: Rename "substrate" to
  "component"  This first pass only re-names things in comments.

2012-07-02  

  * c4bbff1c src/papi.c src/papi.h: Minor documentation fixes  Found when
  writing up the PAPI 5.0 changes document

2012-06-30  

  * f9cb7346 src/components/vmware/vmware.c: Fix vmware component  apparently I
  forgot to test the build with the vmguestlib support disabled.

2012-06-22  

  * 599040d1 src/components/coretemp/linux-coretemp.c
  src/components/rapl/linux-rapl.c
  src/components/stealtime/linux-stealtime.c...: Fix libpfm4 ntv_event_to_info
  event_info_t on other components  This was actually a widespead problem due
  to cut-and-paste.

  * 2b51b439 src/papi_libpfm4_events.c: Properly fix libpfm4 ntv_event_to_info
  event_info_t event value  The previous fix was subtly wrong.  This is the
  proper fix, which is to do nothing inside of papi_libpfm4_events.c because
  papi_internal.c does the right thing for us and we were overwriting that with
  the wrong value.

  * a4f576bf src/ctests/overflow_allcounters.c src/testlib/papi_test.h
  src/testlib/test_utils.c: Clean up overflow_allcounters code  While tracking
  down a previous issue I also cleaned up the overflow_allcounters test code to
  use some of the new interfaces.

  * 6903e053 src/papi_libpfm4_events.c: Fix libpfm4 ntv_event_to_info
  event_info_t event value  The recently added libpfm4 ntv_event_to_info
  function was not properly oring PAPI_NATIVE_MASK to the event value in the
  event_info_t struct.  That means if you tried to use that event value to add
  an event it would fail.  The overflow_allcounters test broke because of this.

  * 420c3d11 src/ctests/Makefile src/ctests/disable_component.c src/papi.c...:
  Add PAPI_get_component_index() and PAPI_disable_component() 
  PAPI_get_component_index() will return a component index if you give it the
  name of a component to match.  This saves you having to iterate the entire
  component list looking.  PAPI_disable_component() will manually mark a
  component as disabled. It has to be run before PAPI_library_init() is called.

  * 11946525 src/aix.c src/components/cuda/linux-cuda.c
  src/components/example/example.c...: Standardize component names to not end
  in .c  We were being inconsistent; the time to make them all be the same is
  now before 5.0 gets out.

2012-06-21  

  * 274e1ad8 src/components/vmware/tests/Makefile: Fix cut-and-paste error in
  the vmware component Makefile

  * 85d6438d src/utils/event_chooser.c: Update papi_event_chooser to work with
  components  Now you can specify events from components and it will tell you
  all the other events on that component that can run with it.  Previously the
  utility was limited to the CPU component (0) only.

  * 3c2fcc83 src/papi_libpfm3_events.c src/papi_libpfm4_events.c
  src/perf_events.c: Hook up .ntv_code_to_info on perf_event

  * 36e864b3 src/papi_libpfm4_events.c src/papi_libpfm_events.h
  src/perf_events.c: Enable support for showing extended umasks on perf_event 
  With this change, papi_native_avail now shows event umasks such as :u, :k,
  :c, :e, and :i. (user, kernel, cmask, edge-trigger, invert)  Thes are boolean
  or integer events.  They were supported by previous PAPI but they were never
  enumerated.

  * 8f3e305e src/components/coretemp/linux-coretemp.c: Fix cut-and-paste error 
  in linux-coretemp.c that could lead to wrong size being copied

  * 0eedd562 src/libpfm4/lib/events/intel_atom_events.h
  src/libpfm4/lib/events/intel_core_events.h
  src/libpfm4/lib/events/intel_coreduo_events.h...: Import most recent libpfm4
  git  This fixes an issue where there can be confusion between :i and :i=1
  type events.  It also has initial support for Uncore, though you need a
  specially patched kernel and PAPI does not support it yet.

  * 2f86ec78 src/components/appio/tests/Makefile
  src/components/appio/tests/appio_test_blocking.c
  .../appio/tests/appio_test_fread_fwrite.c...: - Fixed tests verbosity by
  using TESTS_QUIET macro - Fixed Makefile to only include necessary tests for
  automatic builds (skip blocking tests that read from stdin)

  * 6936b955 src/components/appio/README src/components/appio/appio.c
  src/components/appio/appio.h...: Added polling of read/write descriptor to
  check which operations would block.

  * 48cacccf src/papi.h: Add back PAPI_COMPONENT_INDEX() for backward
  compatability  It turns out some people were using this for cases other than
  enumeration.  The proper way to do things now is to use
  PAPI_get_event_component() which is what this PAPI_COMPONENT_INDEX() now maps
  to.

  * d1ed12b7 src/ctests/Makefile src/ctests/get_event_component.c
  src/papi.c...: Add PAPI_get_event_component()  This function returns the
  component an event belongs to.  It also adds a test to test this
  functionality.

2012-06-20  

  * ffccf633 src/papi.h: Add component_type field to .cmp_info  The idea is
  we'll specify CPU, I/O, GPU, hardware, etc.

  * 9998eecc src/components/lmsensors/Rules.lmsensors: Another lmsensors build
  fix

  * caa94d64 src/components/lmsensors/linux-lmsensors.c: Update lmsensors
  component to actually compile.  I finally found a machine with lmsensors
  installed.

  * fbcde325 src/components/lmsensors/linux-lmsensors.c
  src/components/lmsensors/linux-lmsensors.h: Update lmsensor component  Unlike
  the other components it hadn't been updated to PAPI 5 standards.  Also, it
  was wrongly de-allocating all state in "_shutdown" rather than
  "_shutdown_substrate" which was causing double-frees during tests.

  * 0d3c0ae2 src/papi_internal.c: Add some extra debugging to
  _papi_hwi_get_native_event_info

  * 5961c03d src/aix.c src/components/nvml/linux-nvml.c
  src/ctests/subinfo.c...: Remove cntr_groups from .cmp_info  This information
  is better exposed by enumeration.

  * 2b4193fd src/utils/event_chooser.c: Cleanup and comment event_chooser code

  * 7f9fab2b src/ctests/all_native_events.c: Cleanup and add comments to
  all_native_events.c

  * a245b502 src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/freebsd.c...: Remove profile_ear from .cmp_info  The CPU components
  should handle this internally.

  * bca07f3c src/papi.c: Add comments to the PAPI_sprofil code.

  * b1e2090c src/papi.c: Minor papi.c cleanups  Fix some minor cosmetic things,
  including a typo in a comment.

  * 8f3aef4a src/ctests/subinfo.c src/papi.h: Remove opcode_match_width field
  from .cmp_info  This should be exposed via enumeration and not by a field in
  the generic cmp_info structure.

  * 047af629 src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/papi.h...: Remove cntr_OPCM_events field from .cmp_info  This should be
  exposed via enumeration and not by a field in the generic cmp_info structure.

  * 3f1f9e10 src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/papi.h...: Remove cntr_DEAR_events field from .cmp_info  This should be
  exposed via enumeration and not by a field in the generic cmp_info structure.

  * 962c642a src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/papi.h...: Remove cntr_IEAR_events field from .cmp_info  This should be
  exposed via enumeration and not by a field in the generic cmp_info structure.

  * 5aa7eac1 src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/papi.h...: Remove instr_address_range from .cmp_info  This feature should
  be deteced via enumeration, not via a flag in the generic .cmp_info
  structure.

  * 1bf68d5d src/components/nvml/linux-nvml.c src/ctests/subinfo.c
  src/papi.h...: Remove data_address_range field from .cmp_info  The proper way
  to detect this feature is via enumeration.

2012-06-19  

  * 90037307 src/linux-context.h: Change Linux from using "struct siginfo" to
  "siginfo_t"  This conforms to POSIX, and fixes newer Fedora where struct
  siginfo is no longer supported.  This can in theory break on older setups
  (possibly kernel 2.4). If that happens, we need to somehow detect this using
  autoconf.

2012-06-18  

  * ad48b4fa src/Rules.perfctr-pfm: Fix the perfctr-pfm build; for buildbot,
  mostly.  Have the perfctr-pfm build only build libpfm, like the perfevents
  builds. The icc build was choking on warnings (-Werror => errors) in the
  example programs with libpfm, this is not something we depend upon.

2012-06-17  

  * 358b14f9 src/papi_events.csv: Update BGQ presets

  * cf26fc87 src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/L2unit/linux-L2unit.c...: Update bgpm components
  according to the papi5 changes

  * a7b08a91 src/configure src/configure.in src/linux-bgq.c: Merging the BG/Q
  stuff from stable_4.2 to PAPI 5 did break it. It's corrected now; also
  predefined events are now working.)

2012-06-15  

  * 2d5a4205 src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/L2unit/linux-L2unit.c src/configure...: Merging the BG/Q
  stuff from stable_4.2 to PAPI 5 did break it. It's corrected now (almost);
  predefined events are not working yet.)

  * 1b034920 src/papi.c: Re-enable PAPI_event_name_to_code() optimization  In
  PAPI_event_name_to_code() there was a commented-out optimization where we
  would check if an event name begins with "PAPI_" before searching the entire
  preset list for an event name.  The comment says we had to disable this due
  to "user events", but a check shows that was introduced in e7bd768850ecf90
  and that the "user events" it means is not the current support, but the
  now-removed PAPI_set_event_info() function where you could change the names
  of presets on the fly (even to something not starting with PAPI_).  Since we
  don't support that anymore, we can re-enable the optimization.

2012-06-14  

  * 9a26b43d src/papi_internal.c src/papi_internal.h src/papi_preset.c: Remove
  the 16-component limit  This turned out to be easier than I thought it would
  be.  Now determining which component an event is in is a two step process. 
  Before, the code shifted and masked to find the component from bits 26-30. 
  Now, _papi_hwi_component_index() is used.  There's a new native event table
  which maps all native events (which are allocated incrementally at first use
  starting with 0x4000000) to two values, a component number and an "internal"
  event number.

2012-06-13  

  * d5c50353 src/papi_internal.c: Fix for the PAPI_COMPONENT_MASK change  I
  missed two cases in papi_internal.c This was causing the overflow_allcounters
  test to fail

  * 46fd84ce src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/CNKunit/linux-CNKunit.h
  src/components/bgpm/IOunit/linux-IOunit.c...: Updating the Q substrate
  according to the PAPI 5 changes

  * 05a8dcbf src/components/appio/appio.c
  src/components/appio/tests/appio_list_events.c
  src/components/appio/tests/appio_values_by_code.c...: First steps of removing
  16-component limit  This change removes PAPI_COMPONENT_INDEX(),
  PAPI_COMPONENT_MASK and PAPI_COMPONENT_AND_MASK.  It adds the new functions
  _papi_hwi_component_index() _papi_hwi_native_to_eventcode()
  _papi_hwi_eventcode_to_native()  By replacing all of the former macros with
  the equivalent of the latter functions, it allows all of the future
  16-component limit changes to be made in the functions.  Components now
  receive as events a plain 32-bit value as their internal native event; the
  high bits are not set.  This may break some external components.  This change
  should not break things, but a lot of testing is needed.

  * af4cbb86 src/run_tests_exclude.txt: Exclude iozone helper scripts from
  run_tests.  run_tests.sh looks for executible files under components/*/tests
  Some of the plotting scripts in appio/iozone were getting picked up.

2012-06-12  

  * c10c7ccb src/configure src/configure.in: Configure does not work on BGQ due
  to missing subcomp feature. It worked for stable-4.2 but got lost in current
  git origin.

  * d9a58148 src/aix.c src/ctests/hwinfo.c src/ctests/overflow.c...: Update
  hw_info_t CPU frequency reporting.  Previously PAPI reported "float mhz" and
  "int clock_mhz". In theory the first was the current CPU speed, and the
  latter was the resolution of the cycle counter.  In practice they were both
  set to the same value (on Linux, read from /proc/cpuinfo) and not very useful
  when DVFS was enabled, as the value reported was usually lower than the
  actual frequency running once CPU started being used.  This change adds two
  new values "cpu_max_mhz" and "cpu_min_mhz" which are read from
  /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq and
  /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_min_freq if they are available,
  and falls back to /proc/cpuinfo otherwise.  All of the tests were updated to
  use cpu_max_mhz.  The old mhz and clock_mhz values are left for compatability
  reasons (and set to cpu_max_mhz) but are currently unused otherwise.

2012-06-11  

  * 0f124891 src/papi_events.csv: Initial PAPI Ivy Bridge Support  for now try
  to re-use the sandy bridge event presets

  * a1f46077 src/libpfm4/docs/man3/libpfm_intel_ivb.3
  src/libpfm4/include/perfmon/err.h
  src/libpfm4/lib/events/intel_ivb_events.h...: Import libpfm4 git snapshot 
  This adds IvyBridge support

  * 3bb983cc src/libpfm-3.y/examples_v2.x/self_smpl_multi.c: Fix a libpfm3
  example program for icc, local fix because libpfm3 is deprecated.  icc does
  have more enjoyable warnings than gcc, : error 186: pointless comparison of
  unsigned integer with zero  on this: unsigned int foo; ... if ( foo < 0 )

2012-06-06  

  * d28adccf src/papi_user_events.c: The user events code had a call to exit,
  this was bad...

2012-06-04  

  * 6bf43022 src/testlib/test_utils.c: Further the hack for testing for perf SW
  events.  Events like
  
  - | perf::CPU-CLOCK                                                          
     | |            PERF_COUNT_SW_CPU_CLOCK                                    
        |
  
  - were passing the check, now we also check the event_info_struct.long_descr
  field for PERF_COUNT_SW....

  * fa4b1a28 src/components/nvml/linux-nvml.c: Cleanup nvml code a little.  A
  few print statements were left over from debugging. Also check errors from
  nvml and cuda pciinfo functions, disabling the component in a few more cases.

2012-06-01  

  * da144a94 src/components/nvml/Makefile.nvml.in src/components/nvml/README
  src/components/nvml/Rules.nvml...: Rewrite and merge of the nVidia Management
  library component.  This component attempts to expose all supported
  'performance counters' on each card cuda knows about at runtime. Much like
  the cuda component reads happen on the card you're executing on at PAPI_read
  time.  The test included is a copy of the cuda helloworld test, but it
  attempts to start/stop the event on each gpgpu. If you select an event that
  is not supported on the card you're running on we should fail gracefully but
  this has not been tested.

2012-05-23  

  * b2d414dc src/components/stealtime/linux-stealtime.c: At units to stealtime
  component  Added the function but forgot to add a function vector for it.

  * ce9d4500 src/components/stealtime/linux-stealtime.c: Add units to stealtime
   Properly report that the units are in micro seconds.

  * 149948c8 src/components/rapl/linux-rapl.c: Minor cleanup of RAPL code 
  missing "void" paramter in init_substrate function

  * 6a7e22fa src/components/vmware/vmware.c: More vmware component fixes.  This
  makes the component thread-safe.  Also makes it fail more gracefully if the
  guestlib SDK is installed but does not support our hypervisor (for example,
  if we are running under VM Workstation).  Still need to test on ESX.

  * 072d6473 src/components/appio/tests/appio_test_select.c: added code to
  intercept and time select() calls.

2012-05-22  

  * 12b6d0d7 src/components/vmware/vmware.c: Some more minor fixes to VMware
  component  Try to handle things better if VMguest SDK not working

  * 6e015bc5 src/components/vmware/Rules.vmware src/components/vmware/vmware.c:
  More vmware component fixups  Now works with the events from the VMguest SDK
  library

  * 5fc0f646 src/components/vmware/vmware.c: More cleanup of vmware component 
  The pseudo-performance counters work again.  Now they behave in accumulate
  mode, like all other PAPI counters.

  * f72b0967 src/components/vmware/tests/vmware_basic.c: Make vmware test a bit
  more complete

  * 070e5481 src/components/vmware/tests/Makefile
  src/components/vmware/tests/vmware_basic.c: Add a test for the vmware
  component

  * 7cf62498 src/components/vmware/Makefile.vmware.in
  src/components/vmware/Rules.vmware src/components/vmware/configure...: Clean
  up the vmware component.  bring it up to date with other components.  make it
  possible to build it without the vmguest library being installed

  * b32ae1ae src/components/stealtime/Rules.stealtime
  src/components/stealtime/linux-stealtime.c
  src/components/stealtime/tests/Makefile...: Add a stealtime component  When
  running in a VM, this provides information on how much time was "stolen" by
  the hypervisor due to the VM being disabled.  This info is gathered from
  column 8 of /proc/stat  This currently only works on KVM.

  * 9e95b480 src/components/appio/tests/appio_test_blocking.c: Use a
  non-blocking select to determine which reads and writes would block

2012-05-19  

  * f60d991f src/components/appio/README src/components/appio/appio.c
  src/components/appio/tests/appio_test_read_write.c...: Interception of
  close() implemented. This allows us to correctly determine the number of
  currently open descriptors.

2012-05-17  

  * 7cd8b5a3 src/libpfm4/.gitignore src/libpfm4/config.mk
  src/libpfm4/lib/Makefile...: Update libpfm4 to current git tree

  * ebffdb7e src/components/rapl/tests/rapl_overflow.c: Skip rapl_overflow test
  if RAPL not available

  * 98d21ef3 src/components/example/example.c src/components/rapl/linux-rapl.c:
  Fix some component warnings.

  * 0447f373 src/configure src/configure.in src/linux-generic.h: Make build not
  stall if PAPI_EVENTS_CSV not set  This is some fallout from the FreeBSD
  changes. PAPI_EVENTS_CSV could not be set, which would make the event
  creation script hang forever.  Also catch various fallthroughs in the code
  where SUBSTR wasn't being set, which is how the above problem can happen.

  * ef484c00 src/linux-timer.h: Fix typo in linux-timer.h

2012-04-14  

  * 7c3385f4 src/components/bgpm/CNKunit/CVS/Entries
  src/components/bgpm/CNKunit/CVS/Repository
  src/components/bgpm/CNKunit/CVS/Root...: Removed CVS stuff from Q code.

  * 2cf4aeb2 src/configure src/configure.in src/linux-bgq.c...: Removed
  papi_events.csv parsing from Q code. (CVS stuff still needs to be taken care
  of.)

2012-04-12  

  * 153c2bb1 INSTALL.txt: Updated INSTALL notes for Q

2012-05-17  

  * ff6a43fb src/Makefile.in src/Makefile.inc src/components/README...: Added
  missing files for Q merge.  Conflicts:  src/configure src/configure.in
  src/freq.c

2012-04-12  

  * 0e142630 src/Rules.bgpm src/components/bgpm/CNKunit/CVS/Entries
  src/components/bgpm/CNKunit/CVS/Repository...: Added PAPI support for Blue
  Gene/Q.

2012-05-14  

  * ad7e3fa0 src/components/rapl/linux-rapl.c: Properly accumulate RAPL results
   Previously it was resetting the counts on read, instead of continuing to
  count as per other PAPI events.

  * c79e3018 src/components/rapl/tests/rapl_overflow.c: Fix some warnings in
  rapl_overflow test

  * 731afd1a src/components/rapl/tests/Makefile
  src/components/rapl/tests/rapl_overflow.c: Add rapl_overflow test  This test
  sees if we can measure RAPL in conjunction with overflow CPU performance
  events.

  * b0e201bb src/components/rapl/utils/Makefile
  src/components/rapl/utils/rapl_plot.c: Remove derived "uncore" values from
  rapl tool  They weren't really measuring uncore, but were just TOTAL - PP0. 
  It was causing some confusion.

2012-05-09  

  * 547e9379 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump the version
  number to 4.9.0.0  Read 4.9 as pre-5.0 master was at version number 4.2.1,
  this was archaic... Sorry for the confusion Tushar, master is the correct
  branch for the latest development code.

  * 133e3d67 src/configure src/configure.in: Fix perfctr build  In the FreeBSD
  changes I removed the CPU determination by reading /proc/cpuinfo as that was
  prone to failure and non-portable.  This broke perfctr as it was doing a huge
  CPU name lookup to determine if it was on an x86 system or not.  This change
  fixes that.

2012-05-08  

  * 42b21d67 src/papi_libpfm4_events.c: Fix PAPI event enumeration inside of
  VMware  VMware disables the availability of architectural events when
  virtualized PMU is not available.  libpfm4 was checkign this when enumerating
  events, and we would end up in the situation where ix86arch was marked active
  but 0 events were available.  We didn't check for this error condition and
  thus end up thoroughly confused.

2012-05-07  

  * fd79a584 src/freebsd.c: Fix event enumeration on FreeBSD  It was passing
  PAPI_OK in all cases, causing papi_native_avail to try to do things like
  report groups even when groups weren't available.

  * 53732c2e src/freebsd.c: Add Virtual Machine detection support to FreeBSD 
  again, support for this on x86 is OS Neutral

  * 7b4d7c96 src/configure src/configure.in src/freebsd-memory.c...: Add
  x86_cacheinfo support to FreeBSD  The x86 cache and memory info is
  OS-independent, so add support for it to FreeBSD.

  * 91033df6 src/Makefile.in src/Makefile.inc src/configure...: Re-enable
  predefined events on FreeBSD

  * 36f6dc1b src/freebsd.c src/freebsd/map.c src/freebsd/map.h: Modify FreeBSD
  to use _papi_load_preset_table

  * 45651746 src/freebsd.c: Cleanup the freebsd code a bit.

  * e1554ed8 src/configure: re-run autoconf for updated configure

  * 1deb2f5d src/Makefile.inc: Make sure a proper dependency for
  papi_events_table.h exists  Our Makefile code that builds a shared library is
  way broken; it will fail to rebuild in many cases where the static library
  properly detects thing.

  * 28e28006 src/configure.in: Make papi_events_table.h build normally, not by
  configure.

  * 9a66dfa5 src/configure.in: Another place papi_events_table.sh is called

  * 12e4a934 src/Makefile.inc src/papi_events_table.sh: Make
  papi_events_table.sh take a command line argument  This way we can use it on
  any .csv file, not just papi_events.csv

  * 7018528f src/freebsd/memory.c: Remove unused freebsd/memory.c file

  * 819e5826 src/freebsd_events.csv: Make freebsd_events.csv a valid PAPI event
  file

  * 9cc4a468 src/freebsd.c src/freebsd/map-atom.c src/freebsd/map-core.c...:
  Fix FreeBSD build on head.  This temporarily disables preset events.  There
  are also a few other minor fixes.

2012-05-01  

  * ab36c0a2 src/Makefile.inc src/configure src/configure.in: Update build
  system for FreeBSD

  * 2b61d8b7 src/freebsd.c src/freebsd.h: Fix various compiler warnings on
  FreeBSD

  * 2c0bcc84 src/freebsd.c: Enable new Westmere events on FreeBSD

  * b0499663 src/freebsd/map-i7.c src/freebsd/map-i7.h
  src/freebsd/map-westmere.c...: Add Westmere event support for FreeBSD

  * e54cabc6 src/ctests/inherit.c: Fix the inherit ctest to compile on FreeBSD

  * d9dbdd31 src/components/appio/appio.c: - change in appio component
  (appio.c): removed reference to .ntv_bits_to_info  as it doesn't exist in the
  PAPI component interface.

2012-04-27  

  * 5d661b2d src/Rules.pfm src/Rules.pfm_pe: Add the libpfm -Wno-override-init
  bandaid to the other rules files.  In
  b33331b66137668155c02e52c98a7e389fad402e we test if gcc -Wextra complains
  about some structure initialization that libpfm does. This was incoperated
  into Rules.pfm4_pe only.  Jim Galarowicz noticed the other Rules files didn't
  have it.

  * 4349b6fd src/Rules.pfm4_pe src/Rules.pfm_pe: Cleanup the perf events Rules
  files.  Steve Kaufmann reported that CONFIG_PFMLIB_OLD_PFMV2 is only used for
  libpfm3 builds targeting old versions of perfmon2.

2012-04-26  

  * 8a7fef68 src/mb.h: Add memory barries for ia64

2012-04-24  

  * 9af4dd4a src/libpfm4/README src/libpfm4/config.mk
  src/libpfm4/include/perfmon/perf_event.h...: Import libpfm4 git snapshot 
  This brings libpfm4 up to 9ffc45e048661a29c2a8ba4bfede78d3feb828f4  The
  important change is support for Intel Atom Cedarview.

2012-04-20  

  * fac6aec0 src/linux-bgp-memory.c src/linux-bgp.c: Some BG/P cleanups. 
  Removed a lot of dead code, noticed when looking for any potential BG/P
  issues.

  * 977709f6 src/linux-bgp-preset-events.c src/linux-bgp.c: Fix PAPI compile on
  BG/P  Thanks to Harald Servat <harald.servat@bsc.es>

2012-04-19  

  * 5207799e release_procedure.txt: Modified release_procedure.txt to push
  tags.

2012-04-18  

  * b248ae80 doc/Makefile: Have clean remove the doxygen error file.

  * 1d4f75a3 doc/Doxyfile-man1 doc/Doxyfile-man3: Fix an error in the Doxygen
  config files.  Doxygen includes things with @INCLUDE not @include. The html
  file had this, the man page files did not...

2012-04-17  

  * 979cda20 cvs2cl.pl delete_before_release.sh gitlog2changelog.py...: Update
  the release machinery for git.  gitlog2changelog.py takes the output of git
  log and parses it to something like a changelog.

  * 67bdd45f doc/Doxyfile-html: Cover up an instance of doxygen using full
  paths.  Doxygen ( up to 1.8.0, the most recent at this writing ) would use
  full paths in directory dependencies ignoring the use relative paths config
  option.

2012-04-13  

  * c38eb0b7 src/libpfm-3.y/lib/intel_corei7_events.h
  src/libpfm-3.y/lib/intel_wsm_events.h src/libpfm-3.y/lib/pfmlib_intel_nhm.c:
  Add missing update to libpfm3  Somehow during all of the troubles we had with
  importing libpfm3 into CVS, we lost some Nehalem/Westmere updates.  Tested on
  a Nehalem machine to make sure this doesn't break anything.

  * 193d8d06 src/papi_libpfm3_events.c: Fix max_multiplex case on
  perf_event/libpfm3  num_mpx_cntrs was being set to 512 even though the real
  maximum is 32, causing a buffer overflow and segfault.

2012-04-12  

  * f1f7fb5b src/threads.h: Fix minor typo in a comment

  * 0373957d src/linux-timer.c: Fix potential fd leak  Noticed by coverity
  checker.

  * 71727e38 src/ctests/max_multiplex.c: Improve max_multiplex ctest  on
  perfmon2, this test was failing because the maximum number of multiplexed
  counters was much more than the available counters we could test with.  This
  change modifies the test to not fail in this case.

2012-04-11  

  * fdbdac9f src/perfmon.c: Fix the perfmon substrate.  It was missing a
  _papi_libpfm_init() call, which meant the number of events was being left at
  0.

2012-04-09  

  * 2a44df97 src/libpfm-3.y/examples_v2.x/multiplex.c
  src/libpfm-3.y/examples_v2.x/pfmsetup.c
  src/libpfm-3.y/examples_v2.x/rtop.c...: Catch a few libpfm-3.y files up to
  libpfm-3.10.  More skeletons keep falling out of the cvs closet. This is just
  what diff -q -r catches.

2012-04-04  

  * 0e05da68 src/components/rapl/utils/Makefile
  src/components/rapl/utils/README src/components/rapl/utils/rapl_plot.c: Add
  the rapl_plot utility to the RAPL component.  This utility uses PAPI to
  periodicly poll the RAPL counters and generate average power results suitable
  for plotting.  There's been a lot of interest in this utility so it's
  probably useful to include it with the RAPL component.

  * 2daa03ac src/papi_internal.c: Check if a component is disabled at init
  time.  This change modifies the code so that at PAPI_library_init() time we
  check the component disable field, and we don't call the init routines for
  components the user has disabled.  This allows code like the following to
  happen _before_ PAPI_library_init():  numcmp = PAPI_num_components();
  for(cid=0; cid<numcmp; cid++) { cmpinfo = PAPI_get_component_info(cid); if
  (strstr(cmpinfo->name,"cuda")) { cmpinfo->disabled=1;
  strncpy(cmpinfo->disabled_reason,"Disabled by user",PAPI_MAX_STR_LEN); } } 
  We might want to add a specific PAPI_disable_component(int cid) call of maybe
  even a PAPI_disable_component(char *name) as the above code causes compiler
  warnings since cmpinfo is returned as a const pointer.  This all works
  because currently PAPI currently statically allocates all of the components
  at compile time, so we can view and modify the cmp_info structure before
  PAPI_library_init() is called.

  * 3fd2b21e src/components/appio/README src/components/appio/appio.c
  src/components/appio/appio.h...: Added support to count reads that are
  interrupted or would block.

2012-04-03  

  * dd3a192f release_procedure.txt: Change chmod flags for doxygen stuff from
  755 to 775 to allow group write permissions.

2012-03-30  

  * deac54cc src/components/coretemp/linux-coretemp.c
  src/components/coretemp/tests/coretemp_basic.c
  src/components/coretemp/tests/coretemp_pretty.c...: Add new
  PAPI_enum_cmp_event() function  This will be needed when we remove the
  16-component limit.  Currently in PAPI_enum_event() the component number is
  gathered from bits 29-26 of the eventcode.  This won't work anymore once we
  remove those bits.  Also update the various components to not use
  PAPI_COMPONENT_MASK() as this too will go away in the transition.

  * 48331cc9 src/configure src/configure.in src/papi.c...: Place all
  compiled-in components in the _papi_hwd[] array.  Previously we had separate
  compiled_in[] and _papi_hwd[] arrays. At init time a pointer to the
  compiled_in[] was copied to _papi_hwd[] if initialization passed.  This kind
  of code setup makes enumerating components hard, and finding info from
  non-available components would require additional function entry points. 
  This change leaves all compiled in components to _papi_hwd[]. Availability of
  the component can be checked with the new "disabled" field.  This will make
  enumeration support a lot easier to add. It can possibly cause user confusion
  if they try to access component structures directly without checking the
  "disabled" field first.  This change should also make any eventual support
  for run-time component enabling/disabling a lot easier.

  * 66a72f44 src/papi.c: Documentation was referring to nonexistent
  "PAPI_enum_events()"  The actual function we have is PAPI_enum_event()

  * 0f2c2593 src/components/coretemp/linux-coretemp.c
  src/components/lustre/linux-lustre.c src/components/mx/linux-mx.c...: Add
  support for reporting reason for failed component initialization.  This
  change adds the fields "disabled" and "disabled_reason" to the
  component_info_t structure.  At initialization time, PAPI will set the
  "disabled" field to the value returned by component init (that is PAPI_OK if
  OK or an error otherwise).  This can be checked later to find why component
  init failed.  Also provided is the "disabled_reason" string.  The components
  can set this at failure time, and this can be printed later.  For example,
  this is sample output of the updated papi_component_avail routine: 
  
  -  Compiled-in components: Name:   perf_events.c           Linux perf_event
  CPU counters Name:   linux-rapl              Linux SandyBridge RAPL energy
  measurements \-> Disabled: Not a SandyBridge processor Name:   example.c     
           A simple example component Name:   linux-coretemp          Linux
  hwmon temperature and other info \-> Disabled: No coretemp events found Name:
    linux-net.c             Linux network driver statistics Name:   linux-mx.c 
              Myricom MX (Myrinet Express) statistics \-> Disabled: No MX
  utilities found Name:   linux-lustre.c          Lustre filesystem statistics
  \-> Disabled: No lustre filesystems found  Active components: Name:  
  perf_events.c           Linux perf_event CPU counters Name:   example.c      
          A simple example component Name:   linux-net.c             Linux
  network driver statistics

2012-03-29  

  * d84b144e src/components/rapl/Rules.rapl src/components/rapl/linux-rapl.c
  src/components/rapl/tests/Makefile...: Add a SandyBridge RAPL (Running
  Average Power Level) Component  This component allows energy measurement at
  the package-level on Sandybridge machines.  To run, you need the Linux
  x86-msr kernel module installed and read permissions to /dev/cpu/*/msr  The
  output from the rapl_busy test looks like this on a SandyBridge-EP machine: 
  Trying all RAPL events Found rapl component at cid 2  Starting
  measurements...  Doing a naive 1024x1024 MMM... Matrix multiply sum:
  s=1016404871450364.375000  Stopping measurements, took 3.979s, gathering
  results...  Energy measurements: PACKAGE_ENERGY:PACKAGE0	175.786011J	(Average
  Power 44.2W) PACKAGE_ENERGY:PACKAGE1	 73.451096J	(Average Power 18.5W)
  DRAM_ENERGY:PACKAGE0	 11.663467J	(Average Power 2.9W) DRAM_ENERGY:PACKAGE1	 
  8.055389J	(Average Power 2.0W) PP0_ENERGY:PACKAGE0	    119.215500J	(Average
  Power 30.0W) PP0_ENERGY:PACKAGE1	     16.315216J	(Average Power 4.1W)  Fixed
  values: THERMAL_SPEC:PACKAGE0	135.000W THERMAL_SPEC:PACKAGE1	135.000W
  MINIMUM_POWER:PACKAGE0	51.000W MINIMUM_POWER:PACKAGE1	51.000W
  MAXIMUM_POWER:PACKAGE0	215.000W MAXIMUM_POWER:PACKAGE1	215.000W
  MAXIMUM_TIME_WINDOW:PACKAGE0	0.046s MAXIMUM_TIME_WINDOW:PACKAGE1	0.046s
  rapl_basic.c                           PASSED

2012-03-26  

  * b44d60ca src/components/appio/appio.c src/components/appio/appio.h
  src/components/appio/tests/appio_test_read_write.c: Added support for
  intercepting open calls.

2012-03-23  

  * 9e9fac4b src/Makefile.in src/Rules.pfm4_pe src/configure...: Fix the test
  case in configure at 0cea1848  Make use of the structure we're using for the
  override-init test case.

  * 0cea1848 src/configure src/configure.in: Doctor CFLAGS when testing for a
  gcc warning.  -Wextra was not in CFLAGS when I attempted to check for the
  initialized field overwritten warning. So we set -Wall -Wextra -Werror when
  running the test code.

2012-03-22  

  * b33331b6 src/Makefile.in src/Rules.pfm4_pe src/configure...: Fix
  initialized field overwritten warning when building libpfm4 on some gcc
  versions.  In gcc 4.2 or so, -Woverride-init was added to -Wextra causing
  issues with code like struct foo { int a; int b;};  struct foo bar = { .a=0,
  .b=0, .b=5; };  --Wno-override-init allows us to keep -Werror for libpfm4
  compiles.

2012-03-21  

  * ae149766 src/papi_internal.h: Delete an old comment.  Yes, Dan in 2003, we
  should and do use MAX_COUNTER_TERMS as the size of the event position array.

2012-03-20  

  * b937cdd8 src/papi_user_events.c: Move the user events code over to using
  the new preset event data structure.

2012-03-14  

  * 6ca599e2 src/papi_internal.c: Fix a small memory leak.  We weren't freeing
  _papi_hwd, causing a lot of MEM_LEAK warnings in buildbot.

2012-03-13  

  * 473b8203 src/aix.h src/configure src/configure.in...: Remove last MY_VECTOR
  usage.  Have configure explicitly set the name of the perf counter substrate
  vector in the components_config.h file  This removes one more special case,
  and gets us slightly closer to being able to have multiple CPU substrates
  compiled in at once.

  * 360c3003 src/papi.c src/papi_libpfm3_events.c src/papi_libpfm_events.h...:
  Clean up the papi_libpfm3_events.c code.  Move code that was perfctr specific
  into perfctr-x86.c

  * 03de65e3 src/libpfm-3.y/examples_v2.x/multiplex.c
  src/libpfm-3.y/examples_v2.x/pfmsetup.c
  src/libpfm-3.y/examples_v2.x/rtop.c...: Fix some libpfm3 warnings.  libpfm3
  is not maintained anymore, so applied these changes locally.  libpfm3 is
  compiled with -Werror so they broke the build with newer gcc even though they
  are just warnings in example programs.

  * ad490353 src/ctests/zero_named.c src/utils/multiplex_cost.c: Fix a few
  compiler warnings in the tests.

  * a0fec783 src/linux-timer.c: Fix another linux-timer.c compile problem.  I
  hadn't tested with debug enabled, so all of buildbot failed last night.

2012-03-12  

  * a3733ecd src/linux-timer.h: Fix typo in the linux-timer.h header 
  _linux_get_virt_usec_timess should have been _linux_get_virt_usec_times 
  Thanks to Steve Kaufmann for noticing this.

  * 785db5ae src/linux-common.c src/linux-timer.c: Fix timer compile on Power
  machines  Power, ARM, and MIPS have no get_cycles() call so provide a dummy
  function on these architectures.

  * 708090ee src/linux-common.c src/linux-timer.h: Another fix for non-POSIX
  timers  The recent changes had the name of the fallback usec method wrong.

  * 88e8d355 src/papi_libpfm3_events.c: Fix a warning in the libpfm3 code.

  * 8ca63705 src/configure src/configure.in src/linux-common.c...: Fix build
  when not using POSIX timers  The PAPI build system was being overly clever
  with how it defined what kind of wall clock timers were to be used, so of
  course I broke things when breaking the timer code out to make it a bit more
  understandable.  This patch breaks out the timer define into two pieces; one
  saying it's a POSIX timer and one saying whether to use HR timers or not.

2012-03-09  

  * b69ad727 src/linux-common.c src/linux-timer.c src/linux-timer.h: Add Linux
  posix gettime() nanosecond functions

  * af2c9a49 src/papi.c src/papi_vector.c src/papi_vector.h: Add
  ->get_virt_nsec() and ->get_real_nsec() OS vectors  Currently PAPI was just
  cheating and running the usec functions and multiplying by 1000.  Make this
  the default, but allow the OS code to override if they have timers capable of
  returning nsec percision.

  * 24c68dbe src/aix.c src/freebsd.c src/linux-bgp.c...: Clean up
  ->get_virt_usec()  It no longer needs to be passed a context, so remove that
  from all callers.  Also, ->get_virt_cycles() was just a get_virt_usec()*MHz
  on most platforms.  While this is a bit dubious (especially as MHz can't be
  relied on) make this a common routine that will be added at innoculate time
  if ->get_virt_cycles() is set to NULL.

  * a3ef7cef src/linux-common.c src/linux-timer.c src/linux-timer.h: Cleanup
  the Linux timer code.  Split things up a bit to make the code more readable.

  * 50ce8ea0 src/papi_internal.c: Change a strcpy() to strncpy() just to be a
  bit safer.

  * 0526b125 src/components/lmsensors/linux-lmsensors.c: Fix buffer overrun in
  lmsensors component

  * b088db70 src/libpfm4/config.mk
  src/libpfm4/docs/man3/pfm_get_os_event_encoding.3
  src/libpfm4/examples/showevtinfo.c...: Update to current git libpfm4 snapshot

  * ccb45f61 src/aix.c src/extras.c: Fix segfault on AIX  During some of the
  cleanups, the extras.h header was not added to aix.c  This made some of the
  functions (silently) use default data types for the function parameters,
  leading to segfaults in some of the tests.

2012-03-08  

  * 1cb22d0b src/components/coretemp/linux-coretemp.c src/utils/native_avail.c:
  Make "native_avail -d" report units if available  Add units support to the
  coretemp component, have native_avail -d (detailed mode) print it to make
  sure it works.

  * 9c54840e src/extras.c src/extras.h src/papi_internal.c...: Add new
  ntv_code_to_info vector  This will allow components to return the extended
  event_info data for native events.  If a component doesn't implement
  ntv_code_to_info then get_event_info falls back to the old way of just
  reporting symbol name and long description.

  * c4579559 src/papi.h: Add new event_info fields  New fields are added to
  event_info that allow passing on extended information.  This includes things
  such as measurement units, data type, location, timescope, etc.

  * 17533e4e src/ctests/all_events.c src/ctests/derived.c
  src/ctests/kufrin.c...: Restore fields to event_info structure  The changes
  made were probably too ambitious, even for a 5.0 release.  In the end it
  looks like we can remain API compatible while just using up a little more
  memory.  We can still save space by shrinking preset_t behind the scenes.

  * 6f13a5f6 src/aix.c src/components/coretemp/linux-coretemp.c
  src/components/coretemp_freebsd/coretemp_freebsd.c...: Remove
  ->ntv_bits_to_info vector from component interface  We weren't using it
  anymore, and many of the components were just setting it to NULL
  unncessarily.  We'll be replacing the functionality soon with
  ntv_code_to_info

  * 401f37bc src/components/example/example.c src/ctests/subinfo.c src/papi.h:
  Remove invert and edge_detect fields from component info  These fields were
  there to indicate if a CPU component supported these attributes (for Intel
  processors) but in the end we never used these.  The proper way to export
  this info is during event enumeration.

  * f32fe481 src/papi_events.csv: We had the PAPI_VEC_INS preset wrong on amd
  fam12h llano

  * 38a8d8a7 src/ctests/multiplex2.c src/papi_preset.c: Fix preset adding code
  to be more robust.  If an invalid event is in a preset definition, we'd
  currently add it with an eventcode of 0 to the preset, which would break if
  you tried to use the event.  This change properly prints a warning in this
  case, and sets the preset to be unavailable.

  * 2591a546 src/ctests/val_omp.c src/ctests/zero_omp.c: Remove the hw_info
  field from add_two_events calls.  Two ctests missed the bus when Vince
  reworked the add_two_events call.

  * 358a2e32 src/papi_internal.c src/papi_preset.c: Fix segfault seen on an AMD
  fusion machine  With the recent preset and component hanges, we were not
  properly resetting papi_num_components if PAPI_library_init()/PAPI_shutdown()
  was called multiple times.

2012-03-07  

  * 7751f5d8 src/ftests/zeronamed.F: Fix a compile error on aix.  Dan ran over
  72 characters on a single line. xlf actually enforced that part the Fortran
  spec.

2012-03-06  

  * 1c87d89c src/ftests/Makefile src/ftests/zeronamed.F src/papi_fwrappers.c:
  Add support for {add, remove, query}_named to Fortran interface; add zero
  named.F test case; modify ftests Makefile to support "all" tag.

  * 71bd4fdd src/configure src/configure.in: Modify configure to define the
  default FTEST_TARGETS as "all"

  * 54e39855 src/components/vmware/vmware.c: Changed tri8ggering environment
  variable to PAPI_VMWARE_PSEUDOPERFORMANCE per Vince's earlier email. This
  should complete all the VMware component changes.

2012-03-05  

  * 845503fb src/Makefile.inc: Add missing MISCSRCS line to Makefile.inc  This
  was breaking the shared library build

2012-02-01  

  * 11be8e4b .../appio/tests/appio_test_fread_fwrite.c
  src/components/appio/tests/appio_test_pthreads.c
  src/components/appio/tests/appio_test_read_write.c: updated these tests to
  print timing information

  * 9ad62ab1 src/components/appio/README src/components/appio/appio.c
  src/components/appio/appio.h...: Added support for timing I/O calls. Updated
  tests and README.

2012-01-31  

  * beaa5ff0 src/components/appio/tests/iozone/Changes.txt
  src/components/appio/tests/iozone/Generate_Graphs
  src/components/appio/tests/iozone/Gnuplot.txt...: added the latest stable
  iozone to the appio tests.

  * 4af58174 src/components/appio/README src/components/appio/tests/Makefile
  src/components/appio/tests/init_fini.c: added a hook to run the appio test
  for iozone.

2012-01-21  

  * 15c733cf src/components/appio/CHANGES src/components/appio/README
  src/components/appio/appio.c...: Removed stray 'net' references. All
  remaining references are only for the purpose of giving credit. Updated
  change log.

2012-01-20  

  * ca4b6785 src/components/appio/README src/components/appio/appio.c
  src/components/appio/tests/appio_list_events.c...: - general cleanup -
  improved tests to be quiet and be conform to other PAPI tests - replaced
  hardwire constants in appio.c with symbolic ones - tests will now write to
  /dev/null to avoid filling the terminal screen with useless text - more
  comments added - @author added to files - updated README

2012-01-18  

  * bb22ed9f src/components/appio/README src/components/appio/Rules.appio
  src/components/appio/appio.c...: - Added support to measure
  bytes/calls/eof/short calls for read/write calls. - Interception of
  read/write and fread/fwrite calls. - Works for static and dynamic linkage
  (without need for LD_PRELOAD) - Tested OK on 32-bit i686 Linux 2.6.38. 
  Tushar

2011-12-03  

  * d58b34b6 src/components/appio/tests/Makefile
  src/components/appio/tests/appio_list_events.c
  src/components/appio/tests/appio_values_by_code.c...: *** empty log message
  ***

  * cd7d7acc src/components/appio/tests/appio_values_by_name.c: file
  appio_values_by_name.c was added on branch appio on 2011-12-03 05:22:06 +0000

  * 425e4d09 src/components/appio/tests/appio_values_by_code.c: file
  appio_values_by_code.c was added on branch appio on 2011-12-03 05:22:06 +0000

  * 596ad9bb src/components/appio/tests/appio_list_events.c: file
  appio_list_events.c was added on branch appio on 2011-12-03 05:22:06 +0000

  * 119543dc src/components/appio/tests/Makefile: file Makefile was added on
  branch appio on 2011-12-03 05:22:06 +0000

2012-03-05  

  * ba748a41 src/components/vmware/configure: Remove old configuration
  parameters from vmware/configure

2012-03-02  

  * 2b7e2abb src/ctests/Makefile src/ctests/max_multiplex.c: Add a new
  max_multiplex test  This tries to use the maximum number of multiplexed
  events.  This was written in response to the 32/64 perf_event multiplexed
  event limit reported by Mohammad j. Ranji

  * a0985ff5 src/multiplex.c src/papi_internal.c src/papi_libpfm4_events.c...:
  Fix issue when using more than 32 multiplexed events on perf_event  On
  perf_event we were setting num_mpx_cntrs to 64.  This broke, as the
  MPX_EventSet struct only allocates room for PAPI_MPX_DEF_DEG events, which is
  32.  This patch makes perf_event use a value of 32 for num_mpx_cntrs,
  especially as 64 was arbitrarily chosen at some point (the actual value
  perf_event can support is static, but I'm pretty sure it is higher than 64).

  * 331c516c src/ctests/acpi.c: Remove the acpi.c file from ctests  It wasn't
  being built, and we removed the ACPI component a while ago.

  * 73e7d191 src/components/vmware/vmware.c: Removed all old references to
  #define VMWARE_PSEUDO_PPERF and switched over to getenv

2012-03-01  

  * 969b8aa9 src/ctests/Makefile src/ctests/zero_named.c src/papi.c: Three new
  APIs: PAPI_query_named_event PAPI_add_named_event PAPI_remove_named_event and
  a new test: zero_named Still to do: maybe test named native events and
  support Fortran

  * 97bf9bf8 src/papi.c src/papi.h: First pass implementation of {add, remove,
  query}_named_event

  * 2416af88 src/components/vmware/vmware.c: Add functionality to getenv
  selectors

  * 297f9cd6 src/papi.c: Fix possible race in _papi_hwi_gather_all_thrspec_data
   The valgrind helgrind tool noticed this with the thrspecific test

  * be599976 src/papi_internal.c: Add some locking in
  _papi_hwi_shutdown_global_internal  This caused a glibc double-free warning,
  and was caught by the Valgrind helgrind tool in krentel_pthreads  There are
  some other potential locking issues in PAPI_shutdown, especially when debug
  is enabled.

  * 8444d577 src/utils/clockres.c src/utils/command_line.c: Cleanup the oxygen
  markup for the utilities.

  * 7144394f doc/Doxyfile-html: Missed a recursive tag for the html config
  file.

  * 63b2efc4 src/papi_preset.c: Fix segfaults in tests on AMD machines  The
  papi_preset code was wrongly calling papi_free() on some code that was
  allocated with strdup()  (not with papi_malloc).  We were only noticing this
  on AMD machines because it was the code for freeing developer notes in
  presets, and currently only AMD events have developer notes.

  * 0b1350df src/linux-common.c: Touch 'virtual_vendor_name' to cleanup a
  warning on bluegrass.

2012-02-29  

  * 1f17b571 src/Makefile.inc src/Rules.perfctr-pfm src/Rules.pfm4_pe...: Merge
  the contents of papi_libpfm_presets.c into papi_preset.c  The code isn't
  libpfm specific at all anymore, it's the generic "read presets from a file"
  code.  It makes more sense to find it in papi_presets.c

  * d087d49f src/papi_fwrappers.c: Fix Fortran breakage after the preset event
  changes

  * 156141ec src/papi_libpfm_presets.c src/papi_preset.c src/papi_preset.h:
  Simplify papi_libpfm_presets.c  Previously adding presets from
  papi_events.csv was a three step process.  1.  Load the presets from the
  file, put in temporary structure. 2.  Convert this temporary structure to a
  "findem" dense structure 3.  Pass this dense structure to
  _papi_hwi_setup_all_presets for final assignment.  This change creates the
  final assignment directly without the intermediate two steps.

  * 8bc2bafd src/papi.c src/papi.h src/papi_common_strings.h...: Make the
  internal preset_info match the one exported by papi.h  There were a lot of
  cases where the same structure fields were available, just with different
  names.  That was confusing.  Also, this allows using a pointer to the preset
  info instead of having to copy values out of the structure when gathering
  event info for presets.

  * 8fda68cb src/genpapifdef.c src/papi.c src/papi_common_strings.h...: Merge
  the 4 separate preset structs into one.  _papi_hwi_presets was a structure
  containing pointers to 4 other arrays of structures which held the actual
  preset data.  This change merges all of these into one big structure.

2012-02-28  

  * e69815d7 src/linux-bgp.c src/papi_internal.c src/papi_internal.h...:
  Removing remaining vestiges of references to bipartite routines. Now the only
  references are in papi_bipartite.h, perfctr-x86.c and winpmc-p3.c.

  * 5766b641 src/papi_bipartite.h src/perfctr-x86.c
  src/win2k/substrate/winpmc-p3.c: These changes implement the bipartite
  allocation routine as a header file to be included in whatever cpu component
  needs it. Right now, that's just perfecter-x86 and windows. Both components
  have been modified and perfecter-86 compiles cleanly. Neither has been tested
  since I don't have access to a test bed.

  * 7f444b76 src/papi_libpfm_presets.c src/papi_preset.c src/papi_preset.h:
  Merge the hwi_dev_notes structure into hwi_preset_data

  * 21a1d197 src/components/vmware/vmware.c: add getenv

  * 08c1b474 src/perfctr-x86.c: Merge bipartite routine into perfecter-x86
  component, since this is effectively the only place it is used.

  * 9ed9b1f5 src/papi.c: Remove a reference to PAPI_set_event_info() which was
  removed for PAPI 4

  * c626f064 src/ctests/all_events.c src/ctests/derived.c
  src/ctests/kufrin.c...: Convert PAPI_event_info_t to separate preset event
  info  This moves the preset event info to its own separate structure, which
  reduces greatly the large string overhead that is not used by the native
  events.

  * 787d6822 src/perfctr-x86.c: Move bipartite stuff to perfctr_x86 since
  that's really the only place it's currently used.

  * 229c8b41 src/components/vmware/vmware.h: Add env_var definition to vmware.h

  * 46aaf6ca src/components/vmware/vmware.c: Remove all unneeded cases

  * 874a5718 src/freebsd.c src/perfctr-ppc64.c: Remove more unused references
  to .bpt_ routines in preparation for refactoring.

  * 74e5a5fd src/components/vmware/vmware.h: Remove uneeded defines from
  vmware.h header

  * 58b51367 src/components/coretemp_freebsd/coretemp_freebsd.c
  src/components/vmware/vmware.c src/solaris-niagara2.c...: Remove unused
  references to .bpt_ routines in preparation for refactoring.

2012-02-27  

  * 6b184158 src/Makefile.inc src/components/coretemp/linux-coretemp.c
  src/configure...: Have separate concept of "compiled-in" versus "active"
  components  With this change, the _papi_hwd[] component info array only
  contains a null-terminated list of _active_ components.  The
  _papi_compiled_components[] array has the original full list.  At
  init_substrate[] time a pointer to a component is only put in the _papi_hwd[]
  list if it is successfully initialized.  In addition the
  PAPI_num_compiled_components() and PAPI_get_compiled_component_info() calls
  have been added, but this is probably a confusing interface so they might
  only be temporary additions.

  * 042bfd5b src/Makefile.inc src/papi.c src/papi_data.c...: Split the contents
  of papi_data.c to various other files.  The data declarations in papi_data.c
  were mostly used in other files. Move these into more relevant locations.

  * 1877862c src/papiStdEventDefs.h src/papi_common_strings.h: Remove the BGL
  and BGP specific pre-defined events.  They can be better replaced by
  user-events, and we also had already removed BGL support completely a while
  back.  This removes some ifdefs from the pre-defined event list and keeps
  future pre-defined events from having different eventcodes on different
  platforms.

  * c3986b79 src/components/coretemp/linux-coretemp.c
  src/components/cuda/linux-cuda.c
  src/components/infiniband/linux-infiniband.c...: Add names and descriptions
  for components.  Also fixes cuda and lmsensors build issues introduced by
  vector.h cleanup

  * 2c84f920 src/aix.c src/freebsd.c src/perf_events.c...: Add names and
  descriptions to all of the CPU substrates.

  * 9f3e634a src/components/example/example.c src/papi.h src/utils/component.c:
  Add new "description" and "short_name" fields to .cmp_info structure  This
  description field allows components to provide extra information on what they
  do.  The short_name field will eventually be used to pre-pend event names. 
  The papi_component_avail utility has been updated to print the description. 
  The example component was updated to fill in these values.

  * ab61c9a7 src/Makefile.inc src/genpapifdef.c src/papi_common_strings.h...:
  Split papi_data.c into two parts  papi_data.c was half data structure
  definitions for all of PAPI and half string definitions used by both PAPI
  *and* genpapifdef  This splits the common string definitions to
  papi_common_strings.h so that genpapifdef can still be built w/o linking
  libpapi.a while making the code a lot easier to follow.

  * b8e6294c src/solaris-ultra.c: Remove unncessary extern declarations from
  solaris-ultra.c.

  * 5ddaff91 src/sys_perf_event_open.c: Remove unncessary extern declarations
  from sys_perf_event_open.c

  * a6c463b7 doc/Doxyfile-common.config: Create a common config file for
  doxygen.  As part of streamlining the doxygen process, this is a new template
  doxygen config files. This is a blank template file generated by doxygen
  1.7.4 (the version currently mandated by the release procedure )

  * dc2c11fa src/aix.c src/aix.h src/perfmon.c...: The vector pre-definition
  should be in the .c file, not the .h file

  * 0b3c83c3 src/perf_events.c: Remove unnecessary extern declarations in
  perf_events.c

  * b93efca0 src/perfmon.c src/perfmon.h: Remove unnecessary extern
  declarations in perfmon.c

  * 7f7a2359 src/papi_preset.c: Remove unnecessary extern declarations from
  papi_preset.c

  * ecec03ad src/papi_libpfm_presets.c: Remove extraneous extern declarations
  from papi_libpfm_presets.c

  * 7b5f3991 src/extras.c: remove extraneous extern declarations from extras.c

  * f6470e4d src/aix-memory.c src/aix.c src/aix.h: Remove unncessary extern
  declarations from aix.c

  * f197d4ab src/papi_data.h src/papi_internal.c: Remove unncessary extern
  declarations in papi_internal.c

  * e7b39d48 src/papi.c src/papi_data.c src/papi_data.h...: remove unnecessary
  extern definitions from papi.c

2012-02-24  

  * 92689f62 src/configure src/configure.in src/linux-common.c...: Add a
  --with-pthread-mutexes option to enable using pthread mutexes rather than
  PAPI custom locks  This is useful when running on new architectures that
  don't have a custom PAPI lock coded yet, and also for running valgrind
  deadlock detection utilities that only work with pthread based locking.

  * ca51ae67 src/papi_events.csv: Fix broken Pentium 4 Prescott support  We
  were missing the netbusrt_p declaration in papi_events.csv

  * f6460736 src/linux-common.c: Fix build on POWER, broken by the
  virtualization change.

  * 91d32585 src/perfctr-x86.c src/perfmon.c: Fix some warnings that have
  appeared due to recent changes.

  * ae0cf00f src/linux-common.c src/papi_libpfm3_events.c
  src/papi_libpfm4_events.c...: Clean up the Linux lock files  The locking
  primitives for some reason were spread among the libpfm code and the
  substrate codes.  This change moves them into linux-common and has them part
  of the OS code.  This way they will get properly initialized even if the perf
  counter or libpfm code isn't being used.

2012-02-23  

  * 88847e52 src/papi.c src/papi_memory.h: Remove _papi_cleanup_all_memory
  define from papi_memory.h  The code in papi_memory.h said:  /* define an
  alternate entry point for compatibility with papi.c for 3.1.x*/ /* this line
  should be deleted for the papi 4.0 head */  Since we are post papi-4.0 I
  thought it was time to act on this. Of course papi.c was still using the old
  name in one place.

  * 1d29dfc6 src/papi_libpfm_presets.c src/perfctr.c src/perfmon.c: Fix some
  missing includes found after the header cleanup.

  * b425a9f4 src/Makefile.inc src/extras.c src/extras.h...: Header file cleanup
   The papi_protos.h file contained a lot of no-longer in use exports.  I split
  up the ones that are still relevant to header files corresponding to the C
  file that the functions are defined in.

  * 07199b41 src/extras.c src/papi_vector.c src/papi_vector.h: Clean up the
  papi_vector code.  Remove things no longer being used, mark static functions
  as static.

  * d7496311 src/linux-common.c src/x86_cpuid_info.c src/x86_cpuid_info.h: Fix
  a missing "return 1" which meant that the virtualization flag wasn't being
  set right.  With this fix, on saturn-vm1 we now get:  Running in a VM        
   : yes VM Vendor:               : VMwareVMware  in the papi_native_avail
  header

  * 8da36222 src/freebsd.c src/linux-bgp.c src/papi.c...: Remove the
  ->add_prog_event function vector  As far as I can tell this is a PAPI 2.0
  remnant that was never properly removed.  This also removes
  PAPI_add_pevent(), PAPI_save(), and PAPI_restore(), none of which were
  exported in papi.h so in theory no one could have been using them.  Also
  removes _papi_hwi_add_pevent()

  * a5f3c8b5 src/aix.c src/freebsd.c src/linux-timer.c...: Reduce the usage of
  MY_VECTOR whenever possible.  This is an attempt to make the cpu-counter
  components to be as similar as possible to external components.

  * abbcbf29 src/any-null.h: Missed removing any-null.h during the any-null
  removal.

  * 665d4c5c src/linux-common.c: Somehow missed an include during the
  virtualization addition.

  * 0c06147b src/perfctr-2.6.x/usr.lib/event_set_centaur.os
  src/perfctr-2.6.x/usr.lib/event_set_p5.os
  src/perfctr-2.6.x/usr.lib/event_set_p6.os: Removes the last of the binary
  files from perfctr2.6.x  Some binary files were left out in the cold after a
  mishap trying to configure perfctr for the build test.

  * 3acb7d57 src/Makefile.inc src/configure src/configure.in...: Add support
  for reporting if we are running in a virtualized environment to the
  PAPI_hw_info_t structure.  This currently only works on x86.  it works by
  looking at bit 31 of ecx after a cpuid (the "in a VM" bit) and then using
  leaf 0x40000000 to get the name of the VM software (this works for VMware and
  Xen at least)  x86_cache_info.c was renamed to x86_cpuid_info.c to better
  reflect what goes on in that file (it does various things based on the cpuid
  instruction).  the testlib header was updated to report virtualization status
  in the papi header (printed for things like papi_native_avail).

2012-02-22  

  * 9c7659b5 src/Makefile.inc src/freq.c: Remove the freq.c file as nothing
  seemed to be using it.

  * d205e2d3 src/perfctr-x86.c: Made a stupid typo when converting perfctr to
  call libpfm functions with the component id.

  * 25b41779 src/papi_libpfm3_events.c src/papi_libpfm4_events.c
  src/papi_libpfm_events.h...: When updating the preset code to take a
  component index I missed a few callers.

  * a713ffb1 src/papi_internal.c src/papi_vector.c: Remove any-null component

  * 27e1c2c5 src/any-null-memory.c src/any-null.c src/any-proc-null.c...:
  Remove the any-null component.

  * 25779ae0 PAPI_FAQ.html: Saving another version of the FAQ after adding a
  git section, and removing several obsolete sections. These questions still
  need detailed review for relevance and timeliness.

  * 449a1a61 src/ctests/overflow_allcounters.c: Fix overflow_allcounters which
  was making assumptions about component 0 existing.

  * f21be742 src/ctests/hwinfo.c: Make the hwinfo test not bail out if no
  counters are available.

  * ebc675e6 src/ctests/memory.c: Make sure the memory ctest runs even if no
  components are available.

  * 9b3de551 src/linux-common.c src/perf_events.c src/perfmon-ia64.c...: Make
  sure the system info init happens at os init time.  Otherwise the system info
  never gets set if a perfcounter component isn't available.

  * 59e47e12 src/papi_internal.c: Make sure that _papi_hwi_assign_eventset()
  does the right thing if no components are available.

  * dd51e5d6 src/ctests/api.c: The api test would fail in the no cpu component
  case.  Fix it to properly check for errors before attempting to run
  high-level PAPI tests.

  * 069e9d2f src/aix.c src/papi.c src/papi_internal.h...: Fix code that was
  depending on _papi_hwd[0] existing.  Most of this was in the presets code. 
  The preset code had many assumptions so that you can only code presets with
  component[0]. This fixes some of them by passing the component index around.

  * 7259eaec src/papi_vector.c: Fix up papi_vector to get rid of some warnings
  introduced on AIX.

  * 16fe0a61 src/aix.c src/solaris-ultra.c: Fix two last substrates where I
  missed some fields in the OS structure conversion.

  * 625871ec src/perfmon.c: Missed a cmp_info field in perfmon.c

  * 680919d9 PAPI_FAQ.html: Saving the latest version of the FAQ before
  undertaking major revisions.

  * 3d4fa2e5 src/linux-timer.c src/perfctr-x86.h: Fix the perfctr code to
  compile if configured with --with-virtualtimer=perfctr

  * bbd7871f src/perfctr.c: Missed two OS vector calls in the perfctr code
  during the conversion.

  * bc6d1713 src/Makefile.inc: Removed one of the two instances of MISCOBJS
  listed in Makefile.inc.

2012-02-21  

  * 40bc4c57 src/papi_vector.c src/papi_vector.h: Remove now-unused OS vectors
  from the main papi vector table.

  * 3c6a0f7b src/aix.c src/freebsd.c src/linux-bgp.c...: Convert PAPI to use
  the _papi_os_vector for the operating-system specific function vectors.

  * 568abad5 src/papi_vector.h: Add new _papi_os_vector structure to hold
  operating-system specific function vectors.

  * a39d2373 src/ctests/subinfo.c: Missed removing a field from the subinfo
  ctest.

  * 1d930868 src/papi.h: Remove fields now in PAPI_os_info_t from the
  component_info_t struct.

  * d397d74a src/components/example/example.c: Remove fields now in
  PAPI_os_info_t from the example component.

  * 8cd5c8e0 src/aix.c src/freebsd.c src/linux-bgp.c...: Modify all the
  substrates to use _papi_os_info. instead of _papi_hwd[0]->cmp_info for the
  values moved to the OS struct

  * 58855d3a src/papi_internal.h: Add padding for future expansion to
  PAPI_os_info_t  Add _papi_hwi_init_os(void); definition

  * ea1930e1 src/papi_internal.h: Add new PAPI_os_info_t structure to
  papi_internal.h

  * 0eac1b29 src/utils/multiplex_cost.c: Modify multiplex_cost to properly use
  the API_get_opt() interface to get itimer data, rather than directly
  accessing the fields from the cmp_info structure.  This would have broken
  after the OS split.

  * 87c2aa2f src/ctests/subinfo.c: subinfo was printing itimer data from the
  cmpinfo structure.  These values will not be in cmpinfo once the OS split
  happens.

  * f2c62d50 src/components/vmware/vmware.h: Clean up the VMware Header a bit

2012-02-17  

  * 6f0c1230 src/aix.c src/components/coretemp/linux-coretemp.c
  src/components/coretemp_freebsd/coretemp_freebsd.c...: The git conversion
  reset all of the CVS $Id$ lines to just $Id$  Since we depend on the $Id$
  lines for the component names, I had to go back and fix all of them to be the
  component names again.

  * 2d208d0e src/perfctr-2.6.x/usr.lib/event_set_centaur.o
  src/perfctr-2.6.x/usr.lib/event_set_p5.o
  src/perfctr-2.6.x/usr.lib/event_set_p6.o: Remove a few binary files in
  perfctr-2.6.x

  * f78bf1af src/libpfm-3.y/Makefile src/libpfm-3.y/README
  src/libpfm-3.y/docs/Makefile...: More cleanups from the migration, latest
  version of libpfm-3.y perfctr-2.[6,7]  Version numbers got really confused in
  cvs and the git cvsimport didn't know that eg 1.1.1.28 > 1.1 ( see
  perfctr-2.6.x/CHANGES revision 1.1.1.28.6.1 :~)

  * e8aa2e61 INSTALL.txt: Explicitly state that 3.7 was the last version of
  PAPI with good windows support.

  * 546901fa src/components/cuda/linux-cuda.c: Modified CUDA component so that
  a PAPI version - that was configured with CUDA - will successfully build on a
  machine that does not have GPUs.

2012-02-16  

  * 49d9f71c src/.gitignore: Add a .gitignore file with the files that PAPI
  autogenerates.  This way they won't clutter up "git status" messages

2012-09-20  

  * 708d173a man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Rebuild the manpages for a 5.0.1 release.

2012-09-19  

  * 29cdd839 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump the version
  number for a 5.0.1 release.

  * bb7727f6 src/libpfm4/examples/fo src/libpfm4/examples/injectevt.c
  .../bin/usr/local/include/perfmon/perf_event.h...: Cleanup a botched libpfm4
  update.  As Steve Kaufmann noted, I botched an update of libpfm4.

2012-09-18  

  * dc117410 src/configure src/configure.in: Remove a trailing slash in libpfm4
  pathing.  Addresses an issue in rpmbuild when using bundled libpfm4. Reported
  and patched by William Cohen <wcohen@redhat.com>

2012-09-17  

  * e196b89b src/components/cuda/configure src/components/cuda/configure.in:
  Minor changes to CUDA configure necessary to get it running smoothly on the
  Kepler architecture.

2012-09-11  

  * 866bd51c src/papi_internal.c src/papi_preset.c: Fix preset bug  The preset
  code was only initializing the first element of the preset code[] array. 
  Thus any event with more than one subevent was not terminated at all, and the
  preset code would use random garbage as presets.  This exposed another
  problem; half our code assumed a 0 terminated code[] array, the rest was
  looking for PAPI_NULL (-1).  This standardizes on PAPI_NULL, with comments. 
  Hopefully this might fix PAPI bug #150.  This is a serious bug and should be
  included in the next stable release.

2012-08-29  

  * b978a744 src/configure src/configure.in: configure: fix autodetect perfmon
  case  The fixes I made yesterday to libpfm include finding broke on perfmon2
  PAPI if you were letting the library be autodetected. This change should fix
  things.  Tested on an actual 2.6.30 perfmon2 system.

  * 4386e6e5 src/libpfm4/Makefile src/libpfm4/README src/libpfm4/config.mk...:
  Update libpfm4 included with papi to 4.3

2012-08-28  

  * 729a8721 src/configure src/configure.in: configure: don't check for libpfm
  if incdir specified  When various --with-pfm values are passed, extra checks
  are done against the libpfm library.  This was being done even if only the
  include path was specified, which probably shouldn't be necessary.  This
  broke things because a recent change I made had the libpfm include path be
  always valid.

  * bc9ddffc src/configure src/configure.in: Fix compiling with separate
  libpfm4  The problem was if you used any of the --with-pfm-incdir type
  directives to configure, it would them assume you wanted a perfmon2 build. 
  This removes that assumption.  I did check this with perfmon2, perfctr, and
  perf_event builds so hopefully I didn't break anything.

2012-08-27  

  * 3b737198 src/papi.c src/papi_libpfm4_events.c src/papi_preset.c...: Hack
  around debugging macros.  Under NO_VARARG_MACROS configs the debug printing
  guys become two expression statements. This is bad for code expecting eg
  SUBDBG(); to be one statement.  --ie-- if ( foo ) SUBDBG("Danger Will
  Robinson"); ------  In order to keep the useful file and line number
  expansions with out variadic macro support, we split SUBDBG into two parts; A
  call to DEBUGLABEL() and friends and then a call to a function to capture the
  actual informative message.  So if(foo) stmt(); becomes if (foo)
  print_the_debug_label(); print_your_message(...); And your message is always
  printed.  See papi_debug.h for what actually happens.  I'm not clever enough
  to work around this any other way, so I exaustivly put { }s around every case
  of the above I found. (I only searched on 'DBG' so its possible I missed
  some)
2013-01-15  

  * 0917f567 src/threads.c: Cleaned up compiler warning (gcc version 4.4.6)

  * 06ca3faa src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/L2unit/linux-L2unit.c...: Cleaned up compiler warnings on
  BG/Q (gcc version 4.4.6 (BGQ-V1R1M2-120920))

2013-01-14  

  * 56400627 .../build/lib.linux-x86_64-2.7/perfmon/__init__.py
  .../lib.linux-x86_64-2.7/perfmon/perfmon_int.py
  .../build/lib.linux-x86_64-2.7/perfmon/pmu.py...: libpfm4: remove extraneous
  build artifacts.  Steve Kaufmann reported differences between the libpfm4 I
  imported into PAPI and the libpfm4 that can be attained with a git clone
  git://perfmon2.git.sourceforge.net/gitroot/perfmon2/libpfm4  Self: Do libpfm4
  imports from a fresh clone of libpfm4.

2013-01-11  

  * 4ad994bc src/papi_events.csv: Clean up armv7 cortex a15 presets  Clean up
  armv7 cortex a15 presets and add presets for L1 and L2 cache 

  * d54dabf5 ChangeLogP510.txt RELEASENOTES.txt doc/Doxyfile-common...: Prepare
  the repo for a 5.1 release.  * Bump the version number to 5.1 * Update the
  man pages * Create a changelog for 5.1 * Update RELEASENOTES

  * 8816a3b8 INSTALL.txt: Update INSTALL.txt  Add information about installing
  PAPI on Intel MIC. Based upon information from Vince Weaver's PAPI MIC
  support page. http://www.eece.maine.edu/~vweaver/projects/mic/

  * 8dc1ca23 TEST.TXT: Remove TEST.TXT  This was a leftover from a switch over
  to git.

  * 292d6c9b src/papi_libpfm3_events.c: Fix build on ia64  When trying to build
  papi 5.0.1 for IA64, my collegue got compile errors due to perfmon.h not
  being included.  We're not sure if this actually is a configure bug, but this
  patch fixed it.

  * 25424f41 src/extras.c: Fix kernel warning in _papi_hwi_stop_timer()  In
  _papi_hwi_stop_timer() we were calling setitimer( timer, NULL, NULL ) to
  disable the itimer.  Recent Linux kernels print warnings if you do this; NULL
  is not a valid second argument to setitimer() and possibly this wasn't really
  working before.  According to the manpage the proper fix is to call
  setitimer() with a valid "new_value" field but with the values all 0.  That
  is what this patch does.

2012-11-30  

  * a7d70127 src/components/micpower/README
  src/components/micpower/Rules.micpower
  src/components/micpower/linux-micpower.c...: MIC power component  The Intel
  MIC (Xeon PHI) card reports power of several components of the card. These
  values are reported in a sysfs file, so this component is cloned from the
  coretemp component.

2013-01-08  

  * 121cd0a6 src/Makefile.in src/Rules.pfm4_pe src/configure...: configure: Add
  shortcut for mic support.  * Add a --with-mic flag to enable the several
  options to cross compile for mic. MIC builds are cross-compiled and Matt and
  I were unable to figure out how to trigger cross compilation with just our
  flag. This is short-hand for setting --with-arch=k1om --without-ffsll
  --with-walltimer=clock_realtime_hr \ --with-perf-events --with-tls=__thread
  --with-virtualtimer=cputime_id  * Automatically cause make to pass
  CONFIG_PFMLIB_ARCH_X86=y to libpfm4's make.  So to build for the mic card one
  has to do: {Set pathing to find the x86_64-k1om-linux-gcc cross-compiler} $
  ./configure --host=x86_64-k1om-linux --with-mic $ make  Thanks to Matt
  Johnson for the legwork on configure shortcuting.

2013-01-07  

  * f65c9d9e src/papi_events.csv: Add preset events for ARM Cortex A15

2012-12-14  

  * 61a9c7b1 man/man3/PAPI_get_eventset_component.3 src/papi.c: Doxygen: Add a
  new API entry  Add the manpage for the new PAPI_get_eventset_component api
  entry.

2013-01-02  

  * 38d969ab doc/Doxyfile-man1 doc/Doxyfile-man3 doc/Makefile...: Doxygen:
  Cleanup generated man pages.  Mark a few \page sections as \htmlonly so that
  man pages are not built for them. Modify the makefile to rm some data
  structures that are generated.  Doxyfile-man3: * Take out papi_vector.h, this
  file only defines a few data structures from which we don't need manpages. 
  papi.h: * PAPI_get_component_index's inline comment had the close /**> to
  delimit its description, but doxygen uses /**<.  papi_fwrappers.c: * Mark the
  group PAPIF as internal so that a man page is not generated for it.  utils/*:
  * Remove some useless htmlonly directrives, doxygen will generate pages for
  any data structure, htmlonly doesn't stop that.  Doxyfile-man1: * Change a
  flag in Doxyfile-man1 so that we don't document internal data structures in
  the utilities.  We don't do this in -man3 because of the \class workaround we
  use to create manpages for each of the PAPI_* api entry points. Because we
  call them classes, they would be caught in the no data structures flag.

  * 7b790c09 doc/Doxyfile-html src/papi.h src/papi_fwrappers.c...: Doxygen:
  Cleanup some of the markup  We were not using htmlonly correctly... The idea
  was to use \htmlonly to not build manpages for a few things. To properly hide
  \page s you want things like: /** \htmlonly \page Foo I don't want this to
  generate a manpage. \endhtmlonly */

2012-12-07  

  * 152bac19 src/papi.c: Doxygen: Cleanup papi.c  Cleanup some \ref s, \ref
  PAPI_function() isn't happy, use \ref PAPI_function it'll put in the proper
  links.  Remove _papi_overflow_handler doc block. We had the block but no
  code.

2012-12-20  

  * 7a40c769 src/components/rapl/tests/rapl_overflow.c: RAPL test code: Add
  flexibility to the test code.  Per Will Cohen; ------------------ I was
  reviewing some test results for the papi test and found that the
  rapl_overflow.c tests makes an assumption that there are exactly two
  packages. As a result the test will fail on machines with a single package. 
  The following is a patch to make it a bit more flexible allow 1-n packages in
  the test.  -Will -----------------

2012-12-19  

  * 96c9afb0 src/components/appio/README src/components/appio/appio.c
  src/components/appio/appio.h...: Added events for seek statistics and support
  for intercepting lseek() calls.

2012-12-14  

  * 003abf6d src/Rules.perfctr-pfm: Rules.perfctr-pfm: pass CC in all cases. 
  Perfctr user library was not being passed CC when built.

2012-12-05  

  * e2c05b29 src/papi_internal.c: papi_internal.c: Refactor dublicated code in
  cleanup and free eventset.  Currently the code to free runtime state is
  duplicated in cleanup and free. The perf_event_uncore test exposed an issue
  where free cleaned up cpu_attach state but cleanup did not, causing a leak. 
  Have _papi_hwi_free_EventSet call _papi_hwi_cleanup_eventset to free most of
  the runtime state of the eventset and then allow free_eventset to free the
  Eventset Info struct.

2012-12-13  

  * 7d020224 src/configure src/configure.in: configure: Change fortran compiler
  search order.  Bandaid fix to buildbot errors. By default, configure would
  find icc before gcc but gfortran would be used before ifort.  The real fix is
  to test that object code from the c compiler can be linked to by the fortran
  compiler.

2012-12-12  

  * 87b6e913 src/papi_events.csv: ivy_bridge: remove PAPI_HW_INT event 
  Apparently recent Intel Vol3B documentation removed this event, and the most
  recent libpfm4 merge followed suit.  I asked at Intel about this and possibly
  they only removed it because they didn't think anyone was using it.  Maybe
  they'll ad it back

2012-12-10  

  * 293b26b9 src/Makefile.inc: Makefile.inc: Fix library link ordering.  Per
  Will Cohen ----------------------------------------------------------- I ran
  across a problem when trying to build papi with the bundled libpfm and an
  earlier incompatible version of libpfm was already installed on the machine.
  The make would use the /usr/lib{64}/libpfm.so before trying to use the
  locally built version and this would cause problems.  The attached patch
  changes the order of the linking and uses the local built libpfm before it
  tries the installed version.  -Will
  -----------------------------------------------------------

2012-12-12  

  * 57e6aa0d src/Makefile.in: Makefile.in: export CC_COMMON_NAME  In 17cfcb4a I
  started using CC_COMMON_NAME in Rules.pfm4 but failed to have configure put
  it in Makefile.

2012-12-11  

  * 17cfcb4a src/Rules.pfm4_pe src/configure src/configure.in: Cleanup icc
  build  Start using -diag-disable to quiet down some of the remarks icc carps
  about in libpfm4.  Also have configure export CC_COMMON_NAME and check
  against that in Rules.pfm4_pe. afec8fc9a reverted us to passing
  -Wno-unused-parameter to icc, polluting buildbot.

2012-12-10  

  * afec8fc9 src/configure src/configure.in: configure: Attempt to better
  detect which C compiler we are using.  This attempts to address trac bug 162.
  http://icl.cs.utk.edu/trac/papi/ticket/162  Specifying full paths for CC
  caused issues in our configure logic. We set several flags specific to gcc or
  icc and this was breaking down EG "/usr/bin/gcc" != "gcc"  Now we attempt to
  execute whatever CC we are going to use and grep its version string. We set a
  CC_COMMON_NAME \in {"gcc", "icc", "xlc", "unknown"} based upon the above and
  later check CC_COMMON_NAME inplace of CC to set compiler specific flags.

  * 14432aa0 src/linux-timer.c src/papi.c: Minor Coverity fixes. Thanks, Will
  Cohen.

2012-12-07  

  * ba5e83d4 src/papi_user_events.c: papi_user_events.c: Fix memory leak. 
  Reported by William Cohen as detected by the coverity tool.

  * 166498a8 src/components/nvml/linux-nvml.c: nvml component: fix
  detectDevices()  The routine detectDevices() always returned with the error
  PAPI_ESYS when there was a device available. This resulted in that there were
  no nvml events available. Fixed.

  * 11ad5894 src/components/nvml/linux-nvml.c: nvml component: add missing
  variable declaration  In the routine _papi_nvml_init_componen(), the variable
  papi_errorcode was not declared which prevented this component to build.
  Added declaration of papi_errorcode as int.

2012-12-06  

  * 9567dfef src/ftests/first.F src/ftests/second.F: Fix warning messages
  issued by gfortran 4.6.x regarding loss of precision when casting REAL to
  INT. Thanks to Heike for identifying the proper intrinsics.

  * 72588227 src/papi.c src/papi.h: Add PAPI_get_eventset_component() to get
  the component index from an event set. This is symmetric with
  PAPI_get_event_component which extracts the information from an event. In
  response to a request from John Mellor-Crummey.

  * 2e055d40 src/components/rapl/linux-rapl.c: Fix a compiler warning about a
  possibly uninitialized return value.

2012-12-05  

  * 1aae2246 src/utils/command_line.c: Reformat the floating point output
  string to recognize that you can't cast the *value* of a long long to a
  double and expect to get the right answer; you need to cast the *pointer* to
  a double, then everything works.

  * 0e834fc2 src/utils/command_line.c: Incorporated use of the new
  PAPI_add_named_event API. Restructured output to support formatted printing
  of built-in DATATYPEs: UINT64 prints as unsigned followed by (u); INT64
  prints as signed; FP64 prints as float (but I don't like the default format);
  BIT64 prints a hex, prefixed by '0x'. Also if info.units is not empty, units
  are appended to output values. These features can be demo'd with the RAPL
  component.

  * af6abec2 src/papi.h: Rearranged DATATYPE enums so INT64 is now default (0)
  value. Also added a BIT64 type for unspecified bitfields.

2012-12-04  

  * 862033e0 src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/IOunit/linux-IOunit.h
  src/components/bgpm/L2unit/linux-L2unit.c...: Resolved multiple components
  conflict on BG/Q when overflow is enabled for multiple events from different
  components at the same time.

  * 44744002 src/utils/command_line.c: Add -x and -u options to
  papi_command_line to allow printing counter values in hexadecimal and
  unsigned formats.

2012-11-30  

  * 25a914c5 src/papi_user_events.c: Cleanup unused variable warnings in
  user_events code.

2012-11-28  

  * 9a75f872 src/Rules.pfm4_pe src/configure src/configure.in: Cleanup the
  build under icc.  libpfm4's build system uses a gcc specific flag,
  -Wno-unused-parameter. It does this via a variable, DBG, in config.mk:
  DBG?=-g -Wall -Werror -Wextra -Wno-unused-parameter  The Intel compiler
  doesn't understand -Wno-unused-parameter and complains about it. In
  Rules.pfm4_pe we set DBG for icc builds.

2012-11-27  

  * 4def827b src/configure src/configure.in: Fix the perfctr build that was
  breaking due to missing CPU  Mark Gates was reporting PAPI 5 wasn't running
  properly on Keeneland.  It looks like some CPU cleanups in the configure code
  broke things.  Hopefully this helps the situation.

2012-11-21  

  * 4316f172 src/perf_events.c: perf_events: get rid of "PAPI Error: Didn't
  close all events" error  This was more meant as a warning; it could trigger
  when closing an EventSet that had an event partially added but failed for
  some reason.

  * 671e10bd src/utils/command_line.c: papi_command_line: fix error output  The
  error messages got a bit weird looking due to the PAPI error printing changes
  a while back.

  * 959afa49 src/papi_internal.c: Fix _papi_hwi_add_event to report errors back
  to user.  Previously _papi_hwi_add_event would report all errors returned by
  add_native_events() as being PAPI_ECNFLCT even though add_native_events()
  returned a wider range of errors.

  * 8ecb70ba src/perf_events.c: Have perf_event return PAPI_EPERM rather than
  PAPI_ECNFLCT if the kernel itself returns EPERM

  * 9053ca1c src/perf_events.c: Work around kernel issue with
  PERF_EVENT_IOC_REFRESH  It's unclear exactly the best way to restart
  sampling.  Refreshing with 1 is the "official" way as espoused by the kernel
  developers, but it doesn't work on Power.  0 works for Power and most other
  machines, but the kernel developers say not to use it.  This makes power user
  0 until we can figure out exactly what is going on.

  * e85df04b src/components/appio/tests/appio_test_socket.c: - added support
  distinguishing between network and file I/O. - added events to measure
  statistics for sockets - updated README

2012-11-15  

  * 248694ef src/x86_cpuid_info.c: Update x86_cpuid_info code for KNC.  On
  Knight's Corner the leaf2 code returns 0 for the count value. We were
  printing a warning on this; better would be to just skip the cache detection
  code if we get this result.

2012-11-08  

  * 82c93156 src/linux-bgp-memory.c src/linux-bgp.c src/linux-bgp.h: There was
  more cleaning up necessary in order to get PAPI compiled on BG/P. It should
  work now with the recommended configure steps described in INSTALL.

2012-11-07  

  * 77da80b3 src/Makefile.inc src/configure src/configure.in...: Make BGP use
  papi_events.csv  This was easier than trying to clean up the
  linux-bgp-preset-events.c file to have the proper file layout.

  * fc8a4168 src/linux-bgp.c: Fix some linux-bgp build issues.  No one has
  tried compiling after all the PAPI 5.0 changes so many bugs slipped in.

  * c16ef312 src/ctests/perf_event_uncore.c: Fix type warnings in
  perf_event_uncore test.

  * 3947e9c8 src/ctests/perf_event_uncore.c: Put a bandaid on the
  perf_event_uncore test.  Check for an Intel family 6 model 45 processor
  (sandybridge ep) before executing the test.

2012-09-27  

  * a23d95f8 src/papi.c src/papi.h src/papi_fwrappers.c...: Mark some comments
  @htmlonly.  This cleans up what man pages are generated.

2012-11-07  

  * d239c350 src/Makefile.inc src/Rules.pfm4_pe: Factor out duplicate install
  code from Rules.pfm4_pe  The Makefile.inc has a rule to installed shared
  libraries.  However, Rules.pfm4_pe also has a slightly different set of rules
  to install code for shared libraries.  This leads to the same shared library
  being installed under two different names.  The duplicate code has been
  removed from Rules.pfm4_pe and a symbolic link has been added to ensure that
  any code that might have linked with
  libpapi.so.$(PAPIVER).$(PAPIREV).$(PAPIAGE) still runs. 

2012-10-30  

  * fcc64ff9 src/papi_events.csv: Add PAPI_HW_INT event for IvyBridge

2012-10-26  

  * ef89fc56 src/papi_events.csv: MIC: update PAPI_FP_INS / PAPI_VEC_INS
  instruction  We were using VPU_INSTRUCTIONS_EXECUTED for PAPI_FP_INS but
  really it's more appropriate for PAPI_VEC_INS  This leaves PAPI_FP_INS
  undefined, which breaks a lot of the ctests. A long term goal should probably
  be modifying the tests to use another counter if PAPI_FP_INS isn't available
  (this affects Ivy Bridge too).

2012-10-25  

  * 975c03f1 src/perf_events.c: perf_event: fix granularity bug  cut-and paste
  error in the last set of changes.  Would have meant if you tried to
  explicitly set granularity to thread you'd get system instead.

  * 3cd3a62d src/configure src/configure.in src/ctests/Makefile...: Add
  perf_event_uncore ctest  Also add a new type of ctest, perf_event specific 
  In theory we should have configure only enable this if perf_event support is
  being used.

  * 5ee97430 src/perf_events.c: perf_event: add PAPI_DOM_SUPERVISOR to allowed
  perf_event domains  perf_event supports this domain but since we didn't have
  it in the list PAPI wasn't letting us set/unset this.  This is needed for
  uncore support, as for uncore domain must be set to allow monitoring
  everything.

  * c9325560 src/perf_events.c: perf_event enable granularity support  Add
  support for PAPI_GRAN_SYS to perf_event. This is needed for uncore support.

2012-10-18  

  * 59d3d758 src/mb.h src/perf_events.c: Update the memory barriers  It turns
  out PAPI fails on older 32-bit x86 machines because it tries to use an SSE
  rmb() memory barrier.  (Yes, I'm trying to run PAPI on a Pentium II.  Don't
  ask)  It looks like our memory barriers were copied out of the kernel, which
  doesn't quite work because it expects some kernel infrastructure instead. 
  This patch uses the definitions used by the "perf" tool instead.  Also
  dropped the use of the mb() memory barrier on mmap tail write, as the perf
  tool itself did a while ago so I'm hoping it's safe to do so as well.  It
  makes these definitions a lot simpler.

2012-10-08  

  * bcdce5bc src/perf_events.c: perf_event: clarify an error message  The
  message was saying detecting rdpmc support broke, but the real error is that
  perf_events itself is totally broken on this machine and it's just rdpcm was
  the first code that tried to access it.

2012-10-02  

  * 3bb3558f src/mb.h: Update memory barries for Knights Corner  Despite being
  x86_64 they don't support the SSE memory barrier instructions, so add a case
  in mb.h to handle this properly.

2012-10-01  

  * 38a5d74c src/libpfm4/README src/libpfm4/docs/Makefile
  src/libpfm4/docs/man3/libpfm_intel_atom.3...: Merge libpfm4 with Knights
  Corner Support

  * bf959960 src/papi_events.csv: Change "phi" to "knc" to match libpfm4 for
  Xeon Phi / Knights Corner support

2012-09-20  

  * d9249635 ChangeLogP501.txt RELEASENOTES.txt: Update releasenotes and add a
  changelog for 5.0.1

  * a1e30348 man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Rebuild the manpages for a 5.0.1 release.
2013-05-21  

  * 602d8dbc man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Rebuild man pages for a 5.1.1 release.

  * 93d9be34 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump version
  number for a 5.1.1 release.

2013-04-15  

  * 8e47838d src/components/cuda/linux-cuda.c: When creating two event sets -
  one for the CUDA and one for the CPU component  - the order of event set
  creation appears crucial. When the CPU event set has been created before the
  CUDA event set then PAPI_start() for the CUDA event set works fine. However,
  if the CUDA event set has been created before the CPU event set, then
  PAPI_start(CUDA_event_set) forces the CUDA control state to be updated one
  more time, even if the CUDA event set has not been modified. The CUDA control
  state function did not properly handle this case and hence cause PAPI_start()
  to fail. This has been fixed.

2013-05-13  

  * c93dfa68 src/perf_events.c: perf_event component: update error returns 
  This passes more error return values back to PAPI. Before this change a lot
  of places were hardcoded to PAPI_EPERM even if sys_perf_event_open() was
  reporting a different error.

2013-05-08  

  * d1db58e8 src/configure src/configure.in: Force the use of pthread_mutexes
  on ARM  This lets the system libraries worry about the best way to define
  mutexes, rather than trying to hand-code in assembly around all of the
  various issues there are with atomic instructions in the ARM architecture. 
  It might make sense to enable this for *all* Linux architectures, but for now
  just do it for ARM.

  * 29662e3e src/linux-lock.h: Commit 59d3d7584b2925bd05b4b5d0f4fe89666eb8494a
  removed the definition of mb().  mb() was defined as rmb().  This just
  corrects it back.   (Note from VMW -- this fixes some things, but ARM still
  won't build on a Cortex A9 pandaboard due to the use of the "swp"
  instruction. Proper fix is probably to enforce posix-mutexes on ARM)

2013-04-22  

  * ff29fd12 src/run_tests.sh: The test for determining whether to run valgrind
  was backwards. Correcting that allow the run_test.sh script to stay the same
  and one just needs to define "VALGRIND=yes" (or any non-null string) to make
  run_test.sh use valgrind.  --- src/run_tests.sh | 6 ++---- 1 file changed, 2
  insertions(+), 4 deletions(-)  diff --git a/src/run_tests.sh
  b/src/run_tests.sh index d1ce205..9337ff2 100755 --- a/src/run_tests.sh +++
  b/src/run_tests.sh @@ -19,10 +19,8 @@ else export TESTS_QUIET fi  -if [
  "x$VALGRIND" = "x" ]; then -# Uncomment the following line to run tests using
  Valgrind -# VALGRIND="valgrind --leak-check=full"; -    VALGRIND=""; +if [
  "x$VALGRIND" != "x" ]; then +    VALGRIND="valgrind --leak-check=full"; fi 
  #CTESTS=`find ctests -maxdepth 1 -perm -u+x -type f`; --

2013-03-28  

  * 1e8101f6 src/run_tests.sh: run_tests.sh: further refine component test find
   Exclude *.cu when looking for component tests.

2013-03-25  

  * 0b600bc5 src/run_tests.sh: run_tests.sh: File mode changes.  run_tests.sh
  is now expected to run from the install location in addition to src. The
  script tried to remove execute from *.[c|h], now it just excludes *.[c|h]
  from the find commands.

2013-03-18  

  * 06f9c43b src/perfctr-x86.c: perfctr: don't read in event table multiple
  times  papi_libpfm3_events.c now reads in the predefined events, we don't
  also need to do this in perfctr setup_x86_presets()

  * 48d7330c src/perfctr.c: Fix segfault in perfctr.c  The preset lookup uses
  the cidx index, but in perfctr.c we weren't passing a cidx value (it was
  being left off).  The old perfctr code plays games with defining extern
  functions so the compiler wasn't giving us a warning.

2013-03-14  

  * eda94e50 src/components/bgpm/L2unit/linux-L2unit.c src/linux-bgq.c: If a
  counter is not set to overflow (threshold==0; happens when PAPI_shutdown is
  called) then we do not want to rebuild the BGPM event set, even if the event
  set has been used previously and hence "applied or attached". Usually if an
  event set has been applied or attached prior to setting overflow, the BGPM
  event set needs to be deleted and recreated (which implies malloc() from
  within BGPM). Not so, though, if threshold is 0 which is the case when
  PAPI_shutdown is called.  Note, this only applies to Punit and L2unit, not
  IOunit since an IOunit event set in not applied or attached.

2013-03-13  

  * 46f6123a src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/IOunit/linux-IOunit.h
  src/components/bgpm/L2unit/linux-L2unit.c...: Overflow issue on BG/Q
  resolved. Overflow with multiple components worked; overflow with multiple
  components and multiple events did not work as supposed to.

2013-03-07  

  * 6a0813f8 src/linux-common.c src/linux-memory.c: Fix the build on
  Linux-SPARC  I dug out an old SPARC machine and fixed the PAPI build on it.

  * 51fe7e53 src/perf_events.c: More comprehensive sys_perf_open to PAPI error
  mappings  This tries to cover more of the errors returned by sys_perf_open
  and map them to better results.  EINVAL is a problem because it can mean
  Conflict as well as Event not found and many other things, so it's unclear
  what to do with it.

  * 1479a67f src/perf_events.c src/sys_perf_event_open.c: Return proper error
  codes for sys_perf_event_open  For some reason on x86 and x86_64 we were
  trying to set errno manually and thus over-writing the proper errno value,
  causing all errors to look like PAPI_EPERM  This removes that code, as well
  as adds code to report ENOENT as PAPI_ENOEVENT.  With this change, on IVY
  this happens which looks more correct.  ./utils/papi_command_line
  perf::L1-ICACHE-PREFETCHES Failed adding: perf::L1-ICACHE-PREFETCHES because:
  Event does not exist command_line.c                       PASSED

2013-03-06  

  * 7a3e75e8 src/papi_libpfm4_events.c src/papi_user_events.c: Coverity fixes: 
  Coverity pointed out that there was a case where load_user_eent_table() could
  leak memory.  The change in the location of the papi_free(foo) ensures that
  the allocated memory is freed.  Coverity pointed out one path through the
  code in _papi_libpfm4_ntv_code_to_descr() that did not free up memory
  allocated in the function.  Added a free on the path in free up that memory. 
  Thanks Will Cohen.

2013-03-04  

  * b19bd1a2 src/components/rapl/linux-rapl.c: Remove a stray debug statement.
  Thanks to Harald Servat for catching this.

2013-03-01  

  * 6e5be510 src/utils/command_line.c: Wrestled some horribly convoluted
  indexing into shape. The -u and -x options now print as expected (I think).

2013-01-31  

  * 02bd70ad src/components/nvml/linux-nvml.c: linux-nvml.c: Fix type warning. 
  CUDA and NVML have an signed vs unsigned thing going on in their returned
  device counts, cast away the warning.

2013-01-23  

  * a5bed384 src/linux-memory.c src/linux-timer.c: ia64 fixes.  Thanks to Tony
  Jones <tonyj@suse.de> for patches.

2013-01-16  

  * 021db23a src/components/nvml/linux-nvml.c: nvml component: cleanup a memory
  leak  We did not free a buffer at shutdown time.

2013-05-17  

  * b25fc417 src/perf_events.c: perf_event: allow running with
  perf_event_paranoid is 2  perf_event_paranoid set to 2 means allow user
  monitoring only (no kernel domain).  The code before this mistakenly disabled
  all events in this case. Also set the allowed domains to exclude
  PAPI_DOM_KERNEL.

2013-05-16  

  * 12768bec src/papi_events.csv: papi_events.csv Revert a little mishap in
  adding ivbep support  Somehow the contents of papi_hl.c ended up in the
  events file.

  * 5e97ad7f src/papi_events.csv: Add identifier for ivb_ep

2013-01-29  

  * e201b8eb src/papi.c: General doxygen cleanup: remove all "No known bugs"
  messages; correct and cleanup examples for PAPI_code_to_name and
  PAPI_name_to_code
2013-08-02  

  * 6b62d586 man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Update the manpages for a pending 5.2
  release.  New pages for PAPI[F]_epc and papi_version.

  * 1ae08835 src/linux-common.c: try to properly detect number of sockets  Use
  totalcpus rather than ncpu in the calculation.  This change fixes things on a
  Sandybridge-EP machine.  We should maybe find a more robust way to detect
  this.

  * 79c37fbf .../perf_event_uncore/tests/perf_event_uncore.c
  .../tests/perf_event_uncore_multiple.c: perf_event_uncore: have tests skip if
  component disabled rather than fail

  * 638ccf6b .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  change order of uncore detection logic  This way it will report an error of
  "no uncore found" before it reports "not enough permissions".  That way a
  user won't waste time getting permissions only to find out they didn't have
  an uncore anyway.

  * 30582773 src/components/perf_event/pe_libpfm4_events.c: perf_event: fix
  papi_native_avail output  A recent change of mine that added stricter error
  checking for libpfm4 event lookup broke event enumeration on perf_event,
  specifically papi_native_avail output.  libpfm4 will return an error on some
  events if no UMASK or improper UMASK is supplied, but papi_native_avail
  always wants to print the root event and umasks separately.  this temporary
  fix just ignores libpfm4 umask errors; we might in the future want to
  properly indicate which events are only valid when certain umasks are
  present.

  * c7612326 src/utils/native_avail.c: papi_native_avail: fix empty component
  case  If a component had no events, papi_native_avail would ignore the error
  returned by PAPI_enum_cmp_event( PAPI_ENUM_FIRST ); and try to print a first
  event anyway.

  * e1b064eb .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  disable component if no events found  This can happen on older (pre 3.6)
  kernels with the new libpfm4 that does proper uncore detection.

2013-08-01  

  * 9a54633a src/components/host_micpower/linux-host_micpower.c
  src/components/infiniband/linux-infiniband.c
  src/components/nvml/linux-nvml.c...: Components: Use the cuda dlopen fix all
  cases.  See 4cb76a9b for details, the short version is if you call dlopen
  when you have been statically linked to libc, it gets ugly.

2013-07-31  

  * dbc44ed1 src/components/perf_event/pe_libpfm4_events.c
  .../perf_event_uncore/perf_event_uncore.c
  .../perf_event_uncore/peu_libpfm4_events.c: perf_event libpfm4 events --
  correctly handle invalid events  It was possible for event names to be
  obtained from libpfm4 during enumeration that were not valid events.  This
  usually happens with uncore events, where the uncore is listed as available
  based on cpuid but when libpfm4 tries to get the uncore type from the kernel
  finds out it is unsupported.  This change makes this properly fail, instead
  of just returning "0" for all the event paramaters (which is a valid event on
  x86).  Also make this change in the regular perf_event component, even though
  it is less likely to happen in practice.

  * 4720890a .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  remove check_permissions() test  It was trying to see if an EventSet was
  runnable by using the current permissions and adding the PERF_HW_INSTRUCTIONS
  event. That doesn't really make sense on uncore.  The perf_event component
  uses this test to try to give errors early, at set_opt() time rather than at
  the first run time, although in practice now we can probably make intelligent
  guesses based on the current permission levels.

  * 113d35f7 .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  remove unused kernel workarounds  uncore only works on Linux 3.6 or newer so
  all of the pre-2.6.35 workarounds aren't necessary.  If someone has
  backported the uncore support to kernels that old, hopefully they've also
  backported all the other bugfixes too.

2013-07-25  

  * 4cb76a9b src/components/cuda/linux-cuda.c: Trial fix for the cuda component
  static libc linking issue.  Weak link against _dl_non_dynamic_init, this
  appears in my limited testing to be in gnu libc.a and not in the so.  For
  background, it was reported by Steve Kaufmann that statically linking tools
  with a PAPI library configured with the CUDA component segfaulted. It appears
  that calling any of the dynamic linker functions from a static executable is
  asking for pain.  See Trac bug 182
  https://icl.cs.utk.edu/trac/papi/ticket/182

2013-07-24  

  * ad47cfb9 src/configure src/configure.in: Add linux-pfm-ia64 to configure 
  I'm not sure if this is enough to fix itanium support but it's a start.

  * 098294c5 src/components/example/tests/example_basic.c
  .../example/tests/example_multiple_components.c: Fixed tests for example
  component. Both tests failed due to incorrect check of the components PAPI
  has been configured with.

2013-07-23  

  * c0c4caf4 src/linux-memory.c src/papi_events.csv: Add initial support for
  IBM POWER8 processor  Add initial support for IBM POWER8 processor  The IBM
  POWER8 processor (to be publicly announced at some future date) has some
  preliminary support in libpfm with a subset of native events.  These
  POWER8-related libpfm changes were pulled into PAPI on July 3, so further
  updates in PAPI were required to support this new processor.  This patch adds
  that required support.  NOTE: Due to the fact that only a subset of native
  events have been publicised at this point (and pushed into libpfm), not all
  of the usual PAPI preset events have corresponding native events. The rest of
  the POWER8 native events will be pushed upstream once they are verified, and
  then we can flesh out the PAPI preset events.  With this initial POWER8
  support patch, 5 of the ctests and ftests fail, compared to 3 when PAPI is
  run on a POWER7. At least one of the failing testcases is due to testing
  being done on an early POWER8 processor with some known hardware problems. We
  presume the number of failing tests will decrease once we have GA-level
  hardware to test on. 

2013-07-22  

  * 6c231d1a src/configure: Rerun autoconf  for f4ec143e Correct versioning of
  libpapi.so

  * f4ec143e src/configure.in: Correct versioning of libpapi.so  The configure
  for linux always set the soname to libpapi.so.  This causes problems when
  /sbin/ldconfig tries to update the library information on linux.  The shared
  library is installed as /lib{64}/libpapi.so.$VERSION, but the shared library
  has the soname of libpapi.so.  ldconfig makes a symbolic link from
  /lib/libpapi.so to the actual versioned shared library,
  /lib/{64}/libpapi.so$VERSION. The configure should get the soname correct to
  avoid creating this symbolic link.  This patch only addresses the issues for
  some of the possible platforms and similar patches may be needed for other
  platforms. 

2013-07-19  

  * 92356bbd src/papi.c src/threads.c src/threads.h: Attempt to fix a memory
  leak in fork2 test.  Fork2 does the following: PAPI_library_init() fork(); / 
    \ parent   child wait()     PAPI_shutdown()	->
  _papi_hwi_shutdown_global_threads() -> foreach(threadinfo we allocated):
  _papi_hwi_shutdown_thread() PAPI_library_init()  _papi_hwi_shutdown_thread
  checks who allocated a ThreadInfo entry in the global list, and will only
  free it if our thread did the allocation.  When threading is not initialized,
  we fall back to getpid(), now in the child process, the one ThreadInfo item
  on the list was allocated by our parent, so at shutdown time we don't free
  this, and thus leak it.  Solution is to add a parameter to
  _hwi_shutdown_thread to force shutdown even if we didn't allocate it. At
  _papi_hwi_shutdown_global_threads() time, who cares, its closing time.

  * c04d908e src/cpus.c: Fix a deadlock in _papi_hwi_lookup_cpu().  If cpu_num
  is not found by _papi_hwi_lookup_cpu(), _papi_hwi_initialize_cpu() calls
  insert_cpu(), which locks CPUS_LOCK, which was already held by
  _papi_hwi_lookup_cpu().

  * efac24c4 src/components/micpower/linux-micpower.c: micpower: fix return
  value check  Also add a time check at stop time.

2013-07-16  

  * b9fd9dd1 src/configure src/configure.in: configure: Fix AIX build 
  perfctr_ppc was not the only system that relied on ppc64_events.h, power*.h,
  and friends. First run at a fix is -Icomponents/perfctr_ppc for the C and F
  flags...

  * 46042e68 src/components/micpower/linux-micpower.c: micpower: update some
  indexing code

2013-07-15  

  * 5220e7d2 INSTALL.txt: INSTALL.txt: typo  --with-arch=, not --arch=; Thanks
  to Karl Schulz for catching this.

  * 207e0ee0 src/papi_libpfm_events.h: papi_libpfm_events: needs include files
  for types.  Include papi.h and papi_vector.h for papi_vector_t and
  PAPI_component_info_t

  * d96c01c7 src/components/perfctr/perfctr.c: perfctr: cleanup a warning 
  Include papi_libpfm_events.h for _papi_libpfm_init() decl.

  * 367e1b38 src/components/perfctr/perfctr-x86.c
  src/components/perfctr/perfctr.c: perfctr: refactor out setup_x86_presets 
  The setup_presets function served only to call _papi_libpfm_init, so we go
  the rest of the way and completly remove the function, calling
  _papi_libpfm_init directly from _perfctr_init_component.

  * 1ba38ce5 src/components/perfctr/perfctr-x86.c: perfctr: cleanup unused
  parameter warning.  The perfctr code was refactored to only call into the
  table loading code one time. This had the side effect of removing most of
  what setup_x86_presets does.

  * 02710ced src/configure src/configure.in: configure: remove debugging
  message  The compiler detection code had a stray AC_MSG_RESULT.

2013-07-12  

  * 028ce29d src/components/lustre/linux-lustre.c: lustre: use whole directory
  name as event  Gary Mohr reported that on a trial system he was seeing many
  events of the form fs3-* which were all chopped to fs3, not helpful.  I've
  not actually been able to figure out exactly how lustre names things, I've
  seen it described as  <fs>-<uid>  But have no clue what uid promisses.

2013-07-15  

  * 129d4587 src/papi.c: allow more than one EventSet attach to a CPU at a time
   This is necessary for perf_event_uncore support, as multiple uncores will
  want to attach to a CPU.  It looks like this change won't break anything, and
  the tests pass on my test machines.  I am a bit concerned about
  cpu->running_eventset, though no one seems to use that value...

  * bcda5ddd src/components/perf_event_uncore/tests/Makefile
  .../tests/perf_event_uncore_nogran.c: perf_event_uncore: remove
  perf_event_uncore_nogran test  It is unnecessary after recent changes to the
  uncore component.

  * b1b9f654 src/components/perf_event_uncore/tests/Makefile
  .../tests/perf_event_uncore_cbox.c: perf_event_uncore: add
  perf_event_uncore_cbox test  This adds a non-trivial test of the CBOX
  uncores. It turned up various bugs in the PAPI uncore implementation.

  * df1b6453 src/linux-common.c: linux: properly set hwinfo->socket value  It
  was being derived from hwinfo->ncpu but being calculated before hwinfo->ncpu
  was set.

2013-07-13  

  * ee537448 .../perf_event_uncore/perf_event_uncore.c
  .../perf_event_uncore/peu_libpfm4_events.c
  .../perf_event_uncore/peu_libpfm4_events.h: perf_event_uncore: properly
  report number of total counters available

  * 7eb93917 src/components/perf_event/Rules.perf_event
  src/components/perf_event/pe_libpfm4_events.c
  src/components/perf_event/pe_libpfm4_events.h...:
  perf_event/perf_event_uncore/libpfm4 -- rearrange files  Give perf_event and
  perf_event_uncore copies of papi_libpfm4_events to work with, as they will
  have different needs for the code.  Get rid of the perf_event_lib stuff.  It
  was a hack to begin with and in the end not much code will be shared.  Maybe
  we can re-share things once uncore support is complete.

2013-07-12  

  * 6810af2a src/components/perf_event/perf_event.c
  .../perf_event_uncore/perf_event_uncore.c src/papi_libpfm4_events.c...:
  papi_libpfm4: properly call pfm_terminate() in papi_libpfm4_shutdown

  * 010497f4 src/components/perf_event/perf_event.c
  .../perf_event_uncore/perf_event_uncore.c src/papi_libpfm4_events.c...: split
  papi_libpfm4_init()  split this function because the perf_event_uncore()
  component is going to want to initialize things differently than plain
  perf_event

  * d9023411 src/components/perf_event/perf_event.c: perf_event: on old kernels
  if SW Multiplex enabled, then report proper number of MPX counters available 
  it may be different than the amount HW supports

  * 7595a840 src/components/perf_event/perf_event_lib.c: perf_event: use
  PERF_IOC_FLAG_GROUP when resetting events  This ioctl argument specifies to
  reset all events in a group, so we don't have to iterate.  This argument
  dates back to the introduction of perf_event and it makes the code a bit
  cleaner.

  * f220fd19 src/ctests/Makefile src/ctests/reset_multiplex.c: Add
  reset_multiplex.c  PAPI_reset() potentially exercises different paths when
  resetting normal and multiplexed eventsets, so make sure we test both.

  * f784a489 src/components/lustre/linux-lustre.c: lustre: botched a conflict
  resolution  properly do error checking on addCounter()

  * c1350fc8 src/components/perf_event/perf_event.c
  src/components/perf_event/perf_event_lib.c
  src/components/perf_event/perf_event_lib.h: perf_event: move overflow and
  profile code out of common lib  the perf_event_uncore component doesn't need
  it

  * 8dde03fc .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  remove profiling and overflow code  perf_event doesn't support sampling or
  overflow on uncore

  * 30d23636 src/components/lustre/linux-lustre.c: lustre component: Several
  fixes  1. create a dynamic native events table in pathalogical cases, lustre
  can have lots of events.  2. resolve some warnings change signature of
  init_component properly error check addCounter  3. Add a preprocessor flag to
  fake interface Set LIBCFLAGS="-DFAKE_LUSTRE"

  * 7ef51566 .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  remove dispatch timer call  perf_event  doesn't support sampling on uncore
  events

  * 667661c6 src/components/perf_event/perf_event.c
  src/components/perf_event/perf_event_lib.c
  src/components/perf_event/perf_event_lib.h: perf_event: move rdpmc detection
  back into perf_event.c  It was in the perf_event_lib but uncore won't use the
  feature.

  * d46f01e1 .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  check the paranoid file  Disable the component if paranoid isn't 0 or lower,
  and we're not running as root.

  * e4ec67d1 src/components/perf_event/perf_event.c: perf_event and paranoid
  level 2  If paranoid level 2 (no kernel events) was set we were removing
  PAPI_DOM_KERNEL from the allowable domains  We were doing this even if the
  user was root.  This code checks for uid 0 and overrides the restriction.

  * c5501081 src/components/perf_event/perf_event_lib.c
  src/components/perf_event/perf_event_lib.h: rename sys_perf_event_open2()
  call back to sys_perf_event_open()  This was changed when merging code to
  avoid a conflict but wasn't renamed back whe the conflict was fixed.

2013-07-11  

  * e263ea60 src/configure src/configure.in: configure: libpfm selection logic
  rework  If configure detected perfctr it would force libpfm3 to be used, even
  with --with-perf_events, now force libpfm4 if perf_events is requested.

2013-07-10  

  * 7a3ce030 .../host_micpower/Makefile.host_micpower.in
  src/components/host_micpower/Rules.host_micpower
  src/components/host_micpower/configure...: Component: host_micpower  This is
  a component that exports power information for Intel Xeon Phi cards (MIC).
  The component makes use of the MicAccessAPI distributed with the Intel
  Manycore Platform Software Stack.
  
  k-mpss)

  * 9d9bd9c2 src/ctests/shlib.c: Fwd: Re: [Ptools-perfapi] ctests/shlib FAILED 
  Should have sent this to the papi devel list. -Will  -------- Original
  Message -------- Subject: Re: [Ptools-perfapi] ctests/shlib FAILED Date: Tue,
  09 Jul 2013 23:20:10 -0400 From: William Cohen <wcohen@redhat.com> To:
  ptools-perfapi@eecs.utk.edu  On 03/09/2012 03:40 PM, William Cohen wrote: > I
  was looking through the test results and found that ctests/shlib FAILED on
  all the machines I tested on because libm shared library is already linked
  in. There is no difference in the number of shared libraries before and after
  the dlopen. The test ctests/shlib fails as a reult of this. > > -Will >
  _______________________________________________ > Ptools-perfapi mailing list
  > Ptools-perfapi@eecs.utk.edu >
  http://lists.eecs.utk.edu/mailman/listinfo/ptools-perfapi >  I did some more
  investigation of this problem today.  I found that the lmsensor component
  implicitly pulls in the libm.  As an alternative, I wrote the attached patch
  that uses setkey() and encrypt() in libcrypt.so instead.  It works on various
  linux machines, but I do not know whether it is going to work on other OS. 
  -Will  >From c53c97e1de2d1c7dc0bca64d1906287ff73343c6 Mon Sep 17 00:00:00
  2001 From: William Cohen <wcohen@redhat.com> Date: Tue, 9 Jul 2013 22:37:27
  -0400 Subject: [PATCH] Avoid using libm.so for ctests/shlib because of
  implicit use in some components  The lmsensors component can implicitly pull
  in libm.so into the executable.  Unfortunately, the ctests/shlib test expects
  that libm.so is not loaded and will fail because there is no change in the
  count of shared libraries.  The patch uses libcrypt.so library setkey and
  encrypt functions to test PAPI_get_shared_lib_info( ) instead of libm.so
  library pow function. 

2013-07-09  

  * bdc9b34b .../tests/perf_event_amd_northbridge.c:
  Perf_event_amd_northbridge_test: Use buffer event_name instead of
  uncore_event  The variable uncore_event is initialized to NULL and is never
  changed during execution of the test. PAPI_add_named_event fails and the
  event set cannot be started. The correct event name is stored in event_name,
  replacing all occurrences of uncore_event with event_name therefore fixes the
  problem metioned above.

2013-07-08  

  * a1678388 src/components/micpower/linux-micpower.c: micpower:  Fix output in
  native_avail and component_avail. It uses cmp_info.name, not .short_name? 
  Native Events in Component: mic-power Name:   mic-power              
  Component for reading power on Intel Xeon Phi (MIC)  Should both match what
  is prepended to event names, so change .name from mic-power to micpower.

  * e0582f2d src/components/micpower/linux-micpower.c: Micpower: fix a typo 
  subsystem, not sybsystem...

  * c7b357ec INSTALL.txt: INSTALL.txt: update instructions for MIC.

  * 34a1124e src/components/perf_event_uncore/tests/Makefile
  .../tests/perf_event_amd_northbridge.c: Add perf_event_amd_northbridge test 
  The test should show how to write a program using AMD fam15h NB with a 3.9
  kernel.  Once libpfm4 gets updated we can see if it's possible to also have
  the test properly run on 3.10 kernels (in that case the regular
  perf_event_uncore test should work w/o changes)

  * 41b6507c .../perf_event_uncore/tests/perf_event_uncore.c
  .../tests/perf_event_uncore_multiple.c: Make perf_event_uncore tests use
  PAPI_get_component_index()  They were open-coding the component name search
  for no good reason.

2013-07-05  

  * abf38945 src/papi_libpfm4_events.c: avoid having a "default" PMU for the
  uncore component  on the main CPU component we have a "default" PMU where you
  can leave out the PMU part of the event name.  This is unnecessary and
  sometimes confusing on uncore, so always print the full event name if it's an
  uncore PMU.

  * b9fe5c3e .../perf_event_uncore/tests/perf_event_uncore.c
  .../tests/perf_event_uncore_multiple.c: Update perf_event_uncore tests to
  properly fail if they don't have enough permissions

  * 32ae1686 .../perf_event_uncore/tests/perf_event_uncore.c:
  perf_event_uncore_test : properly use uncore component  The sample code was
  still hardcoding to component "0" which shouldn't have worked.  Thanks to
  Claris Castillo for pointing out this problem.

  * 59e73b51 src/papi_libpfm4_events.c: have _papi_libpfm4_ntv_name_to_code
  properly check pmu_type  With the existing code, uncore events were being
  found by the perf_event component even when that component has uncore events
  distabled.

2013-07-03  

  * a01394eb .../tests/perf_event_uncore_lib.c: perf_event_uncore: fix ivb
  event in uncore test  Now that libpfm4 officially supports plain ivb uncore,
  make sure the test event we were using matches what libpfm4 supports.

2013-07-01  

  * f10342a8 src/utils/cost.c: Clean up option handling in papi_cost  The
  papi_cost used strstr to seach for the substring that matched the option. 
  this is pretty inexact.  Made sure that the options matched exactly and the
  option argments for -b and -t were greater than 0. Also make papi_cost print
  out the help if there was an option that it didn't understand. 

  * b5adc561 src/utils/native_avail.c: Clean up option handling for
  papi_native_avail  Corrected the help to reflect the name of the option
  "--noumasks". Print error message if the "-i", "-e", and "-x" option
  arguments are invalid. Avoid using strstr() for "-h", use strcmp instead.
  Also check for "--help" option. 

  * 8933be9b src/utils/decode.c: Clean up option handling in papi_decode 
  papi_decode used strstr() to match options; this can lead to inexact matchs.
  The code should used strcmp instead.  Make sure command name is not processed
  as an option.  Also print help iformation is some argument is not understood.

  * d94ac43a src/utils/component.c: Improve option matching in papi_component
  and add "--help" option 

  * bb63fe5c src/utils/command_line.c: Add options to papi_command_line man
  page and improve opt handling  Add options mention in the -h to the man page.
   Also improve the matching of the options. 

  * 09059c82 doc/Makefile src/utils/version.c: Add information for papi_version
  to be complete 

  * 4f2eee8c src/configure src/configure.in: add a --disable-perf-event-uncore
  option to configure

2013-06-29  

  * 901c5cc2 src/components/perf_event/perf_event.c
  src/components/perf_event/perf_event_lib.c
  .../perf_event_uncore/perf_event_uncore.c...: remove syscalls.h  it's no
  longer needed

  * 4d7e3666 src/Rules.perfmon2 src/components/perfmon2/Rules.perfmon2
  src/components/perfmon2/perfmon.c...: move perfmon modules to their own
  component directory

  * a7e9c5f1 src/Rules.perfctr src/Rules.perfctr-pfm
  src/components/perfctr/Rules.perfctr...: move perfctr files to
  components/perfctr directory  verified that perfctr-x86 still builds and
  works  perfctr_ppc has all the files to build, but it doesn't work. It looks
  like no one has tried to build perfctr-ppc for a very very long time.

2013-06-27  

  * e9dec1fd src/ctests/hl_rates.c src/papi.h src/papi_fwrappers.c...: debugged
  versions of these files

  * e282034e src/utils/native_avail.c: native_avail: Fix parse_unit_mask code 
  Reported by Steve Kaufmann -------------------------- I noticed while
  developing a new component that the output from papi_native_avail was
  incorrectly presented for the component. I believe this is because the ":::"
  prefix is not being taken into account, so the base event name is interpreted
  as a unit mask and is prepend with a : before each legitimate unit mask
  associated with the event. I think this is just now happening because mine is
  the first component that has unit masks. I have include a fix below. The
  output of the unit masks by papi_native_avail now appears correctly for my
  component.  Thanks, Steve

2013-06-26  

  * ff096786 src/ctests/fork2.c: fork2: Return fork2 test to its old
  functionality  Once upon a time fork2 did: PAPI_library_init()  if (
  fork() == 0) PAPI_shutdown() PAPI_library_init() 

2013-06-25  

  * 978d0d3d src/examples/PAPI_add_remove_event.c src/papi.c: Modify
  PAPI_list_events functionality to match documentation. You can now pass in a
  NULL event array and a zero count to get back the valid number of events.
  This can then be used to allocate the array and retrieve the exact number of
  events. Thanks to Nils Smeds and Alain Miniussi for pointing this out.

  * 13c52402 src/examples/PAPI_add_remove_event.c src/papi.c: Modify
  PAPI_list_events functionality to match documentation. You can now pass in a
  NULL event array and a zero count to get back the valid number of events.
  This can then be used to allocate the array and retrieve the exact number of
  events. Thanks to Nils Smeds and Alain Miniussi for pointing this out.

  * 656e703e src/ctests/zero_fork.c: zero_fork ctest : make documentation match
  code

  * 96aad0c7 src/ctests/forkexec.c: forkexec ctest : make comments match code

  * b7c70953 src/ctests/forkexec4.c: forkexec4 ctest : make comments match the
  code

  * 7ffb0245 src/ctests/forkexec3.c: forkexec3 ctest : make documentation match
  code

  * 55ea846c src/ctests/forkexec2.c: forkexec2 ctest: have comments match what
  source does

  * 7a601e2a src/ctests/Makefile src/ctests/fork2.c: fork2 ctest: remove; was
  an exact duplicate of fork

  * 9deff49b src/ctests/fork.c: fork ctest: make comments match what file
  actually does

2013-06-24  

  * 2770d2c5 src/components/perf_event/perf_event_lib.c: perf_event: fix
  failure on ARM due to domain settings  forgot to git add the perf_event_lib.c
  file :(

  * bf7c4c50 src/components/perf_event/perf_event.c
  src/components/perf_event/perf_event_lib.h: perf_event: fix failure on ARM
  due to domain settings  On Cortex A8 and A9 it's not possible to set
  exclude_kernel (hardware does not support it).  Make sure the rdpmc detection
  code doesn't try to set exclude_kernel.

2013-06-18  

  * 2b1433d8 src/ctests/all_native_events.c src/ctests/get_event_component.c:
  ctests: Skip calling into disabled components.  This patch fixes a problem
  that was causing two test cases to abort when they were run on a system which
  has disabled components.  Code was added to check if the component is
  disabled and just go to the next component in the list when the check is
  true.  This prevents calls to code in components which may abort because the
  component was unable to initialize itself correctly.  Thanks to Gary Mohr and
  Chuck LaCasse from Bull for reporting.

2013-06-14  

  * 1872453c src/testlib/do_loops.c: testlib: don't change the iter count  The
  first argument to do_misses is an iteration count, for some reason the code
  was dividing this in half before doing work. Most places that call do_misses
  call it as do_misses ( 1, ...)  void do_misses( int n, int bytes ) { {...} n
  = n / 2; for ( j = 0; j < n; j++ ) {  1/2 == 0; so our do_misses call was
  usually not.  Thanks Nils Smeds for reporting.

2013-06-12  

  * c113e5b6 src/components/infiniband/Makefile.infiniband.in
  src/components/infiniband/Rules.infiniband
  src/components/infiniband/configure...: Infiniband component: switch over to
  weak linking  Thnaks to Gary Mohr for the patch.
  ---------------------------------- The infiniband component needs include
  files and libraries from both the infiniband ibmad and ibumad packages.  When
  these packages are installed on a system, both packages normally install
  their files in the same place (includes in /usr/include/infiniband and
  libraries in /usr/lib64).  The current component configure script allows you
  to provide a single include path and a single library path which gets used to
  access files from both packages.  If these two packages have different
  install prefixes (or you are trying to build from install images of each
  package which are not located under the same directory) then the configure
  script fails because it can not find all the files it needs.  These changes
  modify the configure script to replace the include and library dir's with an
  ibmad_dir and ibumad_dir and then uses the correct packages directory when
  looking for includes and libraries from that package.  This makes it work
  like the cuda and nvml components with respect to configuring how to find
  files from a package the component depends on.  There are also changes in
  this patch file to remove an unneeded variable in the dlopen code to resolve
  some defects reported by coverity.

2013-06-11  

  * d5be5643 src/components/rapl/tests/rapl_basic.c: rapl tests: make the error
  messages a little more verbose

  * 0c9f1a8c src/run_tests_exclude.txt src/run_tests_exclude_cuda.txt:
  run_tests_exclude files: Exclude a template file 
  ------------------------------------------- It also adds the cpi.pbs file to
  the list of files to excluded when the tests are run. This file is just a
  template and attempts to run it hang the run_tests script on our systems.
  -------------------------------------------

  * 0a063619 src/run_tests.sh: run_tests.sh: fix exclude check.  The script
  failed to remove .cu files, this patch fixes the check. Thanks Gary Mohr for
  reporting/patching.

2013-06-10  

  * 87399477 src/components/cuda/linux-cuda.c: cuda component: Address a
  coverity issue  The library linking code saved return values in a local var
  but never used them. Thanks to Gary Mohr for submitting this patch.

  * 99b5b685 src/components/coretemp/tests/coretemp_basic.c: coretemp_basic:
  update test to properly enumerate events  The code was old and was searching
  the entire native event list for ones that started with "hwmon".  This
  updates the test to first find the coretemp component, then enumerate all
  events contained within.

  * b5c0795b src/components/rapl/tests/rapl_overflow.c: rapl component: address
  potential looping issue in test.  A rapl component test has a do/while which
  only exited when PAPI_add_named_event returned 0 ( and only 0; the PAPI_E*
  error codes would not terminate a while( retval ) loop), this felt fragile,
  minimal checks are now inplace.

  * 4e9484a5 src/components/rapl/tests/rapl_overflow.c: rapl components:
  coverity fixes  Reported/patched by Gary Mohr -----------------------------
  The rapl component also has 1 defect in a test case.  The complaint is that
  there is code that can never be executed.  But this one is not as clear, it
  says that you can not exit the do/while loop that preceeds a test of retval
  until retval=0 which means the test can never be true.  The patch I am
  providing is to again remove the if test and its contents.  But I am
  concerned that the do/while loop preceeding the test could result in a hard
  loop that would hang the test case forever.  It seems to me like something
  should also be done to insure the loop will exit at some point.  Here is a
  patch that provides at least part of the fix: -----------------------------

  * 0a533810 src/components/net/tests/net_values_by_name.c: net components:
  coverity fixes  Reported/patched by Gary Mohr -----------------------------
  The net component has one defect in one of the test cases.  The complaint is
  that there is code that can never be executed.  There is a test to see if
  event_count == 0 which can never be true at that place in the code.  So I
  removed the if statement and its contents.  Here is the patch:
  -----------------------------

2013-06-07  

  * b784b063 src/components/nvml/Rules.nvml src/components/nvml/configure
  src/components/nvml/configure.in...: nvml: Apply Gary Mohr's dlopen patch. 
  Move the nvml component over to using the dlopen and weak linking
  infrastructure of the cuda component. Thanks, Gary.

  * d6505b76 src/components/rapl/utils/rapl_plot.c: rapl: update the rapl_plot
  utility  Get the event names by enumerating the ones available with the RAPL
  component rather than having a hard-coded list.

  * 2094c5b1 src/components/rapl/linux-rapl.c: rapl: add better error messages
  on component init failure

  * d0e668fb src/ctests/Makefile src/ctests/high-level.c
  src/ctests/hl_rates.c...: First round of changes to implement a PAPI high
  level event per cycle call. Untested.

2013-06-05  

  * 63074f82 src/components/rapl/linux-rapl.c: rapl: Add Ivb-EP support  The
  Intel docs are spotty on what is actually supported. They state: 14.7.2 RAPL
  Domains and Platform Specificity The specific RAPL domains available in a
  platform varies across product segments. Platforms targeting client segment
  support the following RAPL domain hierarchy: * Package * Two power planes:
  PP0 and PP1 (PP1 may reflect to uncore devices) Platforms targeting server
  segment support the following RAPL domain hierarchy: * Package * Power plane:
  PP0 * DRAM

2013-05-31  

  * 31b4702d src/cpus.c: cpus.c: Don't run init_thread/shutdown_thread for
  disabled components.

2013-05-29  

  * c48087d2 ChangeLogP511.txt RELEASENOTES.txt: Grab the updated ChangeLog
  from 5.1.1  Create a ChangeLog and update RELEASENOTES for a 5.1.1 release.

2013-05-24  

  * d1c8769e src/components/perf_event/tests/Makefile
  src/components/perf_event/tests/event_name_lib.c
  .../perf_event/tests/perf_event_user_kernel.c: Add perf_event user/kernel
  domain test  This will be useful if/when we start handling domains properly.

  * 89e1aeba src/components/perf_event/tests/Makefile
  src/components/perf_event/tests/event_name_lib.c
  src/components/perf_event/tests/event_name_lib.h...: Add perf_event offcore
  response test  Does a quick check to see if offcore response events are
  working.

  * bda86616 .../perf_event_uncore/perf_event_uncore.c
  src/ctests/get_event_component.c src/papi_internal.c: Some more ctest fixes
  involving disabled components.  We enforce disabled components sometime in
  the PAPI routines and sometimes in the components themselves.  A bit
  confusing.  It is tough with perf_event and perf_event_uncore because we
  share libpfm4 by both, so the naming library for perf_event_uncore will be
  active even if the component is disabled, which can cause some confusing
  results if your test code ignores PAPI_ENOCMP error messages and accesses a
  disabled component anyway.  This at least fixes our test cases, we might have
  to revisit this later.

  * b596621e doc/Doxyfile-common papi.spec src/Makefile.in...: Bump version
  numbers  Call this 5.2.0.0 simple because its greater than (and some
  components are completely incompatible with) 5.1.1

  * eb77a91e .../perf_event_uncore/perf_event_uncore.c src/papi.c: Disallow
  enumerating events on disabled components.  This was causing segfaults on
  tests where enumeration was trying to enumerate uncore events on machines w/o
  uncores.

  * 4e991a8a .../perf_event/tests/perf_event_system_wide.c:
  perf_event_system_wide: SKIP instead of FAIL if we don't have proper
  permissions

  * 7654bb1f src/Makefile.inc src/components/perf_event/tests/Makefile
  .../perf_event/tests/perf_event_system_wide.c...: move the perf_event
  specific tests to be with their component  This means the perf_event tests
  will only be run if perf_event is enabled

  * d82e343f src/ctests/perf_event_uncore_multiple.c:
  ctests/perf_event_uncore_multiple: Improve this test a bit

  * b1a594bf src/perf_events.c src/sys_perf_event_open.c: Remove the no-longer
  needed perf_events files  Now we use the versions in the
  components/perf_event directory

  * a9a277f3 src/Makefile.in src/Makefile.inc src/configure...: Split up
  CPUCOMPONENT configure variable  Now it is CPUCOMPONENT_NAME CPUCOMPONENT_C
  CPUCOMPONENT_OBJ This allows having setups with no CPUCOMPONENT set
  (perf_event used as a component) while keeping backward compatible with
  non-component CPU components.  This has been tested on perf_event and
  perfctr.  It might break other architectures, so test if you can.

  * 69e29526 src/configure src/configure.in: configure: have --with-components
  append comonents to existing value  This allows configure to earlier set the
  components value to include "perf_event" if detected and then later append
  the values passed in with --with-components

  * 9d28df4c src/components/perf_event/Rules.perf_event
  src/components/perf_event/perf_event.c
  src/components/perf_event/perf_event_lib.c...: add perf_event and
  perf_event_uncore components  This adds perf_event as a standalone component.
  Currently it is not compiled or built, some changes need to be made to the
  build system before this will work.

2013-05-21  

  * ea996661 src/components/cuda/linux-cuda.c: eliminate warnings of unused
  vars

  * 691bf114 src/components/cuda/linux-cuda.c: eliminate warnings of unused
  vars

  * 221bfdab src/components/cuda/linux-cuda.c
  src/components/cuda/tests/HelloWorld.cu: Problem with cleanup_eventset():
  after destroying the CUDA eventset, update_control_state() is called again
  which operates on the already destroyed eventset.

2013-05-17  

  * 84925f50 src/components/cuda/linux-cuda.c: When adding multiple CUDA events
  to an event set, PAPI_add_event() error 14 (CUPTI_ERROR_NOT_COMPATIBLE) is
  being raised from the CUPTI library.  Turns out that the CUDA update control
  state wasn't cleaning the event set up properly before adding new events.
  It's fixed now.

  * 2337aa3a src/perf_events.c: perf_event: allow running with
  perf_event_paranoid is 2  perf_event_paranoid set to 2 means allow user
  monitoring only (no kernel domain).  The code before this mistakenly disabled
  all events in this case. Also set the allowed domains to exclude
  PAPI_DOM_KERNEL.

2013-05-16  

  * 617d9fbb src/papi_events.csv: papi_events.csv Revert a little mishap in
  adding ivbep support  Somehow the contents of papi_hl.c ended up in the
  events file.

  * 2aff4596 src/papi_events.csv: Add identifier for ivb_ep

  * 1810ddf9 src/papi_libpfm4_events.c src/papi_libpfm4_events.h
  src/perf_events.c: papi_libpfm4_events: allow specifying
  core/uncore/os_generic PMUs  This allows you to specify you only want your
  perf_event/libpfm4 based component to only export the PMU types you want. 
  Now we can have an uncore-only component.

  * 6554f3f0 src/papi_libpfm4_events.c: papi_libpfm4_events.c: only enable
  presets for component 0  If we have multiple events using libpfm4, we only
  want to load the presets if it is component 0.

  * 6a4a4594 src/papi.c: PAPI_get_component_index() was matching names
  improperly  For example, it was matching perf_event and perf_event_uncore as
  the same component.

  * 1b94e157 src/papi_hl.c: papi_hl.c : fix IPC calculation  I broke it a while
  back while trying to clear out use of MHz.  The code was uncommented and very
  confusing.  It is slightly better now.

  * 92d4552e src/papi_libpfm4_events.c src/papi_libpfm4_events.h
  src/perf_events.c: papi_libpfm4_events: code changes to allow multiple
  component access  the PAPI libpfm4 code has been modified to allow multiple
  users at once.  This will allow multiple components to use libpfm4, for
  example a CPU component and an uncore component.

  * 7902b30e src/cpus.c: cpus: fix debug compile  I always forget to compile
  with --with-debug and miss changes in the DEBUG statements.

2013-05-15  

  * 7ddc05ff src/cpus.c src/cpus.h: cpus.c: Add reference count to cpu
  structure  It is possible to have multiple eventsets all attached to the same
  CPU, as long as only one eventset is running at a time.  At EventSet cleanup,
  PAPI would free the CpuInfo_t structure even if other EventSets were still
  using it.  This patch adds a reference count to the structure and only frees
  it after the last user is cleaned up.  I also fixed a few locking bugs,
  hopefully I didn't introduce any new ones.

  * 6a61f9a2 src/cpus.c: more cleanup of the cpus.c file  mostly formatting and
  added comments.

  * 710d269f src/cpus.c src/cpus.h src/papi.c...: cleanup cpus.h  It had a lot
  of extraneous stuff in it.  Also make sure it only gets included in files
  that need it.

  * 422226c9 src/papi.c: papi.c: add some extra debug messages

  * b1297058 src/cpus.c: Clean up cpus.c a bit  Tracking down a segfault in the
  cpu attach cleanup code.

  * 7b6023cf src/ctests/perf_event_system_wide.c:
  ctests/perf_event_system_wide: much improved output  It segfaults at the end
  though, unclear if this is a bug in the test or a bug in PAPI.  Will
  investigate.

  * 38397aa3 src/components/cuda/configure src/components/cuda/configure.in
  src/components/cuda/linux-cuda.c...: Cuda component: Update library search
  path  From Gary Mohr: It turns out that with the changes I gave you the path
  to the libcuda.so library is still hard coded to /usr/lib64.  This assumes
  that the NVIDIA-Linux package is installed on the system where the build is
  being done.  In Bull's case (and probably other users also) this is not
  always the case.  To add the flexibility we need, I have added a new
  configure argument to the cuda configure script.  The new argument is
  "--with-cudrv_dir" and it allows the user to specify where the cuda driver
  package (ie: NVIDIA-Linux) to be used for the build can be found.  This new
  argument is optional and if not provided a value of "/usr" will be used. This
  allows existing configure calls to continue to work like before.

  * f8873d1c src/ctests/perf_event_system_wide.c:
  ctests/perf_event_system_wide: clean up the output a lot  Still working on
  understanding it.

  * ebf20589 src/ctests/perf_event_system_wide.c: perf_event_system_wide:
  testing various DOMAIN and GRANULARITY settings  pushing the limits of
  PAPI/perf_event trying to see why system-wide measurement doesn't work.

2013-05-14  

  * 0c1ef3f5 src/components/cuda/linux-cuda.c: CUDA component: Update
  description field  Also removes a strcpy in the init code, which overwrote
  the name field. Thanks to Gary Mohr

  * 474fc00e src/ctests/perf_event_uncore_lib.c: Add AMD fam15h northbridge
  event to ctests/perf_event_uncore_lib.c

2013-05-13  

  * cf56cdac src/perf_events.c: perf_event component: update error returns 
  This passes more error return values back to PAPI. Before this change a lot
  of places were hardcoded to PAPI_EPERM even if sys_perf_event_open() was
  reporting a different error.

  * c824471b src/ctests/Makefile src/ctests/perf_event_system_wide.c
  src/ctests/perf_event_uncore.c...: Update the perf_event specific tests. 
  This adds a few more uncore tests, which are currently showing some bugs in
  the implementation.  The tests all need root permissions to run, so should
  default to "SKIPPED" for most users.

2013-05-08  

  * e0204914 src/configure src/configure.in: Force the use of pthread_mutexes
  on ARM  This lets the system libraries worry about the best way to define
  mutexes, rather than trying to hand-code in assembly around all of the
  various issues there are with atomic instructions in the ARM architecture. 
  It might make sense to enable this for *all* Linux architectures, but for now
  just do it for ARM.

  * f21b1b27 src/linux-lock.h: Commit 59d3d7584b2925bd05b4b5d0f4fe89666eb8494a
  removed the definition of mb().  mb() was defined as rmb().  This just
  corrects it back.   (Note from VMW -- this fixes some things, but ARM still
  won't build on a Cortex A9 pandaboard due to the use of the "swp"
  instruction. Proper fix is probably to enforce posix-mutexes on ARM)

2013-05-06  

  * 913f0795 src/components/nvml/configure src/components/nvml/configure.in:
  NVML: Update wording for configure options.  Thanks for pointing out the
  ambigous wording, Heike.

  * 81a86c2b src/components/infiniband/Rules.infiniband
  src/components/infiniband/linux-infiniband.c
  src/components/infiniband/tests/Makefile: Infiniband component: use
  dlopen/dlsym for symbols  Apply Gary Mohr's patch to switch the infiniband
  component over to dl* with the same motivations as the cuda component.

2013-05-02  

  * 2e6bcb2a src/utils/native_avail.c: Add two command line switches: -i
  EVENTSTR includes only events whose names contain EVENTSTR; -x EVENTSTR
  excludes all events whose names contain EVENTSTR.  These two switches can be
  combined, but only one string per switch can be used. This allows you to, for
  example, filter events by component name, or eliminate all uncore events on
  Sandy Bridge

2013-05-01  

  * 3163cc83 src/ctests/perf_event_uncore.c: ctests/perf_event_uncore: add
  IvyBridge support  this needs an updated libpfm4 to work

2013-04-30  

  * 55c89673 src/examples/add_event/Papi_add_env_event.c
  src/examples/overflow_pthreads.c: Examples: Missed two instances of %x printf
  formating.

2013-04-29  

  * b3c5bd47 src/components/appio/tests/appio_list_events.c
  src/components/appio/tests/appio_values_by_code.c
  src/components/appio/tests/appio_values_by_name.c...: Address TRAC 174: Let
  printf do the formatting  https://icl.cs.utk.edu/trac/papi/ticket/174 174:
  PAPI's debuggin/info output should use %# conversions for octal and hex
  ------------------------+-------------------- Reporter:  sbk@        |    
   Owner: Type:  enhancement  |     Status:  new Priority:  normal       | 
  Component:  All Version:  HEAD         |   Severity:  normal Keywords:       
         | ------------------------+-------------------- Email sent to James
  Ralph:  Seeing your latest change reminded me: Anytime there is a value
  issued in hex or octal the "%#" conversion should be used so the value is
  always preceded with a "0" for octal or a "0x" for hex. Otherwise when a
  value is printed one can not tell the base it is in (one shouldn't have to
  rely on internal knowledge of the code or the context to tell). For variables
  that are pointers the "%p" conversion can be used (this will always use an
  hex syntax).  It would be nice to apply this to all PAPI print statements in
  their entirety.

2013-04-25  

  * 87ec9286 src/components/vmware/Rules.vmware: Rules.vmware: Use $(LDL) no
  -ldl  Minor cleanup, but configure sets it, so why not use it.

2013-04-26  

  * 8dddd587 src/papi_hl.c: papi_hl: Use PAPI_get_virt_usec() for process time 
  The code was using cycles / MHz which is not guaranteed to work on modern
  machines.  It also was sometimes using (instructions / estimated IPC) / MHz
  which hopefully isn't necessary for any machine PAPI currently supports. 
  Instead use PAPI_get_virt_usec() which should give the right value.

2013-04-25  

  * 9dd36088 src/ctests/perf_event_uncore.c: ctests/perf_event_uncore: make
  more modular  Cleans up the code to make it easier to add tests for
  architectures other than SandyBridge-EP.  I was doing this so I could add
  support for IvyBridge but it turns out neither Linux nor libpfm4 supports
  uncore on IvyBridge yet.  hmmm.

  * 52ff0293 src/components/cuda/Rules.cuda: Rules.cuda:  The cuda component
  now depend on the dynamic linking loader and on some systems one has to
  explicitly link to it.  Add $(LDL) to LD_FLAGS, configure sets it if we need
  it.

  * 97a4a5ea src/components/cuda/Rules.cuda src/components/cuda/linux-cuda.c
  src/components/cuda/tests/Makefile: Cuda component enhancement. 
  ---------------- From Gary's submission--------------------------------- The
  current packaging of the cuda component in PAPI has a fairly unfriendly side
  effect.  When PAPI is built with the cuda component, then that copy of PAPI
  can only be used on systems where the cuda libraries are installed. If it is
  installed on a system without these libraries then all PAPI services fail
  because they have references to libraries which can not be found.  Even
  papi_avail which you would think has nothing to do with cuda reports the
  error.  This issue significantly complicates the delivery and install of the
  PAPI package on large clusters where some of the nodes have NVIDIA GPU's (and
  the cuda libraries to talk to them) and other nodes do not have GPU's (and
  therefore no software to access them).  I have been working with the help of
  Phil Mucci to eliminate this dependency so that a copy of PAPI built with a
  cuda component could be installed on all nodes in the cluster and if the node
  had NVIDIA GPU's (and libraries available) then the cuda component would get
  enabled and could be used.  If the node did not have the hardware or the
  access libraries were not available, then the cuda component would just
  disable itself at component initialization so it could not be used (but all
  other PAPI services would still work).  Phil has provided some gentle
  prodding and lots of valuable suggestions to assist this effort.  I now think
  that I have a working version of this capability and am ready to share it
  with the community.
  -----------------------------------------------------------------------  Many
  thanks to Gary Mohr and Phil Mucci for this much needed functionality.

2013-04-23  

  * 99c8e352 src/papi_internal.c: papi_internal.c: Print an eventcode in hex vs
  decimal.  Thanks, Gary Mohr.

2013-04-22  

  * 1fc5dae2 src/run_tests.sh: The test for determining whether to run valgrind
  was backwards. Correcting that allow the run_test.sh script to stay the same
  and one just needs to define "VALGRIND=yes" (or any non-null string) to make
  run_test.sh use valgrind.  --- src/run_tests.sh | 6 ++---- 1 file changed, 2
  insertions(+), 4 deletions(-)  diff --git a/src/run_tests.sh
  b/src/run_tests.sh index d1ce205..9337ff2 100755 --- a/src/run_tests.sh +++
  b/src/run_tests.sh @@ -19,10 +19,8 @@ else export TESTS_QUIET fi  -if [
  "x$VALGRIND" = "x" ]; then -# Uncomment the following line to run tests using
  Valgrind -# VALGRIND="valgrind --leak-check=full"; -    VALGRIND=""; +if [
  "x$VALGRIND" != "x" ]; then +    VALGRIND="valgrind --leak-check=full"; fi 
  #CTESTS=`find ctests -maxdepth 1 -perm -u+x -type f`; --

2013-04-19  

  * 4cf16234 src/components/README src/components/bgpm/README
  src/components/coretemp_freebsd/README...: Restructure README files for
  components so that the file in the components directory doesn't document
  individual component details. Add README files to each component directory
  that requires further installation detail. Update RAPL instructions to
  capture how to enable reading the MSRs. These files are supposedly configured
  with Doxygen markup, but I don't think the master README ever got built. It
  probably should.

2013-04-17  

  * bf75d226 src/components/cuda/tests/HelloWorld.cu: cuda/tests/HelloWorld.cu:
  workaround a segfault.  Report from Gary Hohr
  
   I was running the Cuda test case on a system which did not actually have any
  NVIDIA GPU's installed on it (but the cuda software was installed and papi
  was built with the cuda component).  I modified the test case to put an real
  cuda event in the source (as suggested in the source).  When I run the test
  case the cuda component gets disabled in PAPI_library_init (because
  detectDevice function can not find any GPU's) which is the correct behavior.
  The test case then calls PAPI_event_name_to_code which failed because the
  cuda component was disabled.  The test case then created an event set and
  called PAPI_add_events with an empty list of events to be added.  This led to
  a segfault somewhere inside libpfm4.  The attached patch makes some minor
  changes to protect against this problem.  I noticed this test case does not
  use the PAPI test framework utilities (test_xxxx functions) so I did not
  modify the test to use them.

2013-04-15  

  * 457bfd74 src/components/cuda/linux-cuda.c: When creating two event sets -
  one for the CUDA and one for the CPU component  - the order of event set
  creation appears crucial. When the CPU event set has been created before the
  CUDA event set then PAPI_start() for the CUDA event set works fine. However,
  if the CUDA event set has been created before the CPU event set, then
  PAPI_start(CUDA_event_set) forces the CUDA control state to be updated one
  more time, even if the CUDA event set has not been modified. The CUDA control
  state function did not properly handle this case and hence cause PAPI_start()
  to fail. This has been fixed.

  * 807120b6 src/components/cuda/linux-cuda.h: linux-cuda.c

2013-03-28  

  * 7b0eec7a src/run_tests.sh: run_tests.sh: further refine component test find
   Exclude *.cu when looking for component tests.

2013-03-25  

  * 6a40c8ba src/run_tests.sh: run_tests.sh: File mode changes.  run_tests.sh
  is now expected to run from the install location in addition to src. The
  script tried to remove execute from *.[c|h], now it just excludes *.[c|h]
  from the find commands.

2013-03-18  

  * 2ba9f473 src/perfctr-x86.c: perfctr: don't read in event table multiple
  times  papi_libpfm3_events.c now reads in the predefined events, we don't
  also need to do this in perfctr setup_x86_presets()

  * 326401b1 src/perfctr.c: Fix segfault in perfctr.c  The preset lookup uses
  the cidx index, but in perfctr.c we weren't passing a cidx value (it was
  being left off).  The old perfctr code plays games with defining extern
  functions so the compiler wasn't giving us a warning.

2013-03-14  

  * 50130c6f src/components/bgpm/L2unit/linux-L2unit.c src/linux-bgq.c: If a
  counter is not set to overflow (threshold==0; happens when PAPI_shutdown is
  called) then we do not want to rebuild the BGPM event set, even if the event
  set has been used previously and hence "applied or attached". Usually if an
  event set has been applied or attached prior to setting overflow, the BGPM
  event set needs to be deleted and recreated (which implies malloc() from
  within BGPM). Not so, though, if threshold is 0 which is the case when
  PAPI_shutdown is called.  Note, this only applies to Punit and L2unit, not
  IOunit since an IOunit event set in not applied or attached.

2013-03-13  

  * 1a143003 src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/IOunit/linux-IOunit.h
  src/components/bgpm/L2unit/linux-L2unit.c...: Overflow issue on BG/Q
  resolved. Overflow with multiple components worked; overflow with multiple
  components and multiple events did not work as supposed to.

  * 42741a40 src/components/cuda/Rules.cuda: Added one more library to linker
  command.

2013-03-12  

  * 1431eb3f src/components/nvml/Makefile.nvml.in
  src/components/nvml/Rules.nvml src/components/nvml/configure...: NVML
  component: build system work  Adopt the cuda component's method for
  specifying library location.

2013-03-11  

  * ce66feac src/components/mx/linux-mx.c: mx component: Modernize init
  routine.  Add component index to _mx_component_init()s signarure and set the
  bit in component info.

  * 1c1bc177 src/components/cuda/Makefile.cuda.in
  src/components/cuda/Rules.cuda src/components/cuda/configure...: Resolve
  configure issues for CUDA component.

2013-03-07  

  * f3572537 src/linux-common.c src/linux-memory.c: Fix the build on
  Linux-SPARC  I dug out an old SPARC machine and fixed the PAPI build on it.

  * 2c7f102c src/perf_events.c: More comprehensive sys_perf_open to PAPI error
  mappings  This tries to cover more of the errors returned by sys_perf_open
  and map them to better results.  EINVAL is a problem because it can mean
  Conflict as well as Event not found and many other things, so it's unclear
  what to do with it.

  * 299070ef src/perf_events.c src/sys_perf_event_open.c: Return proper error
  codes for sys_perf_event_open  For some reason on x86 and x86_64 we were
  trying to set errno manually and thus over-writing the proper errno value,
  causing all errors to look like PAPI_EPERM  This removes that code, as well
  as adds code to report ENOENT as PAPI_ENOEVENT.  With this change, on IVY
  this happens which looks more correct.  ./utils/papi_command_line
  perf::L1-ICACHE-PREFETCHES Failed adding: perf::L1-ICACHE-PREFETCHES because:
  Event does not exist command_line.c                       PASSED

2013-03-06  

  * baa557ca src/papi_libpfm4_events.c src/papi_user_events.c: Coverity fixes: 
  Coverity pointed out that there was a case where load_user_eent_table() could
  leak memory.  The change in the location of the papi_free(foo) ensures that
  the allocated memory is freed.  Coverity pointed out one path through the
  code in _papi_libpfm4_ntv_code_to_descr() that did not free up memory
  allocated in the function.  Added a free on the path in free up that memory. 
  Thanks Will Cohen.

2013-02-14  

  * 395b7bc7 src/Makefile.inc src/components/README
  src/components/appio/tests/Makefile...: Add component tests' to the
  install-[all|tests] target.  Thanks to Gary Mohr. ------------------- This
  makes a fairly small change to src/Makefile.inc to add logic that adds a new
  install-comp_tests target which calls the install target for each component
  being built. This new target is listed as a dependency on the install-tests
  target so it will happen when the 'install-all', 'install-tests', or
  'install-comp_tests' targets are used. A note about this change, I am not
  real familiar with the auto make and auto conf tools. This change was enough
  to make it work for me but if there is another file that should also be
  changed for this modification, please help me out here.  The patch also adds
  install targets to the Makefiles for all of the components which have 'tests'
  directories and updates the README file which talks about how to create
  component tests.  Another note, I only compile with a couple of components
  (ours, rapl, and example) so if I fat fingered something in one of the other
  components Makefiles I would not have noticed. Please keep me honest and make
  sure you compile with them all enabled.  Thanks for adding this capability
  for us. Gary ---------------------------  Makefile.inc: Add run_tests and
  friends to install-tests target.  Component test Makefiles' get their install
  location to mirror what runtests expects.

2013-03-04  

  * 448d21ab src/components/rapl/linux-rapl.c: Remove a stray debug statement.
  Thanks to Harald Servat for catching this.

2013-03-01  

  * df1a75cc src/utils/command_line.c: Wrestled some horribly convoluted
  indexing into shape. The -u and -x options now print as expected (I think).

2013-01-31  

  * b0f5f4d6 src/components/nvml/linux-nvml.c: linux-nvml.c: Fix type warning. 
  CUDA and NVML have an signed vs unsigned thing going on in their returned
  device counts, cast away the warning.

2013-01-29  

  * 8490b4ee src/papi.c: General doxygen cleanup: remove all "No known bugs"
  messages; correct and cleanup examples for PAPI_code_to_name and
  PAPI_name_to_code

2013-01-23  

  * 89e45a9b src/linux-memory.c src/linux-timer.c: ia64 fixes.  Thanks to Tony
  Jones <tonyj@suse.de> for patches.

2013-01-16  

  * 23e0ba2d src/components/nvml/linux-nvml.c: nvml component: cleanup a memory
  leak  We did not free a buffer at shutdown time.

2013-01-15  

  * f3db85fc src/papi.h: papi.h bump version number.

  * dfa80287 src/buildbot_configure_with_components.sh: Buildbot configure
  script.  Add cuda and nvml components, if configured, to the buildbot
  coverage test. Note: Script now checks for existance of Makefile.cuda and
  then Makefile.nvml so see if it can build the cuda component and then if it
  can build the nvml component.

  * cf416e27 src/threads.c: Cleaned up compiler warning (gcc version 4.4.6)

  * 59cbc8fc src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/L2unit/linux-L2unit.c...: Cleaned up compiler warnings on
  BG/Q (gcc version 4.4.6 (BGQ-V1R1M2-120920))

2013-01-14  

  * 3af71658 .../build/lib.linux-x86_64-2.7/perfmon/__init__.py
  .../lib.linux-x86_64-2.7/perfmon/perfmon_int.py
  .../build/lib.linux-x86_64-2.7/perfmon/pmu.py...: libpfm4: remove extraneous
  build artifacts.  Steve Kaufmann reported differences between the libpfm4 I
  imported into PAPI and the libpfm4 that can be attained with a git clone
  git://perfmon2.git.sourceforge.net/gitroot/perfmon2/libpfm4  Self: Do libpfm4
  imports from a fresh clone of libpfm4.
2013-11-25  

  * a40c96c5 src/components/nvml/linux-nvml.c: nvml component: Add missing }

  * 166971ba src/components/nvml/linux-nvml.c: nvml component: modify api
  checks  To check if nvmlDeviceGetEccMode and nvmlDeviceGetPowerUsage are
  supported, we just call the functions and see if nvml thinks its supported by
  the card.

2013-11-21  

  * 78192de9 delete_before_release.sh: Kill the .gitignore files in
  delete_before_release

  * 60fb1dd4 src/utils/command_line.c: command_line utility: Initialize a
  variable  Initialize data_type to PAPI_DATATYPE_INT64 Addresses a coverity
  error Error: COMPILER_WARNING: [#def19]
  papi-5.2.0/src/utils/command_line.c:133:4: warning: 'data_type' may be used
  uninitialized in this function [-Wmaybe-uninitialized] switch (data_type) { ^

2013-11-20  

  * da2925f6 src/ctests/data_range.c: Make data_range test use prginfo 
  Coverity complained about prginfo being an unused variable for data_range.c. 
  The code is modified to be stylistically like the code for hw_info in the
  preceding lines which also is not used elsewhere in the test.  This is more
  to reduce the amount of output in the Coverity scan than to fix this minor
  issue. 

  * 3386953d src/ctests/data_range.c: Check the return values of PAPI_start()
  and PAPI_stop() for the data_range test  The ia64 data_range test did not
  check the return values of PAPI_start() or PAPI_stop().  There are propbably
  few people running this test on ia64 machine, but this is more to eliminate a
  couple errors noted by a Coverity scan and reduce the clutter in the Coverity
  scan. 

2013-11-19  

  * e704e8f1 src/configure src/configure.in: configure: Build fpapi.h and co
  for mic  When building for mic, set the cross_compiling var in configure to
  use a native c compiler to build genpapif.

2013-11-18  

  * d32b1dae man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Rebuild the man pages for a 5.3 release

  * 4e735d11 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump version
  numbers for a pending 5.3

  * efe026cd src/Makefile.inc: Makefile.inc: Pass LINKLIB, not SHLIB to the
  comp_tests

  * f0598acb src/ctests/Makefile.target.in: ctests/Makefile.target.in: Properly
  catch LINKLIB  LINKLIB=$(SHLIB) or $(LIBRARY), so we have to have configure
  fill in those as well.

  * 1744c23e src/ctests/Makefile.target.in: ctests/Makefile.target.in: Respect
  static-tools  the --with-static-tools configure flag sets STATIC, not
  LDFLAGS. This gets passed to the tests' make subprocesses via
  LDFLAGS="$(LDFLAGS) $(STATIC)" We mimic this in the installed Makefile.

  * e9347373 src/ctests/Makefile: ctests/Makefile: Don't clobber value of
  LIBRARY  TOOD: write a better message

  * 237219d1 src/Makefile.inc: Makefile.inc: Add enviro vars to fulltest recipe
   The fulltest target didn't set LD_LIBRARY_PATH and as a result, several
  tests wouldn't find libpfm and fail to run. The fix is to call our SETPATH
  command first (as all of the other testing targets do)  See
  ------------------------------------------------------------------ icc
  -diag-disable 188,869,271 -g -g -DSTATIC_PAPI_EVENTS_TABLE
  -DPEINCLUDE="libpfm4/include/perfmon/perf_event.h" -D_REENTRANT -D_GNU_SOURCE
  -DUSE_COMPILER_TLS  -Ilibpfm4/include  -I../../../testlib -I../../.. -I. -o
  perf_event_offcore_response perf_event_offcore_response.o event_name_lib.o
  ../../../testlib/libtestlib.a ../../../libpapi.so.5.2.0.0 ld: warning:
  libpfm.so.4, needed by ../../../libpapi.so.5.2.0.0, not found (try using
  -rpath or -rpath-link) ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_get_event_attr_info' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_initialize' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_get_pmu_info' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_get_version' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_get_os_event_encoding' ../../../libpapi.so.5.2.0.0: undefined reference
  to `pfm_get_event_next' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_get_event_info' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_strerror' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_find_event' ../../../libpapi.so.5.2.0.0: undefined reference to
  `pfm_terminate' make[2]: *** [perf_event_offcore_response] Error 1
  ------------------------------------------------------------------

2013-11-17  

  * a7f642d2 src/Makefile.inc src/configure src/configure.in: Switch LINKLIB to
  not have relative pathing

2013-11-15  

  * 91a6fa54 src/components/lustre/tests/Makefile: Fix a typo in the lustre
  tests' Makefile

2013-11-13  

  * 9a5f9ad4 src/papi_preset.c: papi_preset.c: Fix _papi_load_preset_table func
   Patch by Gleb Smirnoff ---------------------- The _papi_load_preset_table()
  loses last entry from a static table.  The code in get_event_line() returns
  value of a char next to the line we are returning. Obviously, for the last
  entry the char is '\0', so function returns false value and
  _papi_load_preset_table() ignores the last line.  Patch attached.  The most
  important part of my patch is only:  -               ret =
  **tmp_perfmon_events_table; +               return i;  This actually fixes
  the lost last line.  However, I decided to make the entire get_event_line()
  more robust, protected from bad input, and easier to read.
  ----------------------

2013-11-12  

  * 579139a6 src/utils/hybrid_native_avail.c: more doxygen xml tag cleanup

  * 952bb621 src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/CNKunit/linux-CNKunit.h
  src/components/bgpm/IOunit/linux-IOunit.c...: Fix doxygen Unsupported
  xml/html tag warnings

  * 0c161015 src/components/micpower/linux-micpower.h: micpower: fix doxygen
  warning

  * b187f065 src/components/host_micpower/README: host_micpower: update docs

2013-11-11  

  * 4d379c6f src/ctests/p4_lst_ins.c: ctests/p4_lst_ins: Narrow scope of test 
  This test attempted to ensure that it was running on a P4, the test missed
  for all non intel systems.

2013-11-10  

  * ee1c7967 .../host_micpower/utils/host_micpower_plot.c: Added energy
  consumption to host_micpower utility.

2013-11-08  

  * eee49912 src/ctests/shlib.c: shlib.c: Check for NULL  Thanks to Will Cohen
  for reporting. Coverity picked up an instance of a value that could be NULL
  and strlen would barf on it.  Error: FORWARD_NULL (CWE-476):
  papi-5.2.0/src/ctests/shlib.c:70: var_compare_op: Comparing "shinfo->map" to
  null implies that "shinfo->map" might be null.
  papi-5.2.0/src/ctests/shlib.c:74: var_deref_model: Passing "shinfo" to
  function "print_shlib_info_map(PAPI_shlib_info_t const *)", which
  dereferences null "shinfo->map". papi-5.2.0/src/ctests/shlib.c:13:26:
  var_assign_parm: Assigning: "map" = "shinfo->map".
  papi-5.2.0/src/ctests/shlib.c:24:3: deref_var_in_call: Function "strlen(char
  const *)" dereferences an offset off "map" (which is a copy of
  "shinfo->map").

  * 83c31e25 src/components/perf_event/perf_event.c: perf_event.c: Check return
  value of ioctl  Thanks to Will Cohen for reporting based upon output of
  coverity.

  * e5b33574 src/utils/multiplex_cost.c: multiplex_cost: check return value on
  PAPI_set_opt  Thanks to Will Cohen for reporting based upon output of
  coverity.

  * 04f95b14 src/components/.gitignore: Ignore component target makefile

  * cbf7c1a8 src/components/rapl/linux-rapl.c
  src/components/rapl/tests/Makefile src/components/rapl/tests/rapl_basic.c:
  Modify linux-rapl to support one wrap-around of the 32-bit registers for
  reading energy. This insures availability of the full 32-bit dynamic range.
  However, it does not protect against two wrap-arounds. Care must be taken not
  to exceed the expected dynamic range, or to check reasonableness of results
  on completion. Modifications were also made to report rapl events as unscaled
  binary values in order to compute dynamic ranges. Modify rapl-basic to add a
  test (rapl_wraparound) to estimate maximum measurement time for a naive gemm.
  With a -w option, measurement for this amount of time will be performed. The
  gemm can be replaced with a user kernel for more accurate time estimates.
  Makefile was modified to support the new test case. 

2013-11-07  

  * 7784de21 src/ctests/data_range.c src/ctests/zero_shmem.c: Modernize some
  ctests  Add tests_quiet check to data_range and zero_shmem

2013-11-06  

  * 7c953490 src/configure src/configure.in: More MPICC checking  Have
  configure check for mpcc on AIX, in addition to mpicc.

  * 5c8d2ce0 src/ctests/zero_shmem.c: zero_shmem.c: Fix compiler warning  The
  worker threads in the test print an ID, the test was setup to call
  pthread_self(), this is problematic. Since each thread is started with a
  unique work load, use this to lable threads.

  * 993a6e96 src/ctests/Makefile.recipies src/ctests/Makefile.target.in:
  ctests/Makefile.recipies: conditionally build the MPI test

  * b29d5f56 src/Makefile.inc src/configure src/configure.in: Check for mpicc
  at configure time  configure[.in]: look for mpicc Makefile.inc: Pass MPICC to
  ctests' make

2013-11-05  

  * b2d643df src/papi_events.csv: Add floating point events for IvyBridge  Now
  that Intel has documented them and libpfm4 supports them, PAPI can use them. 
  We just use the same events as on sandybridge.  Tested on an ivybridge
  system.

2013-11-01  

  * c5be5e26 src/components/micpower/linux-micpower.c: micpower: check return
  of fopen before use  Issue reported by Will Cohen from results of Coverity
  run.

  * 5c1405ab src/components/host_micpower/utils/Makefile
  src/components/host_micpower/utils/README
  .../host_micpower/utils/host_micpower_plot.c: Add host_micpower utility to
  gather power (and voltage) measurements on Intel Xeon Phi chips using
  MicAccessAPI.

  * 46b9bdf5 src/components/host_micpower/linux-host_micpower.c: Added more
  detailed event description and correct units to host mic power events.

  * b97c0126 src/components/host_micpower/linux-host_micpower.c: host_micpower:
  Better error reporting  grab output of dlerror on library load failure

2013-10-31  

  * 84da7fd3 src/components/host_micpower/Rules.host_micpower
  src/components/host_micpower/tests/Makefile: host_micpower: Fix some makefile
  bits  tests/Makefile needed to define a target to work with the
  Make_comp_tests install machinery.  Rules.host_micpower had a typo

2013-10-30  

  * 14f3e4c4 src/components/host_micpower/linux-host_micpower.c: host_micpower:
  fix function signature  shutdown_thread took wrong arguments.

2013-10-28  

  * a4cc1113 release_procedure.txt: Update release_procedure.txt  Bug in the
  version of doxygen we were using to produce the documentation led to some of
  the Fortran functions being left out in the cold.  We now proscribe 1.8.5

  * a1d6ae34 src/components/host_micpower/README: host_micpower: Add a README
  file.

2013-10-25  

  * 859dbc2c src/Makefile.inc src/components/Makefile_comp_tests
  src/components/Makefile_comp_tests.target.in...: Make the testsuite as a
  stand-alone copy-able directory of code  These changes to the Makefiles
  allows the testsuite to be compiled separately from the papi sources.  This
  is useful for people wanting to experiment with the tests and verify that the
  existing installation of papi works.  We put absolute paths to the installed
  library and include files into the installed makefile for the tests.

  * c307ad18 src/ctests/Makefile src/ctests/attach_target.c
  src/testlib/do_loops.c: Refactor the driver in do_loops.c into its own file. 
  (ctests/Makefile, ctests/attach_target.c testlib/do_loops.c)

2013-10-23  

  * ace71699 src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/L2unit/linux-L2unit.c...: Passing BGPM errors up to PAPI.

2013-10-22  

  * 2ee090ec src/components/bgpm/NWunit/linux-NWunit.c
  src/components/bgpm/NWunit/linux-NWunit.h: Fixed the behavior in BGQ's NWunit
  component after attaching an event set to a specific thread that owns the
  target recourse counting

  * 8ab071ee src/components/cuda/linux-cuda.c: CUDA component: Set the number
  of native events  Patch by Steve Kaufmann When running papi_component_avail I
  notice that the number of CUDA events was always zero when the component was
  available. The following change correctly sets the number of native events
  for the component:

2013-10-11  

  * 071943b6 src/configure src/configure.in src/linux-context.h...: add
  preliminary aarch64 (arm64) support  There has been some work to build fedora
  19 on 64-bit arm armv8 machines (aarch64).  I took a look that the why the
  papi build was failing.  The attached is a set of minimal patches to get papi
  to build.  The patch is just a step toward getting aarch64 support for papi.
  Things are not all there for papi to work in that environment.  Still need
  libpfm to support aarch64 and papi_events.csv describing mappings to machine
  specific events.

2013-10-01  

  * 096eb7fc src/ctests/zero_shmem.c: zero_shmem: cleanup compiler warnings 
  Remove unused variables.

  * d9669053 src/ctests/earprofile.c: ctests/earprofile.c: Fix compiler warning
   Both PAPI_get_hardware_info and PAPI_get_executable_info expect const
  pointers, (get_executable_info is called by prof_init in profile_utils).

2013-09-30  

  * 87e7e387 src/ctests/p4_lst_ins.c: ctests/p4_lst_ins.c: Fix the P4 load
  test.  This test relied upon a removed symbol to decide if it should run. The
  symbol unsigned char PENTIUM4 was removed in 2011, update the logic.

  * 737d91ff src/ctests/zero_shmem.c: ctests/zero_shmem: Update the test  *
  add_test_events expects another argument, update the zero_shmem test's
  invocation * Protect[Hide] OpenSHMEM calls with ifdefs

2013-09-27  

  * 86c11829 src/ctests/zero_shmem.c: zero_shmem: Include pthread.h

  * 2d0e666c src/ctests/zero_smp.c: zero_smp: Change a compile time error to a
  test_skip  In 8d1f2c1, we changed the default assumption to be that all
  ctests are build. This change allows the test to gracefully skip if it does
  not have 'native SMP' threads.

2013-09-26  

  * 8d1f2c16 src/ctests/Makefile: ctests/Makefile: Default to building
  everything  Set target all to depend upon ALL

  * ffd051cf src/ftests/Makefile src/testlib/Makefile: testlib, ftests
  Makefiles: cleanup ifort generated files  ifort produces mod and f90
  intermediate files which clean does not cleanup

  * c720bb59 src/components/coretemp/tests/coretemp_basic.c
  src/components/coretemp/tests/coretemp_pretty.c: Coretemp tests: Fix skipping
  logic  The coretemp_basic test was failing if coretemp was disabled, skip
  seems more appropriate. Add this logic to the coretemp_pretty test.

  * af7f7508 src/configure src/configure.in: configure: refactor CTEST_TARGETS 
  Problem: The set of ctests to build is determined at configure time, in
  CTEST_TARGETS. This is set in each OS detection section and suffers from
  neglect.  Solution: Try to push the decisions about which tests to build out
  of configure, ask for them all. Idealy the tests will be written in such a
  way as to fail/skip gracefully if they lack functionallity, teething problems
  are expected initially.

  * 14421695 src/testlib/Makefile: testlib: Fix the Makefile variable
  assignment  Consider: src=a.c b.c c.F obj=$(src:.c=.o) c.o  After this
  substution, obj is {a.o b.o c.F c.o}, not quite the nut. Change the logic to
  correct that.

2013-09-17  

  * 05a4e17b .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore:
  cleanup a compiler warning  _peu_read does not use the hwd_context argument.

  * f2056857 src/papi_events.csv: papi_events.csv: Add PAPI_L1_ICM for Haswell 
  Thanks to Maurice Marks of Unisys for the contribution ------------- I've
  continued testing on Haswell. By comparison with Vtune and Emon on Haswell I
  found that we can use the counter L2_RQSTS:ALL_CODE_RD for PAPI_L1_ICM, which
  is a very useful measure.  Attached is my current version of papi_events.csv
  with Haswell fixes. -------------

2013-08-28  

  * efe3533d src/Makefile.inc src/components/Makefile_comp_tests
  src/ctests/Makefile...: testlib: library-ify testlib  * Move ftests_util to
  testlib * Naively create libtestlib.a * utils link to the testlib library *
  [c|f]tests Switch the tests over to linking libtestlib.a * Component tests
  link libtestlib.a

2013-08-26  

  * d2a76dde src/configure src/configure.in src/utils/hybrid_native_avail.c:
  Gabrial's mic with icc changes to configure.  Specify --with-mic at configure
  time and upon finding icc as the C compiler, it adds --mmic

  * 4c0349c0 src/papi_events.csv: papi_events.csv: First draft preset events on
  HSW  Contributed by Nils Smeds ------------------------- Here is a suggestion
  for addition to Hsw counters. These are not rigorously tested. It compiles
  and loads. I'm rather uncertain on many of the events so I am hoping that
  adding events like this will get some useful feedback from the community so
  that we can improve. -------------------------

2013-08-20  

  * 1b8ff589 src/utils/command_line.c: command_line util: Fix skipping event
  bug.  The command line utility had an extranious index increment which
  resulted in skipping the reporting of event counts. Remove the increment. 
  Reported by Steve Kaufmann -------------------------- I am getting some funny
  results when I use papi_command_line with the RAPL events. If I request them
  all:  $ papi_command_line THERMAL_SPEC:PACKAGE0 MINIMUM_POWER:PACKAGE0
  MAXIMUM_POWER:PACKAGE0 MAXIMUM_TIME_WINDOW:PACKAGE0 PACKAGE_ENERGY:PACKAGE0
  DRAM_ENERGY:PACKAGE0 PP0_ENERGY:PACKAGE0 Successfully added:
  THERMAL_SPEC:PACKAGE0 Successfully added: MINIMUM_POWER:PACKAGE0 Successfully
  added: MAXIMUM_POWER:PACKAGE0 Successfully added:
  MAXIMUM_TIME_WINDOW:PACKAGE0 Successfully added: PACKAGE_ENERGY:PACKAGE0
  Successfully added: DRAM_ENERGY:PACKAGE0 Successfully added:
  PP0_ENERGY:PACKAGE0  THERMAL_SPEC:PACKAGE0 :	    115.000 W <<<<<
  MINIMUM_POWER:PACKAGE0 ?? MAXIMUM_POWER:PACKAGE0 :    180.000 W
  PACKAGE_ENERGY:PACKAGE0 :   2003784180(u) nJ DRAM_ENERGY:PACKAGE0
  :	438751220(u) nJ PP0_ENERGY:PACKAGE0 :	1248748779(u) nJ 
  ---------------------------------- Verification: Checks for valid event name.
  This utility lets you add events from the command line interface to see if
  they work. command_line.c                       PASSED  Note that a value for
  MINIMUM_POWER:PACKAGE0 is not displayed even though it was successfully added
  to the event set. In fact, if combined with other events, the value for this
  event is never displayed. If you specifiy it on its own it is displayed:
  ------------------------------------

2013-08-16  

  * 0cb63d6e src/components/lustre/linux-lustre.c: lustre component: fix memory
  leak

2013-08-13  

  * c810cd0d src/components/micpower/linux-micpower.c src/linux-memory.c
  src/papi_preset.c: Close resource leaks  User dcb reported several resource
  leaks in trac bug #184. -------------------- I just ran the static analysis
  checker "cppcheck" over the source code of papi-5.2.0  It said  1.
  [linux-memory.c:711]: (error) Resource leak: sys_cpu  2. [papi_preset.c:735]:
  (error) Resource leak: fp  3. [components/micpower/linux-micpower.c:166]:
  (error) Resource leak: fp  I've checked them all and they all look like
  resource leaks to me.  Suggest code rework.
  ----------------------------------

2013-08-07  

  * 8d479895 doc/Makefile: Doxygen makefile: update dependencies  The manpages
  are generated from comments in papi.h, papi.c, papi_hl.c and
  papi_fwrappers.c; update the make dependencies to reflect this.
2014-06-30  

  * 511d05bc man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Regenerate man pages for a pending 5.3.2
  release

  * a07adc91 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump version
  number for a 5.3.2 release

2014-06-27  

  * 43070347 src/components/coretemp/linux-coretemp.c
  src/components/micpower/linux-micpower.c src/components/net/linux-net.c: Fix
  a warning in component initialization  A copy/paste perpetuated a multiple
  definition of available_domains

2014-06-24  

  * ea216f5a src/run_tests.sh src/run_tests_exclude.txt
  src/run_tests_exclude_cuda.txt: Fix excluded files for run_tests  Gary Mohr
  pointed out that in a Makefile refactor we neglected to update the tests
  eclude creteria -------------------------------- It turns out that you guys
  have made changes in the way the tests are built which have introduced errors
  when running the scripts. The script attempted to automatically remove the
  makefiles from the list of files it would execute but your build changes
  broke the makefiles up into several files and renamed all of them. So the
  script was trying to execute them.  I decided the most flexible way to handle
  this is to remove the code from the script that looks for makefiles and just
  add them to the exclude files used by the script. The script will not execute
  any file listed in the exclude file.  The attached patch implements these
  changes so the script runs correctly with the current papi build files.  Gary
  --------------------------------

2014-05-16  

  * aacf9628 man/man3/PAPI_enum_cmp_event.3 man/man3/PAPI_enum_event.3
  man/man3/PAPI_get_overflow_event_index.3...: Printf formatting change... 
  Based upon a patch by Steve Kaufmann.  I took the liberty of removing all the
  leading "0x" as part of formatting output strings. Now the "%#" syntax is
  used to print out hexidecimal values with a leading "0x" (letting the printf
  function do the work).

2014-03-26  

  * 0c93f0a1 src/components/nvml/linux-nvml.c src/components/nvml/linux-nvml.h:
  Add units to NVML component  Thanks to Brian Lemke at Bull for the patch.

2014-02-26  

  * 2c79fab8 src/configure src/configure.in: configure: respect
  --with-walltimer and virtualtimer  For whatever reason configure would not
  check for the --with-walltimer argument if we had already determined one (See
  BG/P and CLE sections also --with-mic option).  This is not desirable, kill
  this behaviour.

2014-01-30  

  * 284f25c2 src/components/lustre/linux-lustre.c
  src/components/net/linux-net.c: Use correct specification for signed and
  unsigned int  A run of cppcheck showed that some mismatches between the
  specfications for sscanf and the variables being used to store the values. 
  This corrects those minor issues.

2014-02-04  

  * 291bad11 src/components/coretemp/linux-coretemp.c
  src/components/coretemp_freebsd/coretemp_freebsd.c
  src/components/host_micpower/linux-host_micpower.c...: Update the
  domain/granularity of many components  Many PAPI components only report
  system wide events, here we attempt to match up entries in the .cmp_info
  struct with reality by only allowing PAPI_GRAN_SYS and PAPI_DOM_ALL.

2013-12-30  

  * eeefec5c src/ctests/attach2.c src/ctests/attach3.c: ctests/attach[2,3]: Fix
  ptrace call for BSD  "The  SunOS  man page describes ptrace() as "unique and
  arcane", which it is."

  * 27d416c8 src/configure src/configure.in: Configure.in: Remove Bash-isms
  from comp selection  Part of a patch set by Gleb Smirnoff

  * 52f8979f src/configure src/configure.in: Configure.in: Correctly detect
  FreeBSD OS version  The script incorrectly parsed "FreeBSD 10" as "FreeBSD
  1". Part of a series of patches by Gleb Smirnoff
2014-11-13  

  * 8f524875 RELEASENOTES.txt: Prepare release notes for a 5.4.0 release

2014-11-12  

  * a8b4613b man/man1/papi_avail.1 man/man1/papi_clockres.1
  man/man1/papi_command_line.1...: Rebuild the doxygen manpages

  * fbea4897 src/run_tests_exclude.txt: Remove omptough from standard
  run_tests.sh testing  On some platforms (e.g. some AMD machines), if
  OMP_NUM_THREADS is not set, then this test does not complete in a reasonable
  time.  That is because on these platforms too many threads are spawned inside
  a large loop.

2014-11-11  

  * 23c2705b src/components/bgpm/CNKunit/linux-CNKunit.c
  src/components/bgpm/IOunit/linux-IOunit.c
  src/components/bgpm/IOunit/linux-IOunit.h...: Fix number of counters and
  events for each of the 5 BGPM units as well as emon on BG/Q

2014-11-07  

  * 93c69ded src/linux-timer.c: Patch linux-timer.c to provide cycle counter
  support on aarch64 (64-bit ARMv8 architecture)  Thanks to William Cohen for
  this patch and the message below: --- The aarch64 has cycle counter available
  to userspace and this resource should be made available in papi. --- This
  patch is not tested by the PAPI team (no easily available hardware).

2014-11-06  

  * 038b2f31 src/components/rapl/linux-rapl.c: Extension of the RAPL energy
  measurements on Intel via msr-safe.
  (https://github.com/scalability-llnl/msr-safe)  msr-safe is a linux kernel
  module that allows user access to a whitelisted set of MSRs. It is nearly
  identical in structure to the stock msr kernel module, with the important
  exception that the "capabilities" check has been removed.  The LLNL sysadmins
  did a security review for the whitelist.

  * 67e0b3f6 src/components/rapl/tests/rapl_basic.c: Fixed string null
  termination.

2014-10-30  

  * 2a1805ec src/components/perf_event/pe_libpfm4_events.c
  src/components/perf_event/pe_libpfm4_events.h
  src/components/perf_event/perf_event.c...: Patch to reduce cost of using
  PAPI_name_to_code and add list of supported pmu names to papi_component_avail
  output  Thanks to Gary Mohr for this patch and its documentation: --- This
  patch file contains code to look for either pmu names or component names on
  the front of event strings passed to PAPI_name_to_code calls.  If found the
  name will be compared to values in each component info structure to see if
  the component supports this event.  If the pmu name or component name does
  not match the values in the component info structure then there is no need to
  call this component for this event.  If the event string does not contain
  either a pmu name or a component name then all components will be called. 
  This reduces the overhead in PAPI when converting event names to event codes
  when either component names or pmu names are provided in the event name
  string.  To support the above checks, there is also code in this patch to add
  an array of pmu names to the component info structure and modifications to
  the core and uncore components to save the pmu names supported by each of
  these components in this new array.  This patch also adds code to the
  papi_component_avail tool to display the pmu names supported by each active
  component. ---

2014-10-28  

  * a91db97b src/components/net/linux-net.c src/components/nvml/linux-nvml.c
  src/components/perf_event/perf_event.c...: This patch file contains
  additional changes to resolve defects reported by Coverity.  Thanks to Gary
  Mohr for this patch. ------ This patch file contains additional changes to
  resolve defects reported by Coverity.  Mostly these just make sure that
  character buffers get null terminated so they can be used as C strings. 
  There is also a change in the RAPL component to improve the message to
  identify why the component may have been disabled. ------

2014-10-22  

  * 3f913658 src/ctests/tenth.c: Fix percent error calculation in
  ctests/tenth.c  Thanks to Carl Love for this patch and the following
  documentation:  Do the division first then multiply by 100 when calculating
  the percent error.  This will keep the magnitude of the numbers closer.  If
  you multiply by 100 before dividing you may exceed the size the representable
  number size.  Additionally, by casting the values to floats then dividing we
  get more accuracy in the calculation of the percent error.  The integer
  division will not give us a percent error less then 1.

  * ba5ef24a src/papi_events.csv: PPC64, fix L1 data cache read, write and all
  access equations.  Thanks to Carl Love for this patch and the following
  documentation:  The current POWER 7 equations for all accesses over counts
  because it includes non load accesses to the cache.  The equation was changed
  to be the sum of the reads and the writes.  The read accesses to the two
  units, can be counted with the single event PM_LD_REF_L1 rather then counting
  the events to the two LSU units independently.  The number of reads to the L1
  must be adjusted by subtracting the misses as these become writes.  Power 8
  has four LSU units. The same equations can be used since PM_LD_REF_L1 counts
  across all four LSU units.

  * 882f5765 src/utils/native_avail.c: This patch file fixes two problems and
  adds a performance improvement in "papi_native_avail.  Thanks to Gary Mohr
  for this patch and the following information:  First it corrects a problem
  when using the -i or -x options.  The code was putting out too many event
  divider lines (lines with all '-' characters).  This has been corrected. 
  Second it improves the results from "papi_native_avail --validate" when being
  used on SNBEP systems.  This system has some events which require multiple
  masks to be provided for them to be valid.  The validate code was showing
  these events as not available because it did not try to use the event with
  the correct combination of masks.  The fix checks to see if a valid form of
  the event has not yet been found and if so then it tries the event with
  specific combinations of masks that have been found to make these events
  work.  It also adds a check before trying to validate the event with a new
  mask to see if a valid form of the event has already been found.  If it has
  then there is no need to try and validate the event again.

  * 94985c8a src/config.h.in src/configure src/configure.in...: Fix build error
  when no fortan is installed  Thanks to Maynard Johnson for this patch. Fix up
  the build mechanism to properly handle the case where no Fortran compiler is
  installed -- i.e., don't build or install testlib/ftest_util.o or the ftests.

2014-10-16  

  * de05a9d8 src/linux-common.c: PPC64 add support for the Power non
  virtualized platform  Thanks to Carl Love for this patch and the following
  description: The Power 8 system can be run as a non-virtualized machine.  In
  this case, the platform is "PowerNV".  This patch adds the platform to the
  possible IBM platform types.

  * 547f4412 src/ctests/byte_profile.c: byte_profile.c: PPC64 add support for
  PPC64 Little Endian to byte_profile.c  Thanks to Carl Love for this patch and
  the following description: The POWER 8 platform is Little Endian.  It uses
  ELF version 2 which does not use function descriptors.  This patch adds the
  needed #ifdef support to correctly compile the test case for Big Endian or
  Little Endian.  This patch is untested by the PAPI developers (hardware not
  easily accessible).

2014-10-15  

  * 14f70ebc src/ctests/sprofile.c: PPC64 add support for PPC64 Little Endian
  to sprofile.c  Thanks to Carl Love for this patch and the following
  description: The POWER 8 platform is Little Endian.  It uses ELF version 2
  which does not use function descriptors.  This patch adds the needed #ifdef
  support to correctly compile the test case for Big Endian or Little Endian.

  * 6d41e208 src/linux-memory.c: PPC64 sys_mem_info array size is wrong  Thanks
  to Carl Love for this patch and the following description: The variable
  sys_mem_info is an array of type PAPI_mh_info_t.  It is statically declared
  as size 4.  The data for POWER8 is statically declared in entry 4 of the
  array which is beyond the allocated array.  The array should be declared
  without a size so the compiler will automatically determine the correct size
  based on the number of elements being initialized.  This patch makes the
  change.

  * 061817e0 src/papi_events.csv: Remove stray Intel Haswell events from Intel
  Ivy Bridge presets  Thanks to William Cohen for this patch and the following
  description: 'Commit 4c87d753ab56688acad5bf0cb3b95eae8aa80458 added some
  events meant for Intel Haswell to the Intel Ivy bridge presets.  This patch
  removes those stray events.  Without this patch on Intel Ivy Bridge machines
  would see messages like the following: PAPI Error: papi_preset: Error finding
  event L2_TRANS:DEMAND_DATA_RD. PAPI Error: papi_preset: Error finding event
  L2_RQSTS:ALL_DEMAND_REFERENCES.'  This patch was not tested by the PAPI team
  (no appropriate hardware).

2014-10-14  

  * 8bc1ff85 src/papi_events.csv: Update papi_events.csv to match libpfm
  support for Intel family 6 model 63 (hsw_ep)  Thanks to William Cohen for
  this patch and its information: 'A recent September 11, 2014 patch (98c00b)
  to the upstream libpfm split out Intel family 6 model 63 into its own name of
  "hsw_ep".  The papi_events.csv needs to be updated to support that new name. 
  This should have no impact for older libpfms that still identify Intel family
  6 model 63 as "hswv" and "hsw_ep" map to the same papi presets.'

  * 32a8b758 src/papi_events.csv: Support for the ARM X-Gene processor.  Thanks
  to William Cohen for this patch. The events for the Applied Micro X-Gene
  processor are slightly different from other ARM processors.  Thus, need to
  define those presets for the X-Gene processor.  Note: This patch is not
  tested by the PAPI team because we do not have the appropriate hardware.

  * 0a97f54e src/components/perf_event/pe_libpfm4_events.c
  .../perf_event_uncore/peu_libpfm4_events.c src/papi_internal.c...: Thanks to
  Gary Mohr for the patch  ---------------------  Fix for bugs in
  PAPI_get_event_info when using the core and uncore components: 
  PAPI_get_event_info returns incorrect / incomplete information.  The errors
  were in how the code handled event masks and their descriptions so the errors
  would not lead to program failures, just the possibility of incorrect
  labeling of output.  ---------------------

2014-10-09  

  * 77960f71 src/components/perf_event/pe_libpfm4_events.c: Record
  encode_failed error by setting attr.config to 0xFFFFFFF.  This causes any
  later validate attempts to fail, which is the desired behavior.  Note: as of
  2014/10/09 this has not been thoroughly tested, since a failure case is not
  known.  This patch simply copies a fix that was applied to the
  perf_event_uncore component.

2014-09-25  

  * 00ae8c1e src/components/perf_event_uncore/peu_libpfm4_events.c: Based on
  Gary Mohr's suggestion.  If an event fails when we try to add it
  (encode_failed), then we note that error by setting attr.config = 0xFFFFFF
  for that event.  Then, if there is a later check to validate this event, the
  check will correctly return an error.

  * 3801faaf src/utils/native_avail.c: Adding the NativeAvailValidate patch
  provided by Gary Mohr.  The problem being addresed is that if there were any
  problems validating event masks, then those problems would result in the
  entire event being invalid.  The desired action was to test each event mask,
  and if any basic event mask can make the event succeed, then the event should
  be returned as valid and available.  The solution is to create a large buffer
  and write events and masks into this buffer as they are processed, tracking
  their validity.  At the end go back and mark the validity of the entire
  event.  This matches the standard output of PAPI.

2014-09-24  

  * 6abc8196 src/components/emon/README src/components/emon/Rules.emon
  src/components/emon/linux-emon.c: Emon power component for BG/Q

2014-09-23  

  * 62b9f2a9 .../perf_event_uncore/perf_event_uncore.c: perf_event_uncore.c:
  Check scheduability of events  Patch by Gary Mohr, ------------------- This
  patch file adds code to the uncore component to check and make sure that the
  events being opened from an event set can be scheduled by the kernel.  This
  kind of code exists in the core component but was not moved into the uncore
  component because it was felt that it would not be an issue with uncore. 
  Turns out the kernel has the same kind of issues when scheduling uncore
  events.  The symptoms of this problem will show that the kernel will report
  that all events in the event set were opened successfully but when trying to
  read the results one (or more) of the events will get a read failure.  Seen
  in the traces and on stderr (if papi configured with debug=yes) as a "short
  read" error.  The logic is slightly different than what is in the core
  component because the events in the core component are grouped and the ones
  in the uncore are not grouped.  When events are grouped, you only need to
  enable/disable and read results on the group leader. But when they are not
  grouped you need to do these operations on each event in the event set.

2014-09-19  

  * 8e6bf887 src/components/cuda/linux-cuda.c
  src/components/infiniband/linux-infiniband.c
  src/components/lustre/linux-lustre.c...: Address coverity defects in
  src/components  Thanks Gary Mohr ----------------  This patch file contains
  fixes for defects reported by Coverity in the /src/components directory.
  Mostly these changes just make sure that char buffers get null terminated so
  that when they get used as a C string (they usually do) we will not end up
  with unpredictable results.  A problem has been reported by one of our
  testers that the lustre component produced very long event names with lots of
  unprintable garbage in the names.  It turns out this was caused by a buffer
  that filled up and never got null terminated.  Then string functions were
  used on the buffer which picked up the whole buffer and lots more.  These
  changes fixed the problem.

  * 266c61a4 src/linux-common.c src/papi_hl.c src/papi_internal.c...: Address
  coverity reported issues in src/  Thanks to Gary Mohr -------------------
  Changes in this patch file:  linux-common.c:  Add code to insure that cpu
  info vendor_string and model_string buffers are NULL terminated strings. 
  Also insure that the value which gets read into mdi->exe_info.fullname gets
  NULL terminated. This makes it safe to use the  'strxxx' functions on the
  value (which is done immediately after it is read in).  papi_hl.c:  Fix call
  to _hl_rate_calls() where the third argument was not the correct data type. 
  papi_internal.c:  Add code to insure that event info name, short_desc, and
  long_desc buffers are NULL terminated strings.  papi_user_events.c:  While
  processing define symbols, insure that the 'local_line', 'name', and 'value'
  buffers get NULL terminated (so we can safely use 'strxxx' functions on
  them). Insure that the 'symbol' field in the user defined event ends up NULL
  terminated. Rearrange code to avoid falling through from one case to the next
  in a switch statement. Coverity flagged falling out the bottom of a case
  statement as a potential defect but it was doing what it should. 
  sw_multiplex.c:  Unnecessary test.  The value of ESI can not be NULL when
  this code is reached.  x86_cpuid_info.c:  The variable need_leaf4 is set but
  not used.  The only place it gets set returns without checking its value. 
  The place that checks its value never could have set its value non-zero.

2014-09-12  

  * d72277fc release_procedure.txt: Update release procedure, check buildbot!

2014-09-08  

  * a0e4f9a7 src/components/perf_event_uncore/perf_event_uncore.c: Uncore
  component fix:  By Gary Mohr, The line that sets exclude_guests in the uncore
  component is there because it also there in the core component.  But when I
  look at it closer, it is an error in both cases.  I will submit a patch to
  remove them and get rid of some commented out code that no longer belongs in
  the source.  The uncore events do not support the concept of excluding the
  host or guest os so we should never set either bit.  But the core events do
  support this concept and libpfm4 provides event masks "mg" and "mh" to
  control counting in these domains.  By default if neither is set then libpfm4
  excludes counting in the guest os, if either "mh" or "mg" is provided as an
  event mask then it is counted but the other is excluded, and if both are
  provided then both are counted.  So when the code forces the exclude_guest
  bit to be set it breaks the ability to fully control what will happen with
  the masks.  I did not notice the uncore part of this problem when testing on
  my SNB system, probably because we use an older kernel which tolerated the
  bit being set (or maybe because HSW is handled differently).

2014-09-02  

  * 4499fee7 src/papi_internal.c: Thanks to Gary Mohr for the patch
  --------------------- Fix in papi_internal.c where it was trying to look up
  the event name.  The RAPL component found the event and returned a code but
  papi_internal.c  exited the enum loop for that component but failed to exit
  the loop that checks all of the components.  This caused it to keep looking
  at other components until it fell out of the outer loop and returned an
  error. In addition to the actual change, some formatting issues were fixed.
  ---------------------

  * f5835c26 src/components/perf_event/perf_event_lib.h: Bump NUM_MPX_COUNTERS
  for linux-perf  Uncore on SNB and newer systems has enough counters to go
  beyond the 64 array spaces we allocate. This needs a better long term
  solution.  Reported by Gary Mohr --------------------- When running on snbep
  systems with the uncore component enabled, if papi is configured with
  debug=yes then the message "Warning!  num_cntrs is more than num_mpx_cntrs"
  gets written to stderr.  This happens because the snbep uncore pmu's have a
  total of 81 counters and PAPI is set to only accept a maximum of 64 counters.
   This change increases the amount PAPI will accept to 100 (prevents the
  warning message from being printed). ---------------------

  * 07990f85 src/ctests/branches.c src/ctests/calibrate.c
  src/ctests/describe.c...: ctests/ Address coverity reported defects  Thanks
  to Gary Mohr for the patch --------------------------------- he contents of
  this patch file fix defects reported by Coverity in the directory
  'papi/src/ctests'.  The defect reported in branches.c was that a comparison
  between different kinds of data was being done.  The defect reported in
  calibrate.c was that the variable 'papi_event_str' could end up without a
  null terminator.  The defects reported in describe.c, get_event_component.c,
  and krentel_pthreads.c were that return values from function calls were being
  stored in a variable but never being used.  I also did a little clean-up in
  describe.c.  This test had been failing for me on Intel NHM and SNBEP but now
  it runs and reports that it PASSED. ---------------------------------

2014-08-29  

  * 74cb07df src/testlib/test_utils.c: testlib/test_util.c: Check enum return
  value  Addresses an issue found by Coverity. Thanks Gary Mohr,
  ---------------- The changes in this patch file fixes the only defect in the
  src/testlib directory.  The defect reported that the return value from a call
  to PAPI_enum_cmp_event was being ignored.  This call to enum events is to get
  the first event for the component index passed into this function. It turns
  out that the function that contains this code is only ever called by the
  overflow_allcounters ctest and it only calls once and always passes a
  component index of 0 (perf_event).  So I added code to check the return value
  and fail the test if an error was returned. ----------------

  * 74041b3e src/utils/event_info.c: event_info utility: address coverity
  defect  From Gary Mohr -------------- This patch corrects a defect reported
  by Coverity.  The defect reported that the call to PAPI_enum_cmp_event was
  setting retval which was never getting used before it got set again by a call
  to PAPI_get_event_info.  After looking at the code, I decided that we should
  not be trying to get the next event inside a loop that is enumerating masks
  for the current event.  It makes more sense to break out of the loop to get
  masks and let the outer loop that is walking the events get the next event.
  --------------

2014-08-28  

  * 62dceb9b src/utils/native_avail.c: Extend 'papi_native_event --validate' to
  check for umasks.

2014-08-27  

  * a5c2beb2 src/components/perf_event/pe_libpfm4_events.c
  src/components/perf_event/pe_libpfm4_events.h
  src/components/perf_event/perf_event.c...: perf_event[_uncore]: switch to
  libpfm4 extended masks  Patch due to Gary Mohr, many thanks.
  ------------------------------------ This patch file contains the changes to
  make the perf_event and perf_event_uncore components in PAPI use the libpfm4
  extended event masks.  This adds a number of new masks that can be entered
  with events supported by these components. They include a mask 'u' which can
  be used control if counting in the user domain should be enabled, a mask 'k'
  which does the same for the kernel domain, and a mask 'cpu' which will cause
  counting to only occur on a specified cpu.  There are also some other new
  masks which may work but have not been tested yet.
  ------------------------------------

2014-08-20  

  * e76bbe66 src/components/perf_event/pe_libpfm4_events.c
  src/components/perf_event/perf_event.c
  .../perf_event_uncore/perf_event_uncore.c...: General code cleanup and
  improved debugging  Thanks to Gary Mohr ------------------- This patch file
  does general code cleanup.  It modifies the code to eliminate compiler
  warnings, remove defects reported by coverity, and improve traces.

2014-08-11  

  * 8f2a1cee src/utils/error_codes.c: error_codes utility: remove internal bits
   Remove dependency on _papi_hwi_num_errors, just keep calling PAPI_strerror
  until it fails. We shouldn't be using internal symbols anyways.

2014-08-04  

  * a7136edd src/components/nvml/README: Update nvml README  We changed the
  options to simplify the configure line. Bad information is worse than no
  information...

2014-07-25  

  * a37160c1 src/components/perf_event/perf_event.c: perf_event.c: cleanup
  error messages  Thanks to Gary Mohr ------------------- This patch contains
  general cleanup code.  Calls to PAPIERROR pass a string which does not need
  to end with a new line because this function will always add one.  New lines
  at the end of strings passed to this function have been removed.  These
  changes also add some additional debug messages.

2014-07-24  

  * bf55b6b7 src/papi_events.csv: Update HSW presets  Thanks to Gary Mohr
  ------------------- Previously we sent updates to the PAPI preset event
  definitions to improve the preset cache events on Haswell processors.  In
  checking the latest source, it looks like the L1 cache events changes did not
  get applied quite right.  Here is a patch to the latest source that will make
  it the way we had intended.

  * eeaef9fa src/papi.c: papi.c: Add information to API entry debuging  Thanks
  to Gary Mohr ------------------- This patch contains the results of taking a
  second pass to cleanup the debug prints in the file papi.c.  It adds entry
  traces to more functions that can be called from an application.  It also
  adds lots of additional values to the trace entries so that we can see what
  is being passed to these functions from the application.

2014-07-23  

  * ee736151 src/run_tests.sh: run_tests.sh: more exclude cleanups  Thanks Gary
  Mohr ---------------- This patch removes an additional check for Makefiles in
  the script.  The exclude files are now used to prevent Makefiles from getting
  run by this script.  I missed this one when providing the previous patch to
  make this change.

  * c37afa23 src/papi_internal.c: papi_internal.c: change SUBDBG to INTDBG 
  Thanks to Gary Mohr ------------------- This patch contains changes to
  replace calls to SUBDBG with calls to INTDBG in this source file.  This
  source file should be using the Internal debug macro rather than the
  Substrate debug macro so that the PAPI debug filters work correctly.  These
  changes also add some new debug calls so that we will get a better picture of
  what is going on in the PAPI internal layer.  There are a few calls to the
  SUBDBG macro that are in code that I have modified to add support for new
  event level masks which are not converted by this patch.  They will be
  corrected when the event level mask patch is provided.

  * e43b1138 src/utils/native_avail.c: native_avail.c: Bug fixes and updates 
  Thanks to Gary Mohr -------------------------------------------------- This
  patch fixes a couple of problems found in the papi_native_avail program. 
  First change fixes a problem introduced when the -validate option was added. 
  This option causes events to get added to an event set but never removes
  them.  This change will remove them if the add works.  This change also fixes
  a coverity detected error where the return value from PAPI_destroy_eventset
  was being ignored.  Second change improves the delimitor check when
  separating the event description from the event mask description.  The
  previous check only looked for a colon but some of the event descriptions
  contain a colon so descriptions would get displayed incorrectly.  The new
  check finds the "masks:" substring which is what papi inserts to separate
  these two descriptions.  Third change adds code to allow the user to enter
  events of the form pmu:::event or pmu::event when using the -e option in the
  program.

2015-03-02  

  * bcc508a9 src/components/perf_event/pe_libpfm4_events.c: Thanks much to Gary
  Mohr for the patch:  This patch fixes a problem in the perf_events component
  that could cause get event info to produce incorrect results. The problem was
  reported by Harold Servat and occurs when the functions
  PAPI_event_name_to_code and PAPI_get_event_info are called for an event with
  a mask (name:mask) and then called again for the event without a mask (name).
  When this is done the second call to PAPI_get_event_info will incorrectly
  return the event name and mask from the first call (name:mask).  This patch
  also corrects a problem found with valgrind which was causing memory on the
  heap to get stranded.  We were passing a char **event_string to the libpfm4
  encode function and he was allocating some memory and giving us back a
  pointer to the allocated space.  The code in PAPI was responsible for freeing
  this space but failed to do so.  After looking closer at the PAPI code, it
  does not need the information returned in this space so the patch changes the
  code to not ask for the information so that libpfm4 no longer allocates heap
  space.

  * 62e90303 src/Makefile.inc src/configure src/configure.in...: Generating
  pkg-config files for papi  Thanks to William Cohen for this patch (and to
  Phil Mucci for the patch review).  Some software makes use of pkg-config
  (http://www.freedesktop.org/wiki/Software/pkg-config/) when using libraries. 
  pkg-config selects compiler flags and libraries for compiling user code based
  on the installation location of the package. It could make it a bit easier to
  build other software on papi by abstracting where the libraries are
  installed.  Rather than having some complicated path to the installed
  library, users could use "pkg-config --libs --cflags papi" to get that
  information for the compile.  If there are multiple versions of papi
  available on the machine, the user could get a particular one with something
  like "pkg-config --libs --cflags papi-5.4.0".

2015-02-28  

  * f6bc16c6 src/papi_events.csv: Add support for ARM 1176 cpus  This is the
  chip in the original Raspberry Pi.  With the recently released Raspberry Pi
  3.18.8 kernel perf_event support is finally enabled by default.

2015-02-27  

  * 74801065 src/papi_events.csv: Add ARM Cortex A7 support.  Tested on a
  Raspberry Pi 2 board.

2015-02-25  

  * 71e6e5e5 src/ctests/krentel_pthreads.c: Sync thread exit in
  krental_threads.c  Thanks to William Cohen for this patch and to Phil Mucci
  for approving it.  William Cohnen and Michael Petlan noticed that this test
  can have threads dangling after the main thread is done.  This patch tracks
  the created threads and ensures that they are joined before the code exits. 
  Note: There is still some problem remaining. For example, the following test
  will sometimes (maybe 1 of 10 runs) generate an error message. >
  ./ctests/krentel_pthreads 8 2000 10 .... [10] time = 8, count = 38110, iter =
  20, rate = 1905500.0/Kiter PAPI Error: thread->running_eventset == NULL in
  _papi_pe_dispatch_timer for fd 14!. [0] time = 8, count = 38161, iter = 20,
  rate = 1908050.0/Kiter krentel_pthreads.c               PASSED

2015-02-20  

  * c0de16d8 INSTALL.txt: Added additional notes and examples for the MIC. 
  Specify how to use qualifiers to set exclude_guest and exclude_host bits to
  0.  Use micnativeloadex to run the utilites.

2015-02-11  

  * 65825ef7 src/utils/native_avail.c: Change papi_native_avail to refer to
  event qualifiers (qual) rather than event masks.  Thanks to Gary Mohr for
  this patch and the following notes.  This patch file fixes one bug and
  replaces the term "Unit Mask" and other names used to identify a unit mask
  with the term "event qualifier".  This renaming was done because the term
  "Unit Mask" has a very specific meaning in the hardware. Many of the flags
  and other fields we can now provide with an event to control how it is
  counted have nothing to do with the unit masks defined in the manuals
  provided by the hardware vendors.  Summary of what changed:  Removed the -d
  command line argument.  It controlled if units should be displayed in output.
   Now we always display units if they are defined (only place I have seen them
  defined is with rapl events).  Fixed bug when displaying event units.  It was
  displaying the units information in front of the event name and description. 
  It now displays the units information after the description.  Renamed the
  -noumasks argument to -noqual.  This prevents event qualifiers (previously
  known as unit masks) from being displayed.  Replaced headings "Unit Mask" and
  "Mask Name" with "Qualifiers" and "Name" (when displaying a single event).

2015-02-10  

  * 91e36312 src/ctests/Makefile.recipies src/ctests/attach_cpu.c: Test case
  for attaching an eventset to a single CPU rather than a thread (attach_cpu) 
  Thanks to Gary Mohr for this contribution.  This patch adds a test case to
  demonstrate how to attach an event set to a cpu so that the event counts for
  events in that event set reflect how many of those events occurred on the
  attached cpu (instead of the number of events that occurred in a thread of
  execution).  See comments in attach_cpu.c to see how and why to probe with
  specific cpus (e.g. ./attach_cpu 3).

2015-02-02  

  * 1fc57875 src/components/cuda/Makefile.cuda.in src/components/cuda/README
  src/components/cuda/Rules.cuda...: Updated CUDA component supporting multiple
  GPUs and multiple CUDA contexts.  This PAPI CUDA component uses the CUPTI
  library to get information about the event counters.  NOTE: To use this PAPI
  CUDA component, there is a difference from standard PAPI usage.  When adding
  PAPI events to the CUDA component, each event needs to be added from the
  correct CUDA context.  To repeat, for each CUDA device, switch to that device
  and add the events relevant to that device!  If there is only one CUDA
  device, then the default context will be used and things should work as
  before.

  * 40151180 src/ftests/Makefile: Reported by Mark Maurice:  On linux systems
  without a fortran compiler installed we get an error when building the PAPI
  fortran tests.  The reason for the error is that in the Makefile in the
  ftests directory the @echo lines start with spaces instead of tabs. 'make' is
  fussy about tabs and spaces and gives a 'missing separator' error if a
  command starts with spaces instead of a tab.

2015-01-20  

  * 1dec8a9d src/components/lustre/linux-lustre.c: Thanks to Gary Mohr for the
  patch:The patch provided solves the segmentation faults produced by the
  lustre component.The changes done by the patch are in the
  _lustre_shutdown_component() by adding lustre_native_table=NULL statement and
  Later num_events=0 and table_size=32 were added in the same function to fully
  solve the segmentation faults

2014-12-17  

  * aba85b18 man/man1/PAPI_derived_event_files.1 man/man1/papi_avail.1
  src/Makefile.inc...: User defined events: Enhance PAPI preset events allow
  user defined events via a user event definition file.  Thanks to Gary Mohr
  for this patch and its documentation.
  --------------------------------------------------------  This patch file
  enhances the code that processes PAPI preset event definition files
  (papi_events.csv) so that it can also now be used to process a user provided
  event definition file.  PAPI still looks for an environment variable
  'PAPI_USER_EVENTS_FILE' and if found uses its value as the pathname of the
  user event definition file to process (same behavior as before). The change
  is that this is done right after processing the PAPI preset events rather
  than at the end of PAPI_library_init (after all components were initialized).
  An advantage of using this approach is that now user defined events, like
  preset events, can define multiple versions of the same event where each
  version is customized to a particular hardware platform (or pmu name).  The
  code which processes preset events was also enhanced in the following ways: 
  The papi_avail command was updated to also list user defined events in its
  output.  The papi_avail help and man page have been updated to include user
  defined events in the descriptions.  The man page was also updated to add a
  "see also" reference to a new 'PAPI_derived_event_files' man page.  A new
  'PAPI_derived_event_files' man page to provide the user information about how
  to build an event definition file has been added.  This patch file contains
  both the source file changes (needed by doxygen) and updated copies of the
  man pages created by doxygen.  The code now allows both postfix (Reverse
  Polish Notation) and infix (algebraic) formulas to be entered. There is a new
  derived event type 'DERIVED_INFIX' to specify that the formula is provided in
  the algebraic format.  The formulas will always be converted to postfix
  format as part of the event definition processing so if the user does a
  'papi_avail -e <eventName>' later it will always be displayed as a postfix
  formula.  When defining a new derived event (either preset or user defined),
  it is now possible to use any already known native event, preset event or
  user defined event.  This means that new derived events can be created as a
  relationship between other already known (their definitions had to already be
  processed) derived events. When derived events are created, there is a list
  of native events needed by that defined event created and optionally a
  formula to compute the derived events value.  If a new derived event is
  created that depends on another derived event, then the new event will
  inherit all the native events used by the event it depends on and the new
  derived events formula will be merged with the formula from the event it
  depends on (if there was one or if it had an implied formula like derived add
  or sub).  This means that after event definition processing completes the
  event tables inside PAPI always contain the list of all native events needed
  to compute the derived events results and a postfix formula that will be used
  to compute the events result. So if a user does a 'papi_avail -e
  <eventName>', the output will show what events PAPI is going to count and how
  they will be used to generate the events final value.  A new command 'EVENT'
  has been added to the code which is intended to be used for user defined
  events. It is identical to the existing command 'PRESET' used to define
  preset events.  They are interchangeable and both can be used in both preset
  and user defined event definition files.  The code now allows the user to
  provide a short and long description for the derived event.  The event
  definition commands 'PRESET' and 'EVENT' now support tags of "LDESC" and
  "SDESC" to identify what is found in the following string.  This was done the
  same way as the already supported 'NOTE' tag.  These changes do not support
  the ability to create #define variables that can then be used in event
  definition formulas.  This was supported by the old user event definition
  code.  These changes delete the existing papi_user_event code (two files that
  are no longer needed).

2014-12-15  

  * f8b722a9 src/components/perf_event/tests/event_name_lib.c: perf_event
  tests: add sample haswell offcore event

2014-12-11  

  * adbae8cd src/papi_events.csv: Update presets for Intel Haswell and
  Haswell-EP (according to the updates of the libpfm4 event table for Intel
  Haswell and Haswell-EP). These mods have not been tested due to lacking
  access to an Intel Haswell system.

2014-11-14  

  * ca1ba786 doc/Doxyfile-common papi.spec src/Makefile.in...: Bump master to
  5.4.1, we just released out of the stable-5.4 branch.

2016-01-25
	
  * d779d1172a6e4c73b5ece9939c4d067c2b3d7b8d Update libpfm4 current
    with Jan 25 08:33:02 2016 version.

2016-01-07  

  * 0d9776b8 src/components/stealtime/linux-stealtime.c: Free allocated memory
  in the stealtime component when component is shutdown  Thanks to William
  Cohen for contributing this patch and the following explaination: Running
  examples with "valgrind --leak-check=full ..." showed a number of items
  allocated by the stealtime component were not freed when PAPI_shutdown() was
  called.  This patch frees those unused memory allocations.

2016-01-06  

  * de40668c src/papi_preset.c: Fixed memory leak in papi_preset.c by updating
  the infix_to_postfix function.  Thanks to William Cohen for discovering the
  leak. The infix_to_postfix function was re-written and tested using user
  defined events.

2015-12-30  

  * db37e115 src/utils/avail.c src/utils/native_avail.c: Added "-check" flag to
  papi_avail and papi_native_avail to test counter availability/validity"  This
  patch updates the papi_avail and papi_native_avail utilities to use the
  "-check" flag to test the actual availability of counters. There were
  previously two different flags for this capability, papi_native_avail used
  "-validate" and papi_avail used "-avail_test". Based on a mailing list
  discussion these flags have been consolidated as "-check".

2015-12-29  

  * 72e0ffe8 src/components/lmsensors/linux-lmsensors.c: Fixed minor error with
  multiple initializers for lmsensors_vector .default_granularity.  Thanks to
  William Cohen for the bug report.

2015-12-07  

  * ec3582d8 src/utils/avail.c: papi_avail to test actual availability of
  counters using "papi_avail --avail-test"  This problem and the associated
  patch were detected and contributed by Harald Savat. Thanks.  On an Intel(R)
  Xeon(R) CPU E5-2660 v2 @ 2.20GHz system with PAPI 5.4.1 installed The
  papi_avail command indicates that both PAPI_LD_INS and PAPI_SR_INS are
  available, however the papi_event_chooser does not accept them (see below)
  and return -1.  This problem can occur in kernels from version 3.1 till 4.1.
  The kernel devs blocked all uses of the MEM_OPS events (including load and
  store).  The patch modifies papi_avail to test the counters to see if they
  can be added. papi_avail     # gets all PAPI counters papi_avail -a  # gets
  all available PAPI counters papi_avail -at # shows all available PAPI
  counters that can be added  [Ptools-perfapi: Oct 14 2015]

2015-11-30  

  * 1fab922e src/components/libmsr/README src/components/libmsr/configure
  src/components/libmsr/configure.in...: The libmsr component is updated to
  match major changes in LLNL libmsr library and the LLNL msr-safe kernel
  module

2015-11-18  

  * 242b16d3 src/Makefile.inc src/components/cuda/configure
  src/components/cuda/configure.in...: Added papi_cuda_sampling utility in
  /src/components/cuda/sampling changed src/Makefile.inc ,
  src/components/cuda/configure.in to build the utiltiy during PAPI
  installation  Added  in /src/components/cuda/tests/Makefile which is -ldl
  switch because  3.10.0-229.14.1.el7.x86_64 had issues using libpapi.a during
  compilation of cuda component test programs

2015-10-21  

  * a10e8331 src/papi_events.csv: papi_events: add Intel Skylake presets  This
  just shares all of teh broadwell events with skylake. Some quick tests show
  that this probably works. Someone with skylake hardware should validate this
  at some point.

2015-10-08  

  * 91736851 src/papi_internal.c: Thanks to David Eberius of ICL for reporting
  a bug in PAPI_get_event_info() in papi_internal.c, (info->component_index =
  (unsigned int) cidx) was missing at line 2554, of papi_internal.c

2015-08-27  

  * 502df070 src/Makefile.inc: Thanks to Steve Kaufmann for reporting about the
  redundant () paramater in the OBJECTS expression of src/Makefile.inc file.
  Updated Makefile.inc by removing the redundant paramater

2015-08-24  

  * 69fdc2e0 src/papi.c: Thanks to Harald Servat for reporting the
  PAPI_overflow issue for multiple eventsets. The problem was in the
  PAPI_start() function in the branch at line-2166:papi.c , if(is_dirty). After
  update_control_state(), it is required to re-initialize the overflow settings
  using set_overflow()

2015-07-29  

  * be81dc43 src/components/perf_event/perf_event.c: perf_event: update the ARM
  domain workaround  older ARM processors could not separate out KERNEL vs USER
  events.  ARMv7 starting with the Cortex A15 can, as can all ARMv8 (ARM64). 
  This updates the code with a whitelist to properly allow setting the domains.

  * 43be2588 src/linux-common.c: linux-common: clean up ARM cpu detection 
  Parsing cpuinfo is always a pain.  Extra work because of Raspberry Pi
  (ARM1176) lying and saying it's ARMv7 rather than ARMv6.

  * 5a101a50 src/linux-common.c: linux-common: split up x86, power and arm
  cpuinfo parsing

  * 0d7772d9 src/linux-common.c: linux-common: clean up and comment the cpuinfo
  parsing code

2015-07-16  

  * 59489b1f src/components/libmsr/Makefile.libmsr.in
  src/components/libmsr/README src/components/libmsr/Rules.libmsr...: Create
  libmsr component for reading power information and writing power constraints
  using MSRs on some Intel processsors  The PAPI libmsr component supports
  measuring and capping power usage on recent Intel architectures using the
  RAPL interface exposed through MSRs (model-specific registers).  Lawrence
  Livermore National Laboratory has released a library (libmsr) designed to
  provide a simple, safe, consistent interface to several of the model-specific
  registers (MSRs) in Intel processors.  The problem is that permitting open
  access to the MSRs on a machine can be a safety hazard, so access to MSRs is
  usually limited.  In order to encourage system administrators to give wider
  access to the MSRs on a machine, LLNL has released a Linux kernel module
  (msr_safe) which provides safer, white-listed access to the MSRs.  PAPI has
  created a libmsr component that can provide read and write access to the
  information and controls exposed via the libmsr library.  This PAPI component
  introduces a new ability for PAPI; it is the first case where PAPI is writing
  information to a counter as well as reading the data from the counter.

2015-07-13  

  * d326ecc9 src/components/perf_event/perf_event_lib.h src/papi_internal.c:
  Thanks to Steve Kaufman for providing a patch that increases the
  PERF_EVENT_MAX_MPX_COUNTERS to 192 from 128 and enhances the corresponding
  warning message in papi_internal.c

2015-06-29  

  * e829baa5 src/components/cuda/tests/Makefile
  src/components/cuda/tests/cuda_ld_preload_example.README
  src/components/cuda/tests/cuda_ld_preload_example.c: Example of using
  LD_PRELOAD with the CUDA component.  A short example of using LD_PRELOAD on a
  Linux system to intercept function calls and PAPI-enable an un-instrumented
  CUDA binary. Several CUDA events (e.g. SM PM counters) require a CUcontext
  handle to be a provided since they are context switched. This means that we
  cannot use a PAPI_attach from an external process to measure those events in
  a preexisting executable.  These events can only be measured from within the
  CUcontext, that is, within the CUDA enabled code we are trying to measure. 
  If the user is unable to change the source code, they may be able to use
  LD_PRELOAD's ability to trap functions and measure the events for within the
  executable. See src/components/cuda/tests/cuda_ld_preload_example.README for
  details.

2015-06-26  

  * 0829a4f5 src/papi_events.csv: Add future broadwell-ep support.  libpfm4
  doesn't support it yet, but add it for when it appears.

2015-06-25  

  * 36c5b5b6 src/papi_events.csv: add broadwell predefined events  For now they
  are the same as Haswell, as that's what the Linux kernel does.

  * f42eda64 src/papi_events.csv: Added definitions to Power8 for PAPI_SP_OPS,
  PAPI_DP_OPS.

2015-06-18  

  * f87542f7 src/components/perf_event/tests/event_name_lib.c: Added [case 63:
  /*Haswell EP*/] line the src/components/perf_event/tests/event_name_lib.c
  file to support offcore for haswell EP

  * fbfc641f src/components/perf_event_uncore/tests/perf_event_uncore_cbox.c
  src/components/perf_event_uncore/tests/perf_event_uncore_lib.c: Added suuport
  for Haswell-EP processor with model-63 in
  src/components/perf_event_uncore/tests/perf_event_uncore_lib.c and
  src/components/perf_event_uncore/tests/perf_event_uncore_cbox.c files. As a
  result perf_event_uncore, perf_event_uncore_multiple and
  perf_event_uncore_cbox tests get passed. Tested and verified on Intel(R)
  Xeon(R) CPU E5-2650 v3 @ 2.30GHz with linux kernel 4.0.4-1.el6.elrepo.x86_64

2015-06-17  

  * 56698211 src/components/lustre/linux-lustre.c: Thanks to Garry Mohr for the
  patch that removes the error message (PAPI Error: Error Code -7,Event does
  not exist) on executing papi_native_avail in PAPI built with lustre component

2015-06-16  

  * 1b9fd867 src/components/rapl/linux-rapl.c: rapl: allow DRAM to have
  separate scaling factor from CPU  on Haswell-EP the DRAM scaling value is
  different and cannot be detected.  See https://lkml.org/lkml/2015/3/20/582

  * 1aa74f85 src/components/rapl/linux-rapl.c: rapl: add support for Broadwell 

2015-06-11  

  * a5ecda79 src/components/rapl/linux-rapl.c: Thanks to William Cohen for the
  patch which does the following: Checking the cpu family and module number is
  not sufficient to determine whether RAPL can be used.  If the papi is running
  inside a guest VM, the MSR used by the PAPI RAPL component may not be
  available.  There should be a simple read test to verify the RAPL MSR
  registers are available.  This allows the component to more clearly report
  that RAPL is unsupported rather than just exiting program when the RAPL

2015-05-19  

  * 54c45107 src/components/rapl/utils/rapl_plot.c: Updated rapl_plot utility
  so that the correct values/units are reported (e.g. scaled and fixed value
  counts should not be converted)

2015-05-04  

  * a34fbc62 src/papi_events.csv: papi_events.csv: typo in the ARM Cortex A53
  definitions

2015-04-30  

  * caa3af72 src/papi_events.csv: papi_events.csv: add preset events for ARM
  Cortex A53  This is based purely on the names in the libpfm4 output, these
  were not validated in any way.

2015-04-20  

  * 66553715 INSTALL.txt: added compile incantation for compiling programs that
  offload code to MIC

2015-04-16  

  * 8914dcfc src/papi_events.csv: Bug reported by William Cohen in
  papi_events.csv for the event PAPI_L1_TCM

2015-03-31  

  * 023af5ec src/components/nvml/configure: Updated the NVML configure script
  which requires an autoconf and an updated configure script

  * 2385c1b2 src/components/nvml/Makefile.nvml.in
  src/components/nvml/Rules.nvml src/components/nvml/configure.in: Updated the
  NVML configure script to allow separate include and library paths

2015-03-30  

  * 3d509095 src/components/infiniband_umad/linux-infiniband_umad.c: Bugfix
  linux-infiniband_umad.c to include linux-infiniband_umad.h rather than
  linux-infiniband.h.  Thanks to Aurelien Bouteiller for pointing out this bug.

  * b865f227 src/components/vmware/vmware.c: Corrected function name in
  _vmware_vector from _vmware_init to _vmware_init_thread.

2015-03-24  

  * 2f58a4d8 src/configure: Regenerated configure to match the PAPI_GRN_SYS
  patch

  * 12e6ef31 src/components/perf_event/tests/perf_event_system_wide.c: Support
  PAPI_GRN_SYS granularity for perf component, updating the system wide test
  (patch 2 of 2).  Thanks to William Cohen for this patch and the documentation
   Make sure that a sane cpu number is selected with PAPI_GRN_SYS Corrections
  to output and comments of perf_event_system_wide.c test

  * 42879693 src/components/perf_event/perf_event.c
  src/components/perf_event/tests/perf_event_system_wide.c src/config.h.in...:
  Support PAPI_GRN_SYS granularity for perf component, picking a sane CPU
  number (patch 1 of 2).  Thanks to William Cohen for this patch and the
  documentation  The checks in perf_event_open syscall cause a failure when
  both pid=-1 and cpu=-1.  The perf_event component was passing in pid=-1 and
  cpu=-1 when PAPI_GRN_SYS was selected.  If possible, the code should pick the
  current processor that the command is running so that the permission check
  works properly when PAPI_GRN_SYS is used.  The patch also adds a test fail if
  PAPI_GRN_SYS unable to add PAPI_TOT_CYC. 

  * 0ab9b0c8 src/ctests/krentel_pthreads.c: Added call to unregister the
  overflow handler.. plus small code cleanup

2015-03-05  

  * d886c49c src/papi.c src/papi_libpfm4_events.c src/utils/avail.c: Clean
  output from papi_avail tools when there are no user defined events  Thanks to
  Gary Mohr for this patch.  The changes in this patch improve the output from
  the papi_avail tool.  It was printing the user defined events header and a
  PAPI Error message when no user defined events existed.  These changes add
  code in the enum call to return an error when trying to fetch the first user
  defined event if no user events are defined.  This allows the application to
  detect that no user events are known and skip printing the user defined event
  heading.  It also prevents the application from calling PAPI_get_event_info
  with a user defined event code that does not exist which avoids the PAPI
  Error message.  Also a one line change to modify a debug message type to make
  the debug output produced by papi_libpfm4_events.c consistent.

2015-03-03  

  * ee0c58d7 src/components/cuda/linux-cuda.c: Do not generate an error if the
  CUDA libraries cannot be loaded, just write a debug message

  * 08bb9bf0 src/configure: Updating the number to 5.4.1

2015-03-02  

  * 01f742c1 release_procedure.txt: Minor change to specify locations of some
  files
2016-09-08  

  * dfa52d3f man/man1/PAPI_derived_event_files.1 man/man1/papi_avail.1
  man/man1/papi_clockres.1...: Generated man files for release

2016-08-18  

  * 43c1be67 src/ctests/all_native_events.c: ctests all_native: Make sure we
  count all native events for KNL.

  * adc47828 src/components/perf_event_uncore/tests/perf_event_uncore_lib.c:
  perf_event_uncore tests: KNL has uncore support.

  * 0a9e1a8d src/components/perf_event/tests/event_name_lib.c: perf_event
  tests: add KNL offcore event.

  * e9144b9b src/papi_events.csv: Added preset definitions for KNL.

2016-08-12  

  * 03c766a6 src/components/rapl/linux-rapl.c: linux-rapl: update KNL support 
  Knight's Landing does not support pp0, and also it uses a different unit for
  DRAM RAPL (much like the hsw-ep does)

2016-08-04  

  * ce57b7a7 src/testlib/test_utils.c: testlib: give better error message if
  component failed to initialize  Old message:  ./zero test_utils.c            
  FAILED Line # 697 Error: Zero Counters Available!  PAPI Won't
  like this!  New message:  ./zero  Component perf_event disabled due to Error
  initializing libpfm4 test_utils.c                           FAILED Line # 702
  Error: ERROR! Zero Counters Available!

2016-07-25  

  * ae00a502 src/papi_internal.c: add William Cohen's rewrite of the
  _papi_hwi_postfix_calc function which corrects the parsing and makes the
  parser more robust by catching any errors in the parsing early with asserts
  in the code rather than silently corrupting memory.

2016-07-22  

  * a6359b9d src/papi_preset.c: This was another bug of smashing the stack.
  This code declared the stack as: static char stack[PAPI_HUGE_STR_LEN];  But
  then did this later. memset(stack, 0, 2*PAPI_HUGE_STR_LEN);  How our static
  analysis tools didn't catch this one?

2016-06-30  

  * f35e6e77 doc/Doxyfile-common papi.spec src/Makefile.in...: Updated PAPI
  version to 5.5 for upcoming release.

2016-06-29  

  * 48aee8e1 src/Makefile.inc src/components/cuda/Rules.cuda
  src/components/cuda/linux-cuda.c: cuda/sampling, cuda: Move sampling build
  rules to the cuda component.  Minor bugfix in linux-cuda.c to check ok return
  status.

2016-06-28  

  * 78249608 src/components/cuda/sampling/libactivity.so
  src/components/cuda/sampling/path.h
  src/components/cuda/sampling/test/matmul...: cuda/sampling: Removing
  generated files that should not be in the repository

2016-06-27  

  * 10385c63 src/components/cuda/sampling/Makefile: Adding the missing Makefile
  for cuda/sampling.

2016-06-22  

  * 45c2935e src/papi_events.csv: Correct IBM Power7 and Power8 computation of
  PAPI_L1_DCA  When reviewing the test results for IBM Power7 and Power8
  Michael Petlan found that the PAPI_L1_DCA preset was incorrectly computed.
  The L1 cache misses need to be subtracted rather than added to the result. 

2016-06-23  

  * 0364d397 src/components/powercap/README
  src/components/powercap/linux-powercap.c
  src/components/powercap/tests/powercap_basic.c: Cleanup powercap component. 
  Most changes are cosmetic and achieved by runing thru astyle and cleaning up
  manually.  README file should match the powercap component now rather than
  inheriting generic comments from other components.

  * 1c64bfc0 src/papi_events.csv: Added FP (SP, DP) presets for Broadwell. NOT
  TESTED yet due to lack of access to bdw hardware

2016-06-22  

  * 0d006ea3 src/components/rapl/linux-rapl.c: add Intel Skylake and Knights
  Landing RAPL support

  * bd921b74 src/ftests/fmatrixpapi.F src/testlib/ftests_util.F: Eliminate the
  sole use of ftests_skip subroutine  There was only one test using ftests_skip
  subroutine, fmatrixpapi.F. Converted fmatrixpapi.F to use ftest_skip
  subroutine like all the other Fortran tests. 

2016-06-21  

  * e9cde551 src/ctests/tenth.c: Correct the event string names for tenth.c 
  There are stray ": " at the end of the event names in ctests/tenth.c. These
  are unneeded because the ctests support routines already insert a ": " after
  then event name when the error is printed out. 

  * 97fb93c3 src/testlib/ftests_util.F: Have Fortran test support code report
  errors more clearly  When a Fortran test called the ftest_skip or ftest_fail
  the support code would attempt to print out error strings.  However, this
  support code would print out gibberish because the string was not properly
  initialized.  There doesn't seem to be a easy way in Fortran to get the error
  string, for the time being just print out the error number and people will
  need to manually map it back to the string. 

2016-06-17  

  * db9c70f5 src/papi_events.csv: Added FP (SP, DP) presets for Skylake.
  Corrected L1_LDM|STM, L2_DCW|TCW, PRF_DM, STL_ICY presets for Skylake.

  * 9de0c97f src/components/libmsr/linux-libmsr.c: Bugfix: libmsr component can
  now disable itself without printing an error message to the screen

  * d09657bf src/components/cuda/linux-cuda.c: Bugfix: CUDA component can now
  disable itself without printing an error message to the screen

2016-05-19  

  * 4718b481 src/components/perf_event/perf_event.c
  src/components/perf_event_uncore/perf_event_uncore.c: Force all processors to
  check event schedulability by reading the counters  There are situations
  where the perf_event_open syscall will return a file descriptor for a set of
  events even when they cannot be scheduled together.  This occurs on 32-bit
  and 64-bit ARM processors and MIPS processors.  This problem also occurs on
  linux kernels older than 2.6.33 and when the watchdog timer steals a
  performance counter.  To check that the performance counters are properly
  setup PAPI needs to check that the counter values can be successfully read. 
  Rather than trying to avoid this test PAPI will now always do it. 

2016-03-30  

  * 35264ea6 src/papi.h: update the caddr_t compatability hack in papi.h  Erik
  Schnetter <schnetter@gmail.com> reported that the workaround failed with a
  C11 compiler.  Really, we should replace all instances of caddr_t with
  something better, but I'm not sure what that does dor older compilers or
  breakage of ABI.

2016-03-16  

  * 504d05c3 src/Rules.pfm4_pe src/papi.h src/papi_fwrappers.c: Only expose the
  shared libary symbols listed *papi.h files  The shared library should avoid
  exposing internal symbols of the library.  This change hides the PAPI's
  internal symbols when it is built with libpfm 4. Only the functions in papi.h
  and the associated fortran wrapper functions are visible to code using the
  library.  This change also makes libpapi.so slightly smaller (29KB for
  stripped x86_64 shared libary or about 6%).  Note that a similar patch has
  been proposed for upstream libpfm4 and would be needed for the bundled libpfm
  if papi is being built with the bundled libpfm4. 

2016-03-10  

  * 943fb056 INSTALL.txt: Fix leftover doxygen reference in INSTALL file.  Fix
  leftover doxygen reference in INSTALL file. Noticed this while working
  through build/install steps on a local system, Looks like the doxygen command
  was switched from Doxyfile-everything to Doxyfile-html as part of revision
  bfee45 "Rework the doxygen configuration files" This fixes up the INSTALL
  reference to match. 

  * 947f6cb3 src/Makefile.inc: Fix a bashism found in Makefile.inc  While
  building on an ubuntu system, hit an error that took a bit to run down.
  /bin/sh: 1: [: perf_event: unexpected operator /bin/sh: 1: [:
  perf_event_uncore: unexpected operator  This was on an ubuntu system where
  /bin/sh is actually /bin/dash, and is due to a bashism in Makefile.inc for
  the build and clean of cuda_samples. Swapping out the '==' for an '=' should
  be safe. 

2016-02-29  

  * 7996d480 src/components/coretemp/linux-coretemp.c: Make coretemp internal
  functions static where possible  As much of the internal of the papi shared
  library should be hidden. A number of the internal functions for the
  perf_event and coretemp components should be static since they are only used
  within the individual component.  Making the functions static allows the
  compiler to generate better code and reduce the number of entries in the PLT
  (Procedure Link Tables). 

2016-02-26  

  * a0240d5a src/components/perf_event/perf_event_lib.h: Removed the re
  declaration of the static functions in the perf_event_lib.h

  * 5d6e8295 src/components/appio/appio.c src/components/example/example.c
  src/components/lmsensors/linux-lmsensors.c...: Thanks to William Cohen of
  RedHat for providing the patches with following description Make perf_event
  and perf_event_uncore internal functions static where possible Make appio
  component internal functions static where possible Make example component
  internal functions static where possible Make lmsensors component internal
  functions static where possible Make lustre component internal functions
  static where possible Make micpower component internal functions static where
  possible Make mx component internal functions static where possible Make net
  component internal functions static where possible Make rapl component
  internal functions static where possible Make stealtime component internal
  functions static where possible.

2016-02-24  

  * 0eb308b4 src/components/cuda/README: Fixed cuda component README to use the
  correct configure flags.  Thanks to Jianqiao Liu for pointing out errors in
  the README file.

2016-02-15  

  * 70bd7584 src/components/powercap/utils/README
  src/components/powercap/utils/powercap_write_test.c: Cleanup powercap
  utility.  Removed mention of libmsr and no-longer-needed union type left over
  from the libmsr example

2016-01-31  

  * 03afa3fe src/components/powercap/README
  src/components/powercap/utils/Makefile
  src/components/powercap/utils/README...: added intial powercap write test and
  readme

2016-01-26  

  * 8fd9e4e3 src/components/powercap/tests/Makefile
  src/components/powercap/tests/powercap_basic.c: added power cap read test

  * edf8af95 src/components/powercap/Rules.powercap
  src/components/powercap/linux-powercap.c: added PAPI component

  * 66df01be ChangeLogP542.txt ChangeLogP543.txt RELEASENOTES.txt...: PAPI
  5.4.3 release (releasenotes, changelog, man files, ...)

2016-11-17  

  * 4b7c2c8b src/components/coretemp/linux-coretemp.c
  src/components/cuda/configure src/components/cuda/configure.in...: Handing
  some of the problems exposed by Coverity  Mostly adding strncpy termination
  to some components (coretemp, lmsensors, micpower). Removed some unused
  component writing functions (lustre, mx). Fixed CUDA component configure.in
  to get the correct version of nvcc. Fixed division so it works in double
  precision rather than integer in the rapl component. Fixed a minor complaint
  about a stack counter variable in papi_preset.  Thanks to William Cohen for
  sending the Coverity results report.

2016-11-15  

  * 7384d4d1 src/components/rapl/linux-rapl.c: Enable RAPL for Broadwell-EP 

2016-11-04  

  * 0e90ecd4 src/Makefile.inc: Minor change: Removed unneeded characters in
  src/Makefile.inc.  (Thanks to Steve Kaufmann)

2016-10-24  

  * b72df977 src/components/perf_event/perf_event_lib.h: Increase
  PERF_EVENT_MAX_MPX_COUNTERS to 384 to support KNL uncore events

  * Update libpfm4 to enable Intel Knights Landing untile PMU support.

2016-09-18  

  * b92abb7c src/components/powercap/utils/Makefile
  src/components/powercap/utils/powercap_plot.c
  src/components/powercap/utils/powercap_write_test.c: changed the tool in
  /powercap/utils to behave as the similiar tool in /rapl/utils does. removed
  the old code residing in /powercap/utils.

2016-09-16  

  * 51d76878 src/threads.c: threads: silence compiler warning  our_tid is only
  being used in debug statements

  * 33aacc65 src/papi_preset.c: papi_preset: quiet a compiler warning  we were
  setting the papi_preset variable but only using it in debug statements. tell
  the compiler to not warn in this case.

  * 7ff9a01c src/ctests/zero_omp.c: tests/zero_omp: fix warning in zero_omp  we
  weren't using the maxthr variable

  * 33deefbd src/components/rapl/tests/rapl_basic.c: componensts/rapl: fix
  compiler warning in rapl_basic test

Tue Dec 5 20:10:50 2017 -0800  William Cohen <wcohen@redhat.com>

	* src/libpfm4/lib/events/power9_events.h,
	  src/libpfm4/tests/validate_power.c: Update libpfm4 Current with
	  commit 206dea666e7c259c7ca53b16f934660344293475  Ensure unique
	  names for IBM Power 9 events  Older versions of PAPI use the event
	  name to look up the libpfm event number when doing the enumeration
	  of the available events.  If there were multiple events with the
	  same name in libpfm, the earliest one would be selected.  This
	  selection would cause the enumeration of events in
	  papi_native_avail to get stuck looping on the first duplicated
	  named event in a pmu.  In the case of IBM Power 9 the enumeration
	  would get stuck on PM_CO0_BUSY. Gave each event a unique name to
	  avoid this unfortunate behavior.

2017-11-16  Will Schmidt <will_schmidt@vnet.ibm.com>

	* src/papi_events.csv: revised papi_derived patch.  [PATCH, papi]
	  Updated derived entries for power9.  This is a re-implementation of
	  the patch that Will Cohen posted earlier, which uses the (newly
	  defined) PM_LD_MISS_ALT entry instead of the PM_LD_MISS_FIN .
	  Thanks, -Will

2017-12-05  Heike Jagode (jagode@icl.utk.edu) <jagode@saturn.icl.utk.edu>

	* release_procedure.txt: Updated notes for release procedure.

2017-12-05  Vince Weaver <vincent.weaver@maine.edu>

	* src/extras.c: extras.c: add string.h include to make the ffsll
	  warning go away

2017-12-04  Heike Jagode (jagode@icl.utk.edu) <jagode@saturn.icl.utk.edu>

	* src/configure, src/configure.in: Fixed configure bug:  Once ffsll
	  support is detected, set HAVE_FFSLL to 1 in config.h.  Tested
	  without configure flag --with-ffsll, with --with-ffsll=yes, --with-
	  ffsll=no.

2017-12-04  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/locks_pthreads.c: ctests:
	  locks_pthreads: adjust run count again  linear slowdown makes
	  things run really quickly. This patch scales it down by the square
	  root of the number of cores which is maybe a better compromise.
	* src/ctests/locks_pthreads.c: ctests: locks_pthreads, minor cleanups

2017-11-20  William Cohen <wcohen@redhat.com>

	* src/ctests/locks_pthreads.c: Keep locks_pthreads test's amount of
	  work reasonable on many core machines  The runtime of
	  locks_pthreads test scaled by the number of processors on the
	  machine because of the serialized increment operation in the test.
	  As more machines are available with 100+ processors the runtime of
	  locks_pthreads is becoming execessive.  Revised the test to specify
	  the approximate total number of iterations and split the work the
	  threads.

Fri Dec 4 11:31:46 2015 -0500  sangamesh <sragate@vols.utk.edu>

	* src/extras.c, src/papi.h: Revert change that added ffsll to papi.h
	  This reverts commit 2f1ec33a9e585df1b6343a0ea735f79974c080df.
	  commit 2f1ec33a9e585df1b6343a0ea735f79974c080df  changed #if
	  (!defined(HAVE_FFSLL) || defined(__bgp__)) int ffsll( long long lli
	  ); #endif --- to --- extern int ffsll( long long lli  in extras.c
	  to avoid warning when --with-ffsll is used as config option

Thu Apr 20 11:31:38 2017 -0400  Stephen Wood <swood@icl.utk.edu>

	* src/extras.c, src/papi.h: revert part of patch that added extra
	  attributes to ffsll  This manually reverts part of:  commit
	  9e199a8aee48f5a2c62d891f0b2c1701b496a9ca  cast pointers
	  appropriately to avoid warnings and errors

Sun Dec 3 09:42:44 2017 -0800  Will Schmidt <will_schmidt@vnet.ibm.com>

	* src/libpfm4/lib/events/power9_events.h,
	  src/libpfm4/tests/validate_power.c: Updated libpfm4  Current with:
	  ---------------- commit ed3f51c4690685675cf2766edb90acbc0c1cdb67
	  (HEAD -> master, origin/master, origin/HEAD)  Add alternate event
	  numbers for power9.  I had previously missed adding the _ALT
	  entries, which allow some events to be specified on different
	  counters. This patch fills those in.  This patch also adds a few
	  validation tests for the ALT events.  ----------------

2017-11-28  Heike Jagode (jagode@icl.utk.edu) <jagode@saturn.icl.utk.edu>

	* src/utils/papi_avail.c, src/utils/papi_native_avail.c: Fixed
	  utility option inconsistencies between papi_avail and
	  papi_native_avail. There are more inconsistencies with other PAPI
	  utilities, which will be addressed eventually.

2017-11-28  Heike Jagode <jagode@icl.utk.edu>

	* README.md: README.md edited online with Bitbucket
	* README.md: README.md edited online with Bitbucket
	* README.md: README.md edited online with Bitbucket
	* README.md: README.md edited online with Bitbucket

2017-11-27  Heike Jagode <jagode@icl.utk.edu>

	* src/components/powercap/linux-powercap.c: More clean-ups and
	  checking of return values.

Mon Nov 13 23:15:53 2017 -0800  Thomas Richter <tmricht@linux.vnet.ibm.com>

	* src/libpfm4/lib/pfmlib_common.c: Update libpfm4 > /tmp/commit-
	  libpfm4-header.txt echo Current with commit
	  f5331b7cbc96d9f9441df6a54a6f3b6e0fab3fb9  better fix for
	  pfmlib_getl()  The following commit:  commit
	  9c69edf67f6899d9c6870e9cb54dcd0990974f81  better param check in
	  pfmlib_getl()  Fixed paramter checking of pfmlib_getl() but missed
	  one condition on the buffer argument. It is char **buffer.
	  Therefore we need to check if *buffer is not NULL before we can
	  check *len.

2017-11-19  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: CUDA component: Bug fix for
	  releasing and resetting event list  When an event addition failed
	  because the event (or metric) requires multiple-runs the eventlist
	  and event-context structure was not being cleaned up properly.
	  This fixes the event cleanup process.

2017-11-17  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/powercap/tests/powercap_basic.c,
	  src/components/powercap/tests/powercap_limit.c: Powercap component:
	  Updated tests to handle no-event-counters (num_cntrs==0) and skip
	  some compiler warnings (argv, argc unused)

2017-11-16  William Cohen <wcohen@redhat.com>

	* src/components/lmsensors/linux-lmsensors.c: Make more of lmsensors
	  component internal state hidden  There are a number of functions
	  pointers stored in variable that are only used within the lmsensors
	  component.  Making those static ensures they are not visible
	  outside the lmsensors component.
	* src/components/lmsensors/linux-lmsensors.c: Make internal
	  cached_counts variable static  Want to make as little information
	  about the internals of the PAPI lmsensors component visible to the
	  outside.  Thus, making cached_counts variable static.

2017-11-15  William Cohen <wcohen@redhat.com>

	* src/components/lmsensors/linux-lmsensors.c: Avoid statically
	  limiting the number of lmsensor events allowed  Some high-end
	  server machines provide more events than the 512 entries limit
	  imposed by the LM_SENSORS_MAX_COUNTERS define in the lmsensor
	  component (observed 577 entries on one machine).  When this limit
	  was exceeded the lmsensor component would write beyond the array
	  bounds causing ctests/all_native_events to crash.  Modified the
	  lmsensor code to dynamically allocate the required space for all
	  the available lmsensor entries on the machine. This allows
	  ctests/all_native_events to run to completion.
	* src/components/appio/appio.c, src/components/coretemp/linux-
	  coretemp.c, src/components/example/example.c,
	  src/components/infiniband/linux-infiniband.c, src/components/lustre
	  /linux-lustre.c, src/components/rapl/linux-rapl.c: Use correct
	  argument order for calloc function calls  Some calls to calloc in
	  PAPI have the order of the arguments reversed. According to the
	  calloc man page the number of elements is the first argument and
	  the size of each element is the second argument.  Due to alignment
	  constraints the second argument might be rounded up.  Thus, it is
	  best not to not to swap the arguments to calloc.

2017-11-15  Philip Vaccaro <pvaccaro@vols.utk.edu>

	* src/components/powercap/linux-powercap.c,
	  src/components/powercap/tests/powercap_basic.c: Updates and changes
	  to the powercap component to address a few areas.. Various things
	  were changed but mainly things were simplified and made more
	  streamlined.  Main focus was on simpifying managing the sytem
	  files.

Mon Nov 13 23:15:53 2017 -0800  Thomas Richter <tmricht@linux.vnet.ibm.com>

	* src/libpfm4/docs/man3/pfm_get_event_encoding.3,
	  src/libpfm4/docs/man3/pfm_get_os_event_encoding.3,
	  src/libpfm4/lib/events/amd64_events_fam11h.h,
	  src/libpfm4/lib/events/amd64_events_fam12h.h,
	  src/libpfm4/lib/pfmlib_common.c, src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/tests/validate_x86.c: Update libpfm4  Current with
	  commit 9c69edf67f6899d9c6870e9cb54dcd0990974f81  better param check
	  in pfmlib_getl()  This patch ensures tha len >= 2 because we do: m
	  = l - 2;  Reviewed-by: Hendrik Brueckner
	  <brueckner@linux.vnet.ibm.com>

2017-11-13  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/pe_libpfm4_events.c: pe_libpfm4_events:
	  properly notice if trying to add invalid umask  this passes the
	  broken-event test case and all of the unit tests, but it would be
	  good to test this on codes that do a lot of native event tests.
	  the pe_libpfm4_events code *really* needs a once-over, it is
	  currently a confusing mess.
	* src/components/perf_event/tests/Makefile,
	  src/components/perf_event/tests/broken_events.c,
	  src/components/perf_event/tests/event_name_lib.c,
	  src/components/perf_event/tests/event_name_lib.h: perf_event/tsts:
	  add broken event name test  we were wrongly accepting event names
	  with invalid umasks

2017-11-13  Philip Mucci <mucci@icl.utk.edu>

	* src/utils/print_header.c: Removed extraneous colon in VM vendor
	  output

2017-11-10  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/papi_l1_dcm.c,
	  src/validation_tests/papi_l2_dcm.c,
	  src/validation_tests/papi_l2_dcr.c,
	  src/validation_tests/papi_l2_dcw.c: validation_tests: fix compiler
	  warnings on arm32  On Raspberry Pi we were getting warnings where
	  we were printing sizeof() valus with %ld.  Convert to %zu instead.

2017-11-09  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/papi_l2_dca.c: validation_tests: papi_l2_dca
	  fix crash on ARM32  On raspberry pi it's not possible to detect L2
	  cache size so the test was dividing by zero.
	* src/linux-common.c: linux-common: remove warning on not finding mhz
	  in cpuinfo  This was added recently and is not needed. Most ARM32
	  devices don't have MHz in the cpuinfo file and it's not really a
	  bug.
	* src/components/perf_event/perf_event.c: perf_event: disable the old
	  pre-Linux-2.6.34 workarounds by default  There were a number of
	  bugs in perf_event that PAPI had to work around, but most of these
	  were fixed by 2.6.34  In order to hit these bugs you would need to
	  be running a kernel from before 2010 which wouldn't support any
	  recent hardware.  Unfortunately these bugs are hard to test for.
	  We were enabling things based on kernel versions, but this caught
	  vendors (such as Redhat) shipping 2.6.32 kernels that had
	  backported fixes.  This fix just #ifdefs things out, if no one
	  complains then we can fully remove the code.
	* src/components/perf_event/perf_event.c: perf_event: decrement the
	  available counter count if NMI_WATCHDOG is stealing one
	* src/components/perf_event/perf_event.c: perf_event: move the
	  paranoid handling code to its own function
	* src/components/perf_event/perf_event.c: perf_event: centralize
	  fast_counter_read flag  just use the component version of the flag,
	  rather than having a shadow global version.

2017-11-09  William Cohen <wcohen@redhat.com>

	* src/linux-memory.c: Make the fallback generic_get_memory_info
	  function more robust  On the aarch64 processor linux 4.11.0 kernels
	  /sys/devices/system/cpu/cpu0/cache is available, but the index[0-9]
	  subdirectories are not fully populated with information about cache
	  and line size, associativity, or number of sets.  These missing
	  files would cause the generic_get_memory_info function to attempt
	  to read data using a NULL file descriptor causing the program to
	  crash.  Added checks to see if every fopen was and fscan was
	  successful and just say there is no cache if there is any failure.

2017-11-09  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/Makefile,
	  src/components/nvml/tests/Makefile, src/configure,
	  src/configure.in: Enable icc and nvcc to work together in cuda and
	  nvml components.  For nvcc to work with Intel icc to compile cuda
	  and nvml components and tests , it needs to use nvcc -ccbin=<$CC-
	  compilerbin> . The compiler name in CC also needs to be clean, so
	  CC=<compilerbin> and any other flags are pushed to CFLAGS (changed
	  in src/configure.in script).
	* src/ctests/mpifirst.c: Minor correction to mpifirst.c test

2017-11-09  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/print_header.c: utils: print fast_counter_read (rdpmc)
	  status in the utils header

2017-11-08  William Cohen <wcohen@redhat.com>

	* src/validation_tests/cache_helper.c: Ensure access to array within
	  bounds  Coverity reported the following issues.  Need the test to
	  be "type>=MAX_CACHE" rather than "type>MAX_CACHE".  Error: OVERRUN
	  (CWE-119): papi-5.5.2/src/validation_tests/cache_helper.c:85:
	  cond_at_most: Checking "type > 4" implies that "type" may be up to
	  4 on the false branch.
	  papi-5.5.2/src/validation_tests/cache_helper.c:90: overrun-local:
	  Overrunning array "cache_info" of 4 24-byte elements at element
	  index 4 (byte offset 96) using index "type" (which evaluates to 4).
	  Error: OVERRUN (CWE-119):
	  papi-5.5.2/src/validation_tests/cache_helper.c:101: cond_at_most:
	  Checking "type > 4" implies that "type" may be up to 4 on the false
	  branch. papi-5.5.2/src/validation_tests/cache_helper.c:106:
	  overrun-local: Overrunning array "cache_info" of 4 24-byte elements
	  at element index 4 (byte offset 96) using index "type" (which
	  evaluates to 4).  Error: OVERRUN (CWE-119):
	  papi-5.5.2/src/validation_tests/cache_helper.c:117: cond_at_most:
	  Checking "type > 4" implies that "type" may be up to 4 on the false
	  branch. papi-5.5.2/src/validation_tests/cache_helper.c:122:
	  overrun-local: Overrunning array "cache_info" of 4 24-byte elements
	  at element index 4 (byte offset 96) using index "type" (which
	  evaluates to 4).
	* src/ctests/overflow_pthreads.c: Eliminate coverity overflow warning
	  about expression
	* src/components/perf_event_uncore/tests/perf_event_uncore_lib.c:
	  Remove dead code from perf_event_uncore_lib.c

2017-11-09  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: don't
	  initialize globals statically  from the mucci-5.5.2 tree

2017-11-08  phil@minimalmetrics.com <phil@minimalmetrics.com>

	* src/linux-common.c: linux-common: clean up the /proc/cpuinfo
	  parsing code  From the mucci-cleanup branch
	* src/components/perf_event/perf_event.c,
	  .../perf_event_uncore/perf_event_uncore.c,
	  src/papi_libpfm4_events.c, src/papi_libpfm4_events.h: perf_event:
	  clean up _papi_libpfm4_shutdown()  From the mucci-cleanup branch
	* src/utils/print_header.c: utils: clean up the cpuinfo header  From
	  the mucci-cleanup branch
	* src/papi_internal.c, src/papi_internal.h: papi_internal: add
	  PAPI_WARN() function  From the mucci-cleanup branch
	* src/components/perf_event/pe_libpfm4_events.c: perf_event: clean up
	  pe_libpfm4_events  From the mucci-cleanup branch  --

2017-11-08  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/papi_avail.c: utils/papi_avail: update the manpage info
	  based on changes by Phil Mucci
	* .../perf_event/tests/perf_event_system_wide.c: perf_event tests:
	  perf_event_system_wide: don't fail if permissions restrict system-
	  wide events  right now we just skip if we get EPERM, we should also
	  maybe check the perf_event_paranoid setting and print a more
	  meaningful report
	* src/ctests/locks_pthreads.c: ctests/locks_pthreads: avoid printing
	  values when in quiet mode

2017-08-31  phil@minimalmetrics.com <phil@minimalmetrics.com>

	* src/Makefile.inc: Better symlink creation for shared library in
	  make phase

2017-08-28  phil@minimalmetrics.com <phil@minimalmetrics.com>

	* doc/Makefile, src/.gitignore, src/Makefile.inc,
	  src/components/.gitignore, src/components/Makefile_comp_tests,
	  src/ctests/.gitignore, src/ctests/Makefile.recipies,
	  src/ftests/.gitignore, src/ftests/Makefile.recipies,
	  src/testlib/.gitignore, src/utils/.gitignore, src/utils/Makefile,
	  src/validation_tests/.gitignore,
	  src/validation_tests/Makefile.recipies: Full cleanup, including
	  removal of .gitignore files that prevented us from realizing we
	  were really cleaning/clobbering properly
	* src/validation_tests/.gitignore: .gitignore Makefile.target
	* src/papi.c: Remove PAPI_VERB_ECONT setting by default from
	  initialization path. This prints all kinds of needless errors on
	  virtual platforms.
	* src/x86_cpuid_info.c: Remove leftover printf

2017-08-21  phil@minimalmetrics.com <phil@minimalmetrics.com>

	* src/ctests/locks_pthreads.c: Test now performs a fixed number of
	  iterations, and reports lock/unlock timings per thread.
	* src/components/perf_event/perf_event.c: Added more descriptive
	  error message to exclude_guest check
	* src/papi_internal.c: Removed leading newline and trailing . from
	  error messages
	* src/papi_preset.c: Updated message for derived event failures

2017-11-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/Makefile.inc, src/ctests/Makefile,
	  src/ctests/Makefile.target.in, src/ftests/Makefile,
	  src/ftests/Makefile.target.in, src/testlib/Makefile.target.in,
	  src/utils/Makefile.target.in, src/validation_tests/Makefile,
	  src/validation_tests/Makefile.target.in: tests: make sure DESTDIR
	  and DATADIR are passed in when doing an install
	* src/ctests/Makefile, src/ctests/Makefile.target.in,
	  src/ftests/Makefile, src/ftests/Makefile.target.in,
	  src/utils/Makefile, src/utils/Makefile.target.in,
	  src/validation_tests/Makefile,
	  src/validation_tests/Makefile.target.in:
	  ctests/ftests/utils/validation_tests: get shared library linking
	  working again  This should let the various tests and utils be
	  linked as shared libraries again.
	* src/validation_tests/Makefile: validation_tests: add an
	  installation target  this makes the validation tests have an
	  install target, like the ctests and ftests
	* src/ctests/Makefile, src/ftests/Makefile: ctests/ftests: fix
	  "install" target  at some point DATADIR was renamed datadir and the
	  install targets were not updated.

2017-11-07  Asim YarKhan <yarkhan@icl.utk.edu>

	* bitbucket-pipelines.yml: Bitbucket pipeline testing: Inspired by
	  Phil Mucci's branch; copied the functionalty tests run in that
	  branch.
	* src/components/lmsensors/linux-lmsensors.c: lmsensors component:
	  Changed event names to use lm_sensors (only once) instead of
	  LM_SENSORS (twice) to be consistent with other events

2017-11-02  William Cohen <wcohen@redhat.com>

	* src/components/appio/tests/iozone/gnu3d.dem: gnu3d.dem should not
	  be executed by the test framework  This file is a gnuplot file and
	  should not be executed as part of the tests. Removing the
	  executable perms will signal to the testing framework that it
	  shouldn't be executed.
	* src/components/appio/tests/iozone/Gnuplot.txt: Gnuplot.txt should
	  not be executed by the test framework  This file is a readme file
	  and should not be executed as part of the tests. Removing the
	  executable perms will signal to the testing framework that it
	  shouldn't be executed.
	* .../appio/tests/iozone/iozone_visualizer.pl,
	  src/components/appio/tests/iozone/report.pl: Fix perl scripts so
	  they run on Linux machines  The DOS style newlines were preventing
	  Linux from selecting the appropriate interpreter for these scripts
	  and causing these tests to fail.

2017-11-07  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/lmsensors/configure: lmsensors component: Regenerate
	  the configure file for the component

2017-11-02  William Cohen <wcohen@redhat.com>

	* src/components/lmsensors/Makefile.lmsensors.in,
	  src/components/lmsensors/configure.in, src/components/lmsensors
	  /linux-lmsensors.c: Make the lmsensors dynamically load the needed
	  shared library  When attempting to build the current git repo of
	  papi the build of the files in the utils subdirectory failed
	  because the lmsensors libraries were not being linked in.  Rather
	  than forcing the papi to link in the lmsensor library during the
	  build the lmsensors component has been modified to dynamically load
	  the needed libraries and enable the lmsensors events when
	  available.  This allows machines missing the lmsensor libraries
	  installed to still use papi.

2017-11-06  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: CUDA component: On architectures
	  without CUDA Metrics (e.g. Tesla C2050), skip metric registration
	  rather than returning errors

2017-11-06  Vince Weaver <vince@deater.net>

	* src/validation_tests/papi_l2_dca.c,
	  src/validation_tests/papi_l2_dcm.c,
	  src/validation_tests/papi_l2_dcr.c,
	  src/validation_tests/papi_l2_dcw.c: validation_tests: make the
	  papi_l2 tests fail with warnings  On Haswell/Broadwell and newer
	  these tests fail for unknown reasons.  This isn't new behavior,
	  it's just that the tests are new.  It's unlikely we will have time
	  to completely sort this out before the upcoming release, so change
	  the FAIL to WARN so testers won't be unnecessarily alarmed.

2017-11-05  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c, src/configure,
	  src/configure.in: perf_event: enable rdpmc support by default  It
	  can still be disabled at configure time with --enable-perfevent-
	  rdpmc=no  This speeds up PAPI_read() by at least a factor of 5x
	  (see the ESPT'17 workshop presentation)  It is only enabled on
	  Linux 4.13 and newer due to bugs in previous versions.

2017-11-03  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/sdsc-mpx.c: ctests: sdsc: fix issue where the error
	  message is not printed correctly

2017-11-01  Heike Jagode <jagode@icl.utk.edu>

	* src/components/powercap/linux-powercap.c: Intermediate check-in:
	  Fixed a whole bunch of careless file handling (missing closing of
	  open files, missing setting of open/close flag, etc). Still more
	  rigorous checks needed.

Mon Oct 30 17:16:32 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/lib/events/intel_skl_events.h: Update
	  libpfm4\n\nCurrent with\n commit
	  21405fb3c247a0d16861483daf0696cf4fa0cc43  update SW_PREFETCH event
	  for Intel Skylake  Event was renamed SW_PREFETCH_ACCESS, but we
	  keep SW_PREFETCH as an alias.  Added PREFETCHW umask.  Enabled
	  suport for both Skylake client and server as per official event
	  table from 10/27/2017. See download.01.org/perfmon/

2017-10-30  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/cycles.c,
	  src/validation_tests/cycles_validation.c: validation_tests: add
	  cycles_validation test  this is the old zero test, which does a
	  number of cycles tests  It should be extended to add more.

2017-10-30  Vince Weaver <vince@deater.net>

	* src/ctests/attach2.c, src/ctests/attach3.c, src/ctests/calibrate.c,
	  src/ctests/child_overflow.c, src/ctests/code2name.c,
	  src/ctests/earprofile.c, src/ctests/exec_overflow.c,
	  src/ctests/fork_overflow.c, src/ctests/hwinfo.c, src/ctests/mendes-
	  alt.c, src/ctests/prof_utils.c, src/ctests/prof_utils.h,
	  src/ctests/profile.c, src/ctests/remove_events.c,
	  src/ctests/shlib.c, src/ctests/system_child_overflow.c,
	  src/ctests/system_overflow.c, src/ctests/zero_named.c,
	  src/testlib/papi_test.h, src/testlib/test_utils.c: papi: c++11
	  fixes: fix various ctests that c++ complains on  mostly just const
	  warnings, some K+R function declarations, and possibly an actual
	  char/char* bug.
	* src/papi.c, src/papi.h: papi: c++11 conversion:
	  PAPI_get_component_index()
	* src/papi.c, src/papi.h: papi: c++11 conversion: convert
	  PAPI_perror()
	* src/aix.c, src/components/appio/appio.c,
	  src/components/bgpm/CNKunit/linux-CNKunit.c,
	  src/components/bgpm/IOunit/linux-IOunit.c,
	  src/components/bgpm/L2unit/linux-L2unit.c,
	  src/components/bgpm/NWunit/linux-NWunit.c, src/components/emon
	  /linux-emon.c, src/components/net/linux-net.c,
	  src/components/perf_event/pe_libpfm4_events.c,
	  src/components/perf_event/pe_libpfm4_events.h,
	  src/components/perf_event/perf_event.c,
	  .../perf_event_uncore/perf_event_uncore.c,
	  src/components/perfmon_ia64/perfmon-ia64.c, src/freebsd.c, src
	  /linux-bgq.c, src/papi.c, src/papi.h, src/papi_internal.c,
	  src/papi_internal.h, src/papi_libpfm3_events.c,
	  src/papi_libpfm_events.h, src/papi_vector.c, src/papi_vector.h:
	  papi: start converting papi.h to be C++11 clean  Most of the issues
	  have to do with string to char * conversion.  This first patch
	  converts PAPI_event_name_to_code()  The issue was first reported by
	  Brian Van Straalen
	* src/validation_tests/papi_l2_dca.c: validation_tests/papi_l2_dca:
	  update some comments
	* src/ctests/zero.c, src/validation_tests/cycles.c: ctests/zero: make
	  test pass on recent intel machines  The test was failing due to the
	  PAPI_get_real_cycles() validation on recent Intel chips.  This is
	  probably something that should be tested in a separate test and not
	  in zero which is supposed to be a bare-bones are-things-working
	  test.

2017-10-27  Philip Vaccaro <pvaccaro@vols.utk.edu>

	* src/components/powercap/README: updated powercap README to be more
	  concise. includes more details on interacting with energy counters
	  and power limits.

2017-10-27  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c, src/components/nvml/linux-nvml.c:
	  CUDA/NVML components: Handled segfault which can occur when
	  dlclosing libcudart from both components by adding an additional
	  flag to dlopen

2017-10-24  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/simpleMultiGPU.cu: CUDA component: Clean
	  up fulltest by moving some output from stdout to SUBDBG, removed
	  some commented out lines
	* src/components/nvml/linux-nvml.c: nvml component: To support V100
	  (Volta) updated to get nvmlDevice handle ordered by index rather
	  than pci busid.

2017-10-23  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: CUDA component: Minor fix to
	  remove some unneeded stdout which shows up during fulltest

2017-10-20  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/simpleMultiGPU.cu: CUDA component test
	  update: Remove some debug output.  Do not build cupti_only test
	  binary.

Thu Oct 19 11:23:44 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/examples/showevtinfo.c,
	  src/libpfm4/lib/events/intel_skl_events.h: Update
	  libpfm4\n\nCurrent with\n commit
	  2e98642dd331b15382256caa380834d01b63bef8  Fix Intel Skylake
	  EXE_ACTIVITY.1_PORTS_UTIL event  Was missing a umask name.

2017-10-17  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/version.c: ctests: version, add INCREMENT field  at the
	  request of Steve Kaufmann
	* src/ctests/Makefile.recipies, src/ctests/version.c: ctests: re-
	  enable version test  not sure why it was disabled
	* src/ctests/Makefile.recipies: ctests: alphabetize SERIAL tests in
	  Makefile.recipes

2017-10-13  Philip Vaccaro <pvaccaro@vols.utk.edu>

	* src/components/powercap/tests/Makefile,
	  src/components/powercap/tests/powercap_limit.c: added simple limit
	  test for the powercap component.

2017-10-09  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/nvml/linux-nvml.c: Big Fix NVML component: Fix
	  problem with names when there are multiple identical GPUs  If
	  multiple identical GPUs were available, the names were not mapped
	  correctly.  Fixed event names to be
	  "nvml:::Tesla_K40c:device_0:myevent" rather than
	  "nvml:::Tesla_K40c_0:myevent".

Fri Sep 29 00:25:09 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/include/perfmon/perf_event.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/events/s390x_cpumf_events.h,
	  src/libpfm4/lib/pfmlib_s390x_cpumf.c,
	  src/libpfm4/perf_examples/Makefile,
	  src/libpfm4/perf_examples/branch_smpl.c,
	  src/libpfm4/perf_examples/perf_util.c: Update libpfm4\n\nCurrent
	  with\n commit d1e7c96df60a00a371fdaa3b635ad4a38cee4c2f  add new
	  branch_smpl.c perf_events example  This patch adds a new example to
	  demo how to sample and parse the PERF_SAMPLE_BRANCH_STACK record
	  format of perf_events. It will dump branches taken from the sampled
	  command.

2017-10-05  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/nvml/README, src/components/nvml/linux-nvml.c,
	  src/components/nvml/linux-nvml.h,
	  src/components/nvml/tests/HelloWorld.cu,
	  src/components/nvml/tests/Makefile,
	  .../nvml/tests/nvml_power_limiting_test.cu: Update NVML component:
	  Support for power limiting using NVML  PAPI has added support for
	  power limiting using NVML (on supported devices from the Kepler
	  family or later).  The executable needs to have root permissions to
	  change the power limits on the device.  We have added new events to
	  the NVML component to support power management limits.  The
	  nvml:::DEVICE:power_management_limit can be written (as well as
	  read), but requires higher permissions (root level).  The limit is
	  constrainted between a min and a max value, which can be read.
	  When the component is unloaded, the power_management_limit should
	  be reset to the initial value.
	  nvml:::DEVICE:power_management_limit
	  nvml:::DEVICE:power_management_limit_constraint_min
	  nvml:::DEVICE:power_management_limit_constraint_max  A new test
	  (nvml/tests/nvml_power_limiting_test.cu)/ was written to check if
	  the writing functionality works (with the proper hardware and
	  permissions).

2017-10-04  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/nvml/linux-nvml.c, src/components/nvml/linux-nvml.h,
	  src/components/nvml/tests/HelloWorld.cu: Style consistency and
	  refactoring via astyle command.  No changes to the actual code were
	  made here.

2017-10-04  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/rapl/linux-rapl.c: rapl: add support for some Intel
	  Atom models Goldmont / Gemini_Lake / Denverton
	* src/components/rapl/linux-rapl.c: rapl: fix skylake SoC measurement
	  support
	* src/components/rapl/linux-rapl.c: rapl: add support for skylake SoC
	  energy measurements
	* src/components/rapl/linux-rapl.c: rapl: add Skylake-X / Kabylake
	  support
	* src/components/rapl/linux-rapl.c: rapl: centralize the "different
	  DRAM units" code
	* src/components/rapl/linux-rapl.c: rapl: merge like processors
	* src/components/rapl/linux-rapl.c: rapl: convert chip detection to a
	  switch statement
	* src/components/rapl/linux-rapl.c: rapl: update the whitespace a bit

2017-09-12  Heike Jagode (jagode@icl.utk.edu) <jagode@saturn.icl.utk.edu>

	* .../infiniband_umad/linux-infiniband_umad.c, .../infiniband_umad
	  /linux-infiniband_umad.h: Fixed papi_vector for infiniband_umad
	  component.  The array of function pointers that the component
	  defines must use the naming convention papi_vector_t _x_vector
	  where x is the name of the component directory.  In this case, the
	  name of the component directory is infiniband_umad and not
	  infiniband.  This change has not been tested yet due to OFED lib
	  issues on our local machines. There may be more changes required in
	  order to get the infiniband_umad component to work properly.

2017-09-11  Hanumanth <fhanuman@vols.utk.edu>

	* man/man1/papi_avail.1, man/man1/papi_native_avail.1,
	  src/utils/papi_avail.c, src/utils/papi_native_avail.c: Updating man
	  and help pages for papi_avail and papi_native_avail

2017-09-07  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/tests/nvlink_bandwidth.cu,
	  .../cuda/tests/nvlink_bandwidth_cupti_only.cu: Update to CUDA
	  component to support NVLink.  The CUDA component has been cleaned
	  up and updated to support NVLink. NVLink metrics can not be
	  measured properly in KERNEL event collection mode, so the CUPTI
	  EventCollectionMode is transparently set to
	  CUPTI_EVENT_COLLECTION_MODE_CONTINUOUS when a NVLink metric is
	  being measured in an eventset.  For all other events and metrics,
	  the CUDA component uses the KERNEL event collection mode.  A bug in
	  the earlier version was that repeated calls to add CUDA events were
	  failing because some structures were not cleaned up.  This should
	  now be fixed.  A new nvlink test was added to the CUDA component
	  tests.

2017-08-31  Phil Mucci <phil@minimalmetrics.com>

	* man/man1/papi_avail.1, man/man1/papi_clockres.1,
	  man/man1/papi_command_line.1, man/man1/papi_component_avail.1,
	  man/man1/papi_cost.1, man/man1/papi_decode.1,
	  man/man1/papi_error_codes.1, man/man1/papi_event_chooser.1,
	  man/man1/papi_hybrid_native_avail.1, man/man1/papi_mem_info.1,
	  man/man1/papi_multiplex_cost.1, man/man1/papi_native_avail.1,
	  man/man1/papi_version.1, man/man1/papi_xml_event_info.1,
	  man/man3/PAPI_cleanup_eventset.3, man/man3/PAPI_destroy_eventset.3:
	  Updating options for papi_avail/native_avail as well as all
	  references to old mailing list

2017-08-31  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/nvml/linux-nvml.c,
	  src/components/nvml/tests/HelloWorld.cu,
	  src/components/nvml/tests/Makefile: Minor updates to NVML component
	  to enable it to compile and run without complaints

2017-08-30  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/papi_br_prc.c,
	  src/validation_tests/papi_br_tkn.c: validation: update papi_br_prc
	  and papi_br_tkn for amd fam15h  amd fam15h doesn't have a
	  conditional branch event so the measures have to be against total.
	  for now print warning, maybe we should let it go w/o a warning.
	* src/papi_events.csv: papi_events: add PAPI_BR_PRC event to amd
	  fam15h
	* src/papi_events.csv: papi_events: update PAPI_BR_PRC and
	  PAPI_BR_TKN on sandybridge/ivybridge  They were using TOTAL
	  branches for the derived branch events rather than CONDITIONAL like
	  the other modern x86 processors were using.
	* src/validation_tests/papi_br_tkn.c: validation_tests: papi_br_tkn:
	  update to only count conditional branches
	* src/validation_tests/papi_br_prc.c: validation_tests: papi_br_prc:
	  make sure it is comparing conditional branches  was doing total
	  branches, which made the test fail on skylake

Mon Aug 21 23:55:46 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/lib/pfmlib_intel_x86.c: Update libpfm4\n\nCurrent
	  with\n commit a290dead7c1f351f8269a265c0d4a5f38a60ba29  fix usage
	  of is_model_event() for Intel X86  This patch fixes a couple of
	  problems introduced by commit: 77a5ac9d43b1 add model field to
	  intel_x86_entry_t  The code in pfm_intel_x86_get_event_first() was
	  incorrect. It was calling is_model_event() before checking if the
	  index was within bounds. It should have been the opposite. Same
	  issue in pfm_intel_x86_get_next_event(). This could cause SEGFAULT
	  as report by Phil Mucci.  The patch also fixes the return value of
	  pfm_intel_x86_get_event_first(). It was not calculated correctly.
	  Reported-by: Phil Mucci <mucci@icl.utk.edu>

2017-08-20  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/failed_events.c: ctests:
	  add failed_events test  it tries to create invalid events to make
	  sure the event parser properly handles invalid events.

2017-08-19  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event_uncore/tests/Makefile,
	  .../perf_event_uncore/tests/perf_event_uncore.c,
	  .../tests/perf_event_uncore_attach.c: perf_event_uncore: tests:
	  update perf_event_uncore to use :cpu=0  This is the more common way
	  of specifying uncore events. Rename the old test that uses
	  PAPI_set_opt() to perf_event_uncore_attach
	* .../tests/perf_event_uncore_cbox.c,
	  .../tests/perf_event_uncore_lib.c,
	  .../tests/perf_event_uncore_lib.h: perf_event_uncore: tests: update
	  uncore events for recent processors
	* src/ctests/zero_pthreads.c: ctests: zero_pthreads: remove
	  extraneous printf when in quiet mode
	* .../tests/perf_event_uncore_lib.c: perf_event_uncore: event list,
	  add recent processors  libpfm4 still doesn't support regular
	  Haswell, Broadwell, or Skylake machines
	* .../perf_event_uncore/tests/perf_event_uncore.c,
	  .../tests/perf_event_uncore_cbox.c,
	  .../tests/perf_event_uncore_multiple.c: perf_event_uncore: tests:
	  print a message indicating the problem on skip  also some
	  whitespace cleanups
	* src/components/perf_event/tests/event_name_lib.c: perf_event:
	  tests: update event_name_lib for recent Intel processors
	* src/components/perf_event/tests/event_name_lib.c: perf_event:
	  tests: event_name_lib, clean up whitespace
	* .../perf_event/tests/perf_event_offcore_response.c: perf_event:
	  tests: update perf_event_offcore_response test  print an indicator
	  of why we are skipping the test also some gratuitous whitespace
	  cleanups
	* src/ctests/zero_shmem.c: ctests: zero_shmem: document the code a
	  little better
	* src/ctests/zero_smp.c: ctests: zero_smp: make it actually do
	  something on Linux  Linux can use the pthread code just like AIX
	  although we don't validate the results, so this test could be
	  another candidate for not being necessary anymore.
	* src/ctests/zero_shmem.c: ctests: zero_shmem: minor cleanups  we
	  pretty much always skip this test.  Is it needed anymore? What was
	  it testing in the first place?  The code it calls (start_pes() )
	  doesn't seem to exist anymore
	* src/ctests/zero_omp.c, src/ctests/zero_pthreads.c: ctests: zero_omp
	  and zero_pthread were skipping due to a typo  when updating the
	  code I had left a stray ! before PAPI_query_event()

2017-08-19  Vince Weaver <vince@deater.net>

	* src/papi_events.csv: papi_events: the skylake fixes broke hsw/bdw
	  this skylake-x change is way more trouble than it was worth.

2017-08-19  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: on skylake the SNP_FWD umask was
	  renamed to SNP_HIT_WITH_FWD  This broke presets on skylake,
	  skylake-x
	* src/components/perf_event/pe_libpfm4_events.c: perf_event: fix
	  uninitialized descr issue reported by valgrind  I don't think this
	  is the skylake-x bug though

2017-08-18  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/pe_libpfm4_events.c: perf_event: clean up
	  some whitespace in pe_libpfm4_events.c
	* src/linux-memory.c: linux-memory: various errors when compiling
	  with debug enabled  the new proc memory code had some mistakes in
	  the debug messages that only appeared when compiled with --with-
	  debug  Reported-by: Steve Kaufmann <sbk@cray.com>

2017-08-17  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: missed one of the skx event
	  locations

2017-08-16  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: enable Skylake X support

Sun Aug 6 00:22:52 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/include/perfmon/pfmlib.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_skl.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc.c,
	  src/libpfm4/lib/pfmlib_intel_x86.c,
	  src/libpfm4/lib/pfmlib_intel_x86_priv.h,
	  src/libpfm4/lib/pfmlib_priv.h, src/libpfm4/tests/validate_x86.c:
	  Update libpfm4\n\nCurrent with\n commit
	  efd16920194999fdf1146e9dab3f7435608a9479  add support for Intel
	  Skylake X  This patch adds support for Intel Skylake X core PMU
	  events. Based on
	  download.01.org/perfmon/SKX/skylakex_core_v25.json.  New PMU is
	  called skx.

2017-08-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: add initial AMD fam17h support
	  not tested on actual hardware yet
	* src/papi_events.csv: papi_events: fix the amd_fam16h PMU name  The
	  way libpfm4 reports fam16h was modified a bit from my initial
	  patches.  fam16h seems to be working now.

Thu Jul 27 23:30:20 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/README, src/libpfm4/docs/Makefile,
	  src/libpfm4/docs/man3/libpfm_amd64_fam16h.3,
	  src/libpfm4/docs/man3/libpfm_amd64_fam17h.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_cbo.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_ha.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_imc.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_irp.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_pcu.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_qpi.3,
	  .../docs/man3/libpfm_intel_bdx_unc_r2pcie.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_r3qpi.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_sbo.3,
	  src/libpfm4/docs/man3/libpfm_intel_bdx_unc_ubo.3,
	  src/libpfm4/examples/showevtinfo.c,
	  src/libpfm4/include/perfmon/pfmlib.h, src/libpfm4/lib/Makefile,
	  src/libpfm4/lib/events/amd64_events_fam16h.h,
	  src/libpfm4/lib/events/amd64_events_fam17h.h,
	  src/libpfm4/lib/events/intel_bdx_unc_cbo_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_ha_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_imc_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_irp_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_pcu_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_qpi_events.h,
	  .../lib/events/intel_bdx_unc_r2pcie_events.h,
	  .../lib/events/intel_bdx_unc_r3qpi_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_sbo_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_ubo_events.h,
	  src/libpfm4/lib/pfmlib_amd64.c,
	  src/libpfm4/lib/pfmlib_amd64_fam16h.c,
	  src/libpfm4/lib/pfmlib_amd64_fam17h.c,
	  src/libpfm4/lib/pfmlib_amd64_priv.h,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_cbo.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_ha.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_imc.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_irp.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_pcu.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_qpi.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_r2pcie.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_r3qpi.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_sbo.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_ubo.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc_priv.h,
	  src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/perf_examples/self_count.c,
	  src/libpfm4/tests/validate_x86.c: Update libpfm4  Current with
	  commit 72474c59d88512e49d9be7c4baa4355e8d8ad10a  fix typo in AMd
	  Fam17h man page  PMU name was mistyped.

2017-08-04  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/papi_l1_dcm.c,
	  src/validation_tests/papi_l2_dcm.c: validation_tests: for the DCM
	  tests up the allowed error to 5%  We don't want to fail too easily,
	  and 5% seems reasonable. This lets the test pass on ARM64
	  Dragonboard 401c
	* src/linux-memory.c: linux-memory: add fallback generic Linux /sys
	  cache size detection  This will allow getting cache sizes on
	  architectures we don't have custom code for.  Currently this mostly
	  means ARM64.
	* src/validation_tests/papi_l1_dcm.c,
	  src/validation_tests/papi_l2_dcm.c: validation_tests: don't crash
	  if cachesize reported as zero
	* src/validation_tests/branches_testcode.c: branches_testcode: add
	  arm64 support

2017-07-27  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv, src/validation_tests/papi_l2_dca.c:
	  validation_tests: trying to find out why PAPI_L2_DCA fails on
	  Haswell  it's a mystery still.  One alternative is to switch the
	  event to be the same as PAPI_L1_DCM but that seems like it would be
	  cheating.
	* src/validation_tests/papi_l2_dcw.c: validation_tests: papi_l2_dcw:
	  shorten a warning message
	* src/papi_events.csv: papi_events: note that libpfm4 Kaby Lake
	  support is treated as part of Skylake
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_l2_dcw.c: validation_tests: add
	  PAPI_L2_DCW test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_l2_dcr.c: validation_tests: add
	  PAPI_L2_DCR test
	* src/validation_tests/papi_l2_dcm.c: validation_tests: PAPI_L2_DCM
	  figured out a test that made sense
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_l1_dcm.c: validation_tests: add
	  PAPI_L1_DCM test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/cache_testcode.c,
	  src/validation_tests/papi_l2_dcm.c,
	  src/validation_tests/testcode.h: validation_tests: first attempt at
	  papi_l2_dcm test  disabled for now, as it's really hard to make a
	  workable cache miss test on modern hardware.

2017-07-26  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile, src/ctests/Makefile.recipies,
	  src/ctests/child_overflow.c, src/ctests/exec_overflow.c,
	  src/validation_tests/Makefile.recipies,
	  src/validation_tests/busy_work.c, src/validation_tests/testcode.h:
	  ctests: clean up the exec/child overflow tests  The exec_overflow
	  test segfaults when using rdpmc  This is a bug in Linux.  I'm
	  working on getting it fixed.

2017-07-21  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/cache_helper.c,
	  src/validation_tests/cache_helper.h,
	  src/validation_tests/cache_testcode.c,
	  src/validation_tests/papi_l1_dca.c,
	  src/validation_tests/papi_l2_dca.c,
	  src/validation_tests/testcode.h: validation_tests: add PAPI_L2_DCA
	  test  also adds some generic cache testing infrastructure
	* src/validation_tests/papi_l1_dca.c: validation_tests: PAPI_L1_DCA
	  fixes  had to find a machine that actually supported the event.  On
	  AMD Fam15h the write count is 3x expected?  Need to investigate
	  further.
	* src/validation_tests/papi_br_prc.c: validation_tests: papi_br_prc,
	  properly skip if event not found
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_l1_dca.c: validation_tests: add
	  PAPI_L1_DCA test

2017-07-20  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_br_msp.c,
	  src/validation_tests/papi_br_prc.c: validation_tests: add
	  PAPI_BR_PRC test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_br_tkn.c: validation_tests: add
	  PAPI_BR_TKN test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_br_ntk.c: validation_tests: add
	  PAPI_BR_NTK test

2017-07-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: move haswell, skylake, and
	  broadwell to traditional PAPI_REF_CYC  there's a slight chance this
	  might break things for people, if so we can revert it.
	* src/linux-timer.c: linux-timer: fix build warning on non-power
	  build
	* src/ctests/flops.c, src/validation_tests/flops_testcode.c,
	  src/validation_tests/papi_dp_ops.c,
	  src/validation_tests/papi_fp_ops.c,
	  src/validation_tests/papi_sp_ops.c: validation: make the flops
	  tests handle that POWER has fused multiply-add  PAPI_DP_OPS and
	  PAPI_SP_OPS still fail, need to audit what the event is doing
	* src/papi_events.csv: POWER8: add a few branch preset events  they
	  pass the validation tests, not sure why they weren't enabled
	  originally
	* src/validation_tests/branches_testcode.c: validation: add POWER
	  branches testcode  not sure I got the clobbers right
	* src/components/perf_event/perf_helpers.h,
	  src/validation_tests/papi_tot_ins.c: POWER: fix some compiler
	  warnings

2016-10-18  Phil Mucci <phil@minimalmetrics.com>

	* src/linux-timer.c: Ensure stdint gets included for all Linuxen.
	* src/linux-timer.c: Some Linuxen need stdint to get the uint64_t
	  type.

2016-10-14  Phil Mucci <phil@minimalmetrics.com>

	* src/linux-lock.h: Restructured unlock code to avoid warnings.
	  Tested against 80 threads on Power8

2016-10-12  Phil Mucci <phil@minimalmetrics.com>

	* src/linux-timer.c: PPC64/PPC fast timer fixup.

2017-07-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/linux-timer.c: linux-timer: allow using fast timer for
	  get_real_cycles() on POWER

2016-07-12  Phil Mucci <phil@minimalmetrics.com>

	* src/linux-timer.c, src/linux-timer.h: First pass at good rdtsc for
	  Power7/8

2017-07-03  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/flops.c, src/ctests/hl_rates.c,
	  src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops.c,
	  src/validation_tests/flops_testcode.c,
	  src/validation_tests/flops_validation.c,
	  src/validation_tests/papi_dp_ops.c,
	  src/validation_tests/papi_fp_ops.c,
	  src/validation_tests/papi_sp_ops.c,
	  src/validation_tests/testcode.h: validation_tests: add tests for
	  PAPI_SP_OPS and PAPI_DP_OPS  extend the flops_testcode as well, to
	  have both float and double versions.
	* src/validation_tests/papi_ref_cyc.c: validation_tests:
	  papi_ref_cyc: update test to work on older systems  it's actually
	  the newer (haswell/broadwell/skylake) that are using a different
	  event than the older systems.  Make the test check for the old
	  behavior.

2017-07-02  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/cycle_ratio.c,
	  src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops_testcode.c,
	  src/validation_tests/papi_ref_cyc.c,
	  src/validation_tests/testcode.h: validation_tests: move cycle_ratio
	  test to be papi_ref_cyc test
	* src/ctests/cycle_ratio.c: ctests: rewrite cycle_ratio test  on
	  Intel platforms PAPI_REF_CYC is a fixed 100MHz cycle count  the
	  test was making the assumption that PAPI_REF_CYC was equal to the
	  max design freq (not turboboost) and thus as far as I can tell it
	  never would return the right answer.  This test should probably be
	  moved to validation_tests.

2017-07-01  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/branches.c, src/ctests
	  /sdsc-mpx.c, src/ctests/sdsc2.c: ctests: migrate all other users of
	  dummy3() workload
	* src/ctests/Makefile.recipies, src/ctests/sdsc4-mpx.c,
	  src/validation_tests/flops_testcode.c,
	  src/validation_tests/testcode.h: ctests: move the "dummy3" workload
	  to the common workload library
	* src/ctests/sdsc4-mpx.c: ctests: sdsc4-mpx: fix failing on recent
	  Intel machines  the multiplexing of an event with small results
	  (PAPI_SR_INS in this case) has high variance, so don't use it for
	  validation.  There was code trying to do this but it wasn't
	  working.

2017-06-30  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/first.c, src/ctests/matrix-hl.c, src/ctests/zero_omp.c,
	  src/ctests/zero_pthreads.c: ctests: catch lack of CPU component
	  earlier  gets rid of extreaneous SKIPPED in the output of
	  run_tests.sh
	* src/components/cuda/tests/HelloWorld.cu,
	  src/components/cuda/tests/Makefile: tests:cuda: make the HelloWorld
	  test more like a standard PAPI test
	* src/validation_tests/Makefile.recipies: validation_tests: fix
	  linking against a CUDA enabled PAPI  Fix suggested by Steve
	  Kaufmann <sbk@cray.com>
	* src/testlib/papi_test.h, src/testlib/test_utils.c: testlib: make it
	  so it can compile with c++  this lets us link against it from the
	  CUDA tests
	* src/components/cuda/sampling/gpu_activity.c: tests: cuda: fix
	  sampling/gpu_activity to compile without warnings
	* src/Makefile.inc: tests: make the component tests build command be
	  the same as ctests/ftests
	* src/ctests/calibrate.c: ctests: calibrate: turn off printf if
	  TEST_QUIET  missed this one when testing because test machine
	  skipped it due to lack of floating point events

2017-06-29  Vince Weaver <vincent.weaver@maine.edu>

	* .../tests/perf_event_amd_northbridge.c,
	  src/ctests/Makefile.recipies, src/ctests/cycle_ratio.c,
	  src/ctests/derived.c, src/ctests/multiplex1_pthreads.c,
	  src/ctests/multiplex3_pthreads.c, src/ctests/overflow.c,
	  src/ctests/overflow_allcounters.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_pthreads.c, src/ctests/overflow_twoevents.c,
	  src/ctests/prof_utils.c, src/ctests/prof_utils.h,
	  src/ctests/profile.c, src/ctests/profile_twoevents.c,
	  src/ctests/realtime.c, src/ctests/reset.c,
	  src/ctests/reset_multiplex.c, src/ctests/sdsc-mpx.c,
	  src/ctests/sdsc.c, src/ctests/sdsc4-mpx.c, src/ctests/sdsc4.c,
	  src/ctests/shlib.c, src/ctests/tenth.c, src/ctests/thrspecific.c,
	  src/testlib/papi_test.h: testlib: remove the hack where all
	  printf's are #defined to something else  Explicitly check
	  everywhere for TESTS_QUIET or equivelent, rather than using c-pre-
	  processor macros to redefine printf
	* src/papi.c, src/testlib/test_utils.c: tests: set the ctest debug
	  mode to VERBOSE by default for tests  the TESTS_QUIET mode was
	  turning *off* verbose debugging, which meant that PAPIERROR() calls
	  wouldn't show up during a ./run_tests.sh
	* src/components/perf_event/perf_event.c: perf_event: properly
	  initialize the mmap_addr structure  It wasn't always being set to
	  NULL, and so on some tests the code would try to munmap() it even
	  though it wasn't mapped.
	* src/testlib/test_utils.c: tests: enable color in test status
	  messages  this has been an optional feature for a long time, if you
	  enabled the environment variable TESTS_COLOR=y  this change makes
	  it default to being on (you can disable with export TESTS_COLOR=n
	  also it should automatically detect if you are piping to a file and
	  disable colors in the case too
	* src/validation_tests/Makefile,
	  src/validation_tests/Makefile.recipies: validation_tests: always
	  include -lrt on the tests  Should be harmless, and I don't always
	  test on an old enough machine to trigger the problem.
	* src/ctests/forkexec.c, src/ctests/forkexec2.c,
	  src/ctests/forkexec3.c, src/ctests/forkexec4.c,
	  src/ctests/multiplex3_pthreads.c,
	  src/ctests/system_child_overflow.c: ctests: make the fork/exec
	  tests only print "PASSED" once  this makes the run_test.sh input
	  look a lot nicer
	* src/run_tests.sh, src/testlib/test_utils.c: tests: make the output
	  from run_tests.sh more compact

2017-06-28  Vince Weaver <vincent.weaver@maine.edu>

	* .../perf_event/tests/perf_event_system_wide.c: perf_event: tests,
	  make perf_event_system_wide use INS rather than CYC  cycles varied
	  too much, making the validation fail
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_br_cn.c,
	  src/validation_tests/papi_br_ucn.c: validation_tests: add tests for
	  PAPI_BR_CN and PAPI_BR_UCN
	* src/validation_tests/flops.c: validation_tests: flops: wasn't
	  falling back properly if no FLOPS event
	* src/utils/Makefile, src/validation_tests/Makefile.recipies: tests:
	  clean up the Makefiles
	* src/utils/print_header.c: utils: print_header: print the operating
	  system version in the header
	* .../tests/perf_event_amd_northbridge.c: perf_event_uncore: the
	  perf_event_amd_northbridge test wasn't working  it maybe never
	  worked at all?  It was hardcoded to thinking it was running on a
	  3.9 kernel always.
	* src/ctests/Makefile, src/ctests/Makefile.recipies,
	  src/ctests/zero.c: ctests: zero: complete transition from FLOPS to
	  INS as metric  this will make it more likely to be runnable on
	  modern machines.
	* src/ctests/vector.c, src/validation_tests/vector_testcode.c:
	  validation_tests: move the unused vector.c code  maybe we should
	  remove it.  It was never built as far as I can tell.
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops.c: validation_tests: add a generic flops
	  test based on hl_rates  we do a lot of testing of the high-level
	  interface but not as much of the regular PAPI interface.
	* src/ctests/Makefile.recipies, src/ctests/hl_rates.c,
	  src/validation_tests/flops_testcode.c,
	  src/validation_tests/testcode.h: ctests: hl_rates: clean up and fix
	  extraneous error message  the error message was due to the way
	  TESTS_QUIET is passed as a command line argument.  also made it use
	  the same matrix-multiply code that the flops test uses.  also added
	  some validation to the results.
	* src/ctests/all_events.c: ctests: all_events: issue warning if
	  preset cannot be created  specifically this came up on an AMD
	  fam15h system where the PAPI_L1_ICH event cannot be created due to
	  Linux stealing a counter for the NMI watchdog
	* src/validation_tests/papi_hw_int.c: validation_tests: papi_hw_int
	  explicitly mark large constant as ULL  compiler was warning on
	  32-bit machine
	* src/validation_tests/papi_ld_ins.c,
	  src/validation_tests/papi_sr_ins.c,
	  src/validation_tests/papi_tot_cyc.c: validation_tests:  a few tests
	  had the !quiet check inverted
	* src/validation_tests/papi_hw_int.c: validation_tests: fix
	  papi_hw_int looping forever  somehow the loop exit line got lost
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/matrix_multiply.c,
	  src/validation_tests/matrix_multiply.h,
	  src/validation_tests/papi_ld_ins.c,
	  src/validation_tests/papi_sr_ins.c: validation_tests: add
	  PAPI_SR_INS test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/matrix_multiply.c,
	  src/validation_tests/matrix_multiply.h,
	  src/validation_tests/papi_hw_int.c,
	  src/validation_tests/papi_ld_ins.c: validation_tests: add
	  PAPI_LD_INS test
	* src/run_tests.sh, src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_hw_int.c: validation_tests: add
	  PAPI_HW_INT test

2017-06-27  Vince Weaver <vincent.weaver@maine.edu>

	* src/run_tests_exclude.txt: run_tests_exclude: add attach_target
	  not really a test so we shouldn't run it
	* src/ctests/byte_profile.c, src/ctests/earprofile.c,
	  src/ctests/prof_utils.c, src/ctests/prof_utils.h:
	  ctests/prof_utils: remove prof_init() helper  It didn't do much
	  more than a papi_init, probably better to have each file do that in
	  the open.
	* src/ctests/inherit.c, src/ctests/ipc.c, src/ctests/johnmay2.c,
	  src/ctests/krentel_pthreads.c, src/ctests/kufrin.c, src/ctests/low-
	  level.c, src/ctests/mendes-alt.c, src/ctests/multiplex1.c,
	  src/ctests/multiplex1_pthreads.c, src/ctests/multiplex2.c,
	  src/ctests/multiplex3_pthreads.c, src/ctests/overflow.c,
	  src/ctests/overflow2.c, src/ctests/overflow3_pthreads.c,
	  src/ctests/overflow_allcounters.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_one_and_read.c,
	  src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/prof_utils.c,
	  src/ctests/profile.c, src/ctests/profile_pthreads.c,
	  src/ctests/profile_twoevents.c, src/ctests/remove_events.c,
	  src/ctests/sprofile.c, src/ctests/zero.c, src/ctests/zero_flip.c,
	  src/ctests/zero_named.c, src/testlib/test_utils.c: ctests: skip
	  rather than fail if no events available

2017-06-26  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/first.c, src/ctests/mpifirst.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/testlib/test_utils.c: testlib: fix add_two_events()  was not
	  setting some values, causing many tests to fail
	* src/ctests/attach2.c, src/ctests/system_overflow.c: ctests:
	  compiler warning caught two lack-of-braces mistakes
	* src/ctests/byte_profile.c, src/ctests/code2name.c,
	  src/ctests/describe.c, src/testlib/test_utils.c: tests: more
	  changes to skip instead of fail if no events available
	* src/ctests/Makefile.recipies, src/ctests/child_overflow.c,
	  src/ctests/exec_overflow.c, src/ctests/fork_exec_overflow.c,
	  src/ctests/fork_overflow.c, src/ctests/system_child_overflow.c,
	  src/ctests/system_overflow.c: ctests: break up the
	  for_exec_overflow test  it was really four benchmarks with some
	  ifdefs  the proper way to do that would be to have a common C file
	  and link against it for the shared routines, rather than using the
	  pre-processor
	* src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c: ctests: have attach tests cleanly skip if
	  no events available
	* src/testlib/test_utils.c: testlib: update add_two_events to skip()
	  if not events found
	* src/ctests/mendes-alt.c, src/ctests/multiplex2.c,
	  src/ctests/multiplex3_pthreads.c, src/ctests/sdsc.c,
	  src/ctests/sdsc2.c, src/ctests/sdsc4.c, src/testlib/papi_test.h,
	  src/testlib/test_utils.c: testutils: remove init_multiplex() test
	  helper  the only benefit it had over calling PAPI_multiplex_init()
	  was a domain workaround for perfctr+power6 systems.  Ideally not
	  many of those systems are around anymore, an in any case a proper
	  fix would have the perfctr component handle that, not the testing
	  library.
	* .../perf_event/tests/perf_event_system_wide.c,
	  .../perf_event/tests/perf_event_user_kernel.c, src/ctests/api.c,
	  src/ctests/byte_profile.c, src/ctests/high-level.c,
	  src/ctests/hl_rates.c, src/validation_tests/papi_br_ins.c,
	  src/validation_tests/papi_br_msp.c,
	  src/validation_tests/papi_tot_cyc.c,
	  src/validation_tests/papi_tot_ins.c: tests: try to "skip" rather
	  than "fail" if no events available
	* src/ctests/derived.c: ctests: derived: fix warning found on older
	  gcc
	* src/ctests/high-level2.c: ctests: clean up high-level2 test  skip
	  on machine without flops/flips event
	* src/components/Makefile_comp_tests.target.in: components test: fix
	  another build issue  be sure to use local copy of papi.h
	* src/components/Makefile_comp_tests.target.in: component tests: fix
	  build issue  was trying to use the system version of libpapi.a
	  instead of local version
	* src/components/appio/tests/Makefile,
	  src/components/appio/tests/appio_list_events.c,
	  src/components/appio/tests/appio_values_by_code.c,
	  src/components/coretemp/tests/Makefile,
	  src/components/example/tests/Makefile,
	  src/components/host_micpower/tests/Makefile,
	  src/components/infiniband/tests/Makefile,
	  .../infiniband/tests/infiniband_values_by_code.c,
	  src/components/infiniband_umad/tests/Makefile,
	  .../tests/infiniband_umad_values_by_code.c,
	  src/components/lustre/tests/Makefile,
	  src/components/micpower/tests/Makefile,
	  src/components/mx/tests/Makefile,
	  src/components/net/tests/Makefile,
	  src/components/perf_event/tests/Makefile,
	  src/components/perf_event_uncore/tests/Makefile,
	  src/components/powercap/tests/Makefile,
	  src/components/rapl/tests/Makefile,
	  src/components/stealtime/tests/Makefile: components: update
	  component test Makefiles to include Makefile_comp_test.target
	* src/components/Makefile_comp_tests.target.in: components: update
	  Makefile_comp_test.target.in  should now be usable by the
	  components without many Makefile changes
	* src/components/perf_event/tests/Makefile,
	  src/components/perf_event/tests/nmi_watchdog.c,
	  src/ctests/Makefile.recipies, src/ctests/nmi_watchdog.c: ctests:
	  nmi_watchdog is a perf_event specific test, move it there
	* src/components/Makefile_comp_tests.target.in,
	  src/components/README, src/components/perf_event/tests/Makefile:
	  components: update the autoconfigure to generate more useful
	  Makefile.target.in  although I don't think most components are
	  using it at all

2017-06-26  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/components/cuda/Makefile.cuda.in, src/components/cuda/README,
	  src/components/cuda/Rules.cuda, src/components/cuda/configure,
	  src/components/cuda/configure.in, src/components/cuda/linux-cuda.c,
	  src/components/cuda/sampling/Makefile,
	  src/components/cuda/tests/HelloWorld.cu,
	  src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/simpleMultiGPU.cu: CUDA component update:
	  Support for CUPTI metrics (early release)  This commit adds support
	  for CUPTI metrics, which are higher level measures that may be
	  decompsed into multiple lower level CUPTI events.  Known problems
	  and limitations in early release of metric support * Only sets of
	  metrics and events that can be gathered in a single pass are
	  supported.  Transparent multi-pass support is expected * All
	  metrics are returned as long long integers, which means that CUPTI
	  double precision values will be truncated, possibly severely. * The
	  NVLink metrics have been disabled for this alpha release.

2017-06-23  Vince Weaver <vincent.weaver@maine.edu>

	* src/validation_tests/papi_fp_ops.c: validation: papi_fp_ops, skip
	  (not fail) if PAPI_FP_OPS unavailable
	* src/ctests/Makefile, src/ctests/Makefile.recipies,
	  src/ctests/Makefile.target.in, src/ctests/flops.c: ctests: flops,
	  update to use some of the validate_tests infrastructure
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops_testcode.c,
	  src/validation_tests/papi_fp_ops.c,
	  src/validation_tests/testcode.h: validation_tests: add papi_fp_ops
	  test  tested on an AMD fam15h machine
	* src/components/powercap/tests/powercap_basic.c: powercap: fix
	  compiler warnings in the powercap_basic test
	* src/ctests/flops.c: ctests: update flops test
	* src/ctests/api.c: ctests: update api test  only seems to test the
	  high-level API
	* src/ctests/all_native_events.c: ctests: update all_native_events
	  removed some ancient warnings about uncore/offcore events. Should
	  not be a problem on libpfm4/perf_event
	* src/ctests/all_events.c: ctests: clean up all_events test
	* src/components/appio/tests/appio_list_events.c,
	  src/components/appio/tests/appio_test_blocking.c,
	  .../appio/tests/appio_test_fread_fwrite.c,
	  src/components/appio/tests/appio_test_pthreads.c,
	  src/components/appio/tests/appio_test_read_write.c,
	  src/components/appio/tests/appio_test_recv.c,
	  src/components/appio/tests/appio_test_seek.c,
	  src/components/appio/tests/appio_test_select.c,
	  src/components/appio/tests/appio_test_socket.c,
	  src/components/appio/tests/appio_values_by_code.c,
	  src/components/appio/tests/appio_values_by_name.c,
	  src/components/coretemp/tests/coretemp_basic.c,
	  src/components/coretemp/tests/coretemp_pretty.c,
	  src/components/example/tests/example_basic.c,
	  .../example/tests/example_multiple_components.c,
	  .../host_micpower/tests/host_micpower_basic.c,
	  .../infiniband/tests/infiniband_list_events.c,
	  .../infiniband/tests/infiniband_values_by_code.c,
	  .../tests/infiniband_umad_list_events.c,
	  src/components/libmsr/tests/libmsr_basic.c,
	  src/components/lustre/tests/lustre_basic.c,
	  src/components/micpower/tests/micpower_basic.c,
	  src/components/mx/tests/mx_basic.c,
	  src/components/mx/tests/mx_elapsed.c,
	  src/components/net/tests/net_list_events.c,
	  src/components/net/tests/net_values_by_code.c,
	  src/components/net/tests/net_values_by_name.c,
	  .../perf_event/tests/perf_event_offcore_response.c,
	  .../perf_event/tests/perf_event_system_wide.c,
	  .../perf_event/tests/perf_event_user_kernel.c,
	  .../tests/perf_event_amd_northbridge.c,
	  .../perf_event_uncore/tests/perf_event_uncore.c,
	  .../tests/perf_event_uncore_cbox.c,
	  .../tests/perf_event_uncore_multiple.c,
	  src/components/powercap/tests/powercap_basic.c,
	  src/components/rapl/tests/rapl_basic.c,
	  src/components/rapl/tests/rapl_overflow.c,
	  src/components/stealtime/tests/stealtime_basic.c,
	  src/components/vmware/tests/vmware_basic.c,
	  src/ctests/all_events.c, src/ctests/all_native_events.c,
	  src/ctests/api.c, src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c, src/ctests/branches.c,
	  src/ctests/byte_profile.c, src/ctests/calibrate.c,
	  src/ctests/case1.c, src/ctests/case2.c,
	  src/ctests/clockres_pthreads.c, src/ctests/cmpinfo.c,
	  src/ctests/code2name.c, src/ctests/cycle_ratio.c,
	  src/ctests/data_range.c, src/ctests/derived.c,
	  src/ctests/describe.c, src/ctests/disable_component.c,
	  src/ctests/dmem_info.c, src/ctests/earprofile.c,
	  src/ctests/eventname.c, src/ctests/exec.c, src/ctests/exec2.c,
	  src/ctests/exeinfo.c, src/ctests/first.c, src/ctests/flops.c,
	  src/ctests/fork.c, src/ctests/fork2.c,
	  src/ctests/fork_exec_overflow.c, src/ctests/forkexec.c,
	  src/ctests/forkexec2.c, src/ctests/forkexec3.c,
	  src/ctests/forkexec4.c, src/ctests/get_event_component.c,
	  src/ctests/high-level.c, src/ctests/high-level2.c,
	  src/ctests/hl_rates.c, src/ctests/hwinfo.c, src/ctests/inherit.c,
	  src/ctests/ipc.c, src/ctests/johnmay2.c,
	  src/ctests/krentel_pthreads.c, src/ctests/kufrin.c,
	  src/ctests/locks_pthreads.c, src/ctests/low-level.c, src/ctests
	  /matrix-hl.c, src/ctests/max_multiplex.c, src/ctests/memory.c,
	  src/ctests/mendes-alt.c, src/ctests/multiattach.c,
	  src/ctests/multiattach2.c, src/ctests/multiplex1.c,
	  src/ctests/multiplex1_pthreads.c, src/ctests/multiplex2.c,
	  src/ctests/multiplex3_pthreads.c, src/ctests/nmi_watchdog.c,
	  src/ctests/omptough.c, src/ctests/overflow.c,
	  src/ctests/overflow2.c, src/ctests/overflow3_pthreads.c,
	  src/ctests/overflow_allcounters.c,
	  src/ctests/overflow_force_software.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_one_and_read.c, src/ctests/overflow_pthreads.c,
	  src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/p4_lst_ins.c,
	  src/ctests/profile.c, src/ctests/profile_pthreads.c,
	  src/ctests/profile_twoevents.c, src/ctests/pthrtough.c,
	  src/ctests/pthrtough2.c, src/ctests/realtime.c,
	  src/ctests/remove_events.c, src/ctests/reset.c,
	  src/ctests/reset_multiplex.c, src/ctests/sdsc.c,
	  src/ctests/sdsc2.c, src/ctests/sdsc4.c, src/ctests/second.c,
	  src/ctests/shlib.c, src/ctests/sprofile.c, src/ctests/tenth.c,
	  src/ctests/thrspecific.c, src/ctests/timer_overflow.c,
	  src/ctests/virttime.c, src/ctests/zero.c, src/ctests/zero_attach.c,
	  src/ctests/zero_flip.c, src/ctests/zero_fork.c,
	  src/ctests/zero_named.c, src/ctests/zero_omp.c,
	  src/ctests/zero_pthreads.c, src/ctests/zero_smp.c,
	  src/testlib/papi_test.h, src/testlib/test_utils.c,
	  src/validation_tests/papi_br_ins.c,
	  src/validation_tests/papi_br_msp.c,
	  src/validation_tests/papi_tot_cyc.c,
	  src/validation_tests/papi_tot_ins.c: testlib: remove the "free
	  variables" option from test_pass()  It was only used by a small
	  handfull of tests, and wasn't really strictly necessary anyway.
	  test_pass() should pass the test and that's all.
	* src/ctests/zero.c: ctests: zero: start cleaning up this test
	* src/validation_tests/Makefile.recipies: validation_tests:
	  clock_gettime() requires -lrt on older versions of glibc

2017-06-22  Will Schmidt <will_schmidt@vnet.ibm.com>

	* src/linux-memory.c, src/papi_events.csv: PAPI power9 event list
	  presets  Here is an initial set of events and changes to help
	  support Power9.  This is based on similar changes that were made
	  for power8 when initial support was added there.  I've updated the
	  event names to match what we expect to have in power9, and have
	  done compile/build/ sniff tests.

2017-06-22  Vince Weaver <vincent.weaver@maine.edu>

	* src/ftests/Makefile.target.in: ftests: fortran tests weren't
	  getting the TOPTFLAGS var set
	* src/testlib/test_utils.c: testlib: fix colors not turning off in
	  pass/fail indicator
	* src/ctests/api.c, src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c, src/ctests/inherit.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/ctests/zero_attach.c, src/testlib/papi_test.h,
	  src/testlib/test_utils.c: testlib: update the way pass/fail is
	  printed  It's been bugging me for years that they don't line up
	* src/run_tests.sh: run_tests.sh: run the validation tests too
	* src/Makefile.inc: Makefile.inc: make it compile the
	  validation_tests
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_br_msp.c: validation-tests: add
	  papi_br_msp test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/branches_testcode.c,
	  src/validation_tests/matrix_multiply.c,
	  src/validation_tests/matrix_multiply.h,
	  src/validation_tests/papi_br_ins.c,
	  src/validation_tests/testcode.h: validation_tests: add papi_br_ins
	  test
	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/papi_tot_cyc.c: validation_tests: add
	  papi_tot_cyc test
	* src/Makefile.inc: fix "make install-all"  had some extraneous ".."
	  after some previous changes
	* src/configure, src/configure.in,
	  src/validation_tests/Makefile.target.in,
	  src/validation_tests/papi_tot_ins.c: validation_tests: update
	  configure so it sets up the Makefile
	* src/testlib/papi_test.h, src/testlib/test_utils.c: testlib:
	  papi_print_header() lives with the utils code now
	* src/testlib/papi_test.h, src/testlib/test_utils.c: testlib: make
	  tests_quiet() return an integer  This way we don't have to depend
	  on the global var TESTS_QUIET if we don't want to.
	* src/validation_tests/Makefile,
	  src/validation_tests/Makefile.recipies,
	  src/validation_tests/Makefile.target.in,
	  src/validation_tests/display_error.c,
	  src/validation_tests/display_error.h,
	  src/validation_tests/instructions_testcode.c,
	  src/validation_tests/papi_tot_ins.c,
	  src/validation_tests/testcode.h: validation_tests: add initial
	  papi_tot_ins test  it is not hooked up to the build system yet
	* src/ctests/multiplex1.c, src/ctests/multiplex2.c,
	  src/ctests/second.c, src/ctests/sprofile.c, src/ctests/virttime.c,
	  src/ctests/zero_attach.c, src/ctests/zero_flip.c,
	  src/ctests/zero_fork.c, src/ctests/zero_omp.c,
	  src/ctests/zero_pthreads.c: ctests: more printf/TESTS_QUIET
	  conversions
	* src/testlib/fpapi_test.h: ftests: missing define was making
	  second.F fail
	* src/ctests/johnmay2.c, src/ctests/krentel_pthreads.c,
	  src/ctests/kufrin.c, src/ctests/locks_pthreads.c,
	  src/ctests/memory.c, src/ctests/multiattach.c,
	  src/ctests/multiattach2.c, src/ctests/multiplex1.c: ctests: more
	  printf/TESTS_QUIET fixes

2017-06-21  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/all_events.c, src/ctests/all_native_events.c,
	  src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c, src/ctests/byte_profile.c,
	  src/ctests/calibrate.c, src/ctests/cmpinfo.c,
	  src/ctests/code2name.c, src/ctests/cycle_ratio.c,
	  src/ctests/exeinfo.c, src/ctests/fork_exec_overflow.c,
	  src/ctests/hl_rates.c, src/ctests/hwinfo.c: ctests: explicitly
	  block printfs with TESTS_QUIET  There was some hackery with the
	  preprocessor to avoid this but that wasn't a good solution.
	* src/testlib/do_loops.h, src/testlib/papi_test.h,
	  src/testlib/test_utils.c: testlib: minor papi_test.h cleanups
	* .../perf_event/tests/perf_event_offcore_response.c,
	  .../perf_event/tests/perf_event_system_wide.c,
	  .../perf_event/tests/perf_event_user_kernel.c,
	  .../tests/perf_event_amd_northbridge.c,
	  .../perf_event_uncore/tests/perf_event_uncore.c,
	  .../perf_event_uncore/tests/perf_event_uncore_cbox.c,
	  .../tests/perf_event_uncore_multiple.c, src/ctests/attach2.c,
	  src/ctests/attach3.c, src/ctests/attach_cpu.c,
	  src/ctests/attach_target.c, src/ctests/branches.c,
	  src/ctests/burn.c, src/ctests/byte_profile.c,
	  src/ctests/cycle_ratio.c, src/ctests/derived.c,
	  src/ctests/dmem_info.c, src/ctests/earprofile.c,
	  src/ctests/first.c, src/ctests/high-level.c, src/ctests/inherit.c,
	  src/ctests/johnmay2.c, src/ctests/krentel_pthreads.c,
	  src/ctests/kufrin.c, src/ctests/locks_pthreads.c, src/ctests/low-
	  level.c, src/ctests/matrix-hl.c, src/ctests/memory.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/ctests/multiplex1.c, src/ctests/multiplex1_pthreads.c,
	  src/ctests/multiplex2.c, src/ctests/multiplex3_pthreads.c,
	  src/ctests/overflow.c, src/ctests/overflow2.c,
	  src/ctests/overflow3_pthreads.c, src/ctests/overflow_allcounters.c,
	  src/ctests/overflow_force_software.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_one_and_read.c,
	  src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/p4_lst_ins.c,
	  src/ctests/prof_utils.c, src/ctests/profile.c,
	  src/ctests/profile_twoevents.c, src/ctests/remove_events.c,
	  src/ctests/reset.c, src/ctests/reset_multiplex.c,
	  src/ctests/sdsc.c, src/ctests/sdsc2.c, src/ctests/sdsc4.c,
	  src/ctests/second.c, src/ctests/sprofile.c, src/ctests/tenth.c,
	  src/ctests/zero.c, src/ctests/zero_attach.c,
	  src/ctests/zero_flip.c, src/ctests/zero_fork.c,
	  src/ctests/zero_named.c, src/ctests/zero_omp.c,
	  src/ctests/zero_pthreads.c, src/ctests/zero_shmem.c,
	  src/ctests/zero_smp.c, src/testlib/Makefile,
	  src/testlib/fpapi_test.h, src/testlib/papi_test.h,
	  src/testlib/test_utils.h: testlib: more papi_test.h reduction
	* src/testlib/Makefile: testlib: turn off optimization on the
	  validation loops  it's making tests fail, need to go back and be
	  sure we are properly tricking the compiler.
	* src/Makefile.inc, src/components/Makefile_comp_tests,
	  src/components/perf_event/tests/Makefile,
	  src/components/perf_event_uncore/tests/Makefile,
	  src/components/rapl/tests/Makefile,
	  src/components/rapl/tests/rapl_overflow.c, src/ctests/Makefile,
	  src/ctests/Makefile.recipies, src/ctests/overflow_pthreads.c,
	  src/ctests/profile_pthreads.c, src/ftests/Makefile,
	  src/ftests/Makefile.recipies, src/ftests/Makefile.target.in,
	  src/testlib/Makefile, src/testlib/do_loops.c,
	  src/testlib/do_loops.h, src/testlib/papi_test.h: testlib: start
	  splitting the validation code off from the pass/fail code
	* src/components/perf_event/tests/perf_event_offcore_response.c,
	  src/components/perf_event/tests/perf_event_system_wide.c,
	  src/components/perf_event/tests/perf_event_user_kernel.c, src/compo
	  nents/perf_event_uncore/tests/perf_event_amd_northbridge.c,
	  src/components/perf_event_uncore/tests/perf_event_uncore.c,
	  src/components/perf_event_uncore/tests/perf_event_uncore_cbox.c, sr
	  c/components/perf_event_uncore/tests/perf_event_uncore_multiple.c,
	  src/components/rapl/tests/rapl_basic.c,
	  src/components/rapl/tests/rapl_overflow.c,
	  src/ctests/all_native_events.c, src/ctests/attach2.c,
	  src/ctests/attach3.c, src/ctests/attach_cpu.c,
	  src/ctests/attach_target.c, src/ctests/branches.c,
	  src/ctests/burn.c, src/ctests/byte_profile.c,
	  src/ctests/calibrate.c, src/ctests/case1.c, src/ctests/case2.c,
	  src/ctests/clockres_pthreads.c, src/ctests/cmpinfo.c,
	  src/ctests/code2name.c, src/ctests/cycle_ratio.c,
	  src/ctests/data_range.c, src/ctests/derived.c,
	  src/ctests/describe.c, src/ctests/disable_component.c,
	  src/ctests/dmem_info.c, src/ctests/earprofile.c,
	  src/ctests/eventname.c, src/ctests/exec.c, src/ctests/exec2.c,
	  src/ctests/exeinfo.c, src/ctests/first.c, src/ctests/flops.c,
	  src/ctests/fork.c, src/ctests/fork2.c, src/ctests/forkexec.c,
	  src/ctests/forkexec2.c, src/ctests/forkexec3.c,
	  src/ctests/forkexec4.c, src/ctests/get_event_component.c,
	  src/ctests/high-level.c, src/ctests/high-level2.c,
	  src/ctests/hl_rates.c, src/ctests/hwinfo.c, src/ctests/inherit.c,
	  src/ctests/ipc.c, src/ctests/johnmay2.c,
	  src/ctests/krentel_pthreads.c, src/ctests/kufrin.c,
	  src/ctests/locks_pthreads.c, src/ctests/low-level.c, src/ctests
	  /matrix-hl.c, src/ctests/memory.c, src/ctests/mendes-alt.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/ctests/multiplex1.c, src/ctests/multiplex1_pthreads.c,
	  src/ctests/multiplex2.c, src/ctests/multiplex3_pthreads.c,
	  src/ctests/nmi_watchdog.c, src/ctests/omptough.c,
	  src/ctests/overflow.c, src/ctests/overflow2.c,
	  src/ctests/overflow3_pthreads.c, src/ctests/overflow_allcounters.c,
	  src/ctests/overflow_force_software.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_one_and_read.c, src/ctests/overflow_pthreads.c,
	  src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/p4_lst_ins.c,
	  src/ctests/prof_utils.c, src/ctests/profile.c,
	  src/ctests/profile_pthreads.c, src/ctests/profile_twoevents.c,
	  src/ctests/pthrtough.c, src/ctests/pthrtough2.c,
	  src/ctests/realtime.c, src/ctests/remove_events.c,
	  src/ctests/reset.c, src/ctests/reset_multiplex.c,
	  src/ctests/sdsc.c, src/ctests/sdsc2.c, src/ctests/sdsc4.c,
	  src/ctests/second.c, src/ctests/shlib.c, src/ctests/sprofile.c,
	  src/ctests/tenth.c, src/ctests/thrspecific.c,
	  src/ctests/timer_overflow.c, src/ctests/virttime.c,
	  src/ctests/zero.c, src/ctests/zero_attach.c,
	  src/ctests/zero_flip.c, src/ctests/zero_fork.c,
	  src/ctests/zero_named.c, src/ctests/zero_omp.c,
	  src/ctests/zero_pthreads.c, src/ctests/zero_shmem.c,
	  src/ctests/zero_smp.c, src/testlib/do_loops.c,
	  src/testlib/papi_test.h, src/testlib/test_utils.c: testlib: remove
	  include of papi.h  Need to explicitly include it in your test if
	  you need it.
	* src/testlib/Makefile, src/testlib/do_loops.c,
	  src/testlib/do_loops.h, src/testlib/dummy.c, src/utils/Makefile,
	  src/utils/papi_command_line.c, src/utils/papi_cost.c: utils: remove
	  last uses of testlib
	* src/utils/Makefile, src/utils/papi_hybrid_native_avail.c: utils:
	  update papi_hybrid_native_avail to not depend on testlib
	* src/utils/papi_multiplex_cost.c: utils: clean up
	  papi_multiplex_cost  remove dependeicnes on papi_test.h  print
	  message warning that it can take a long time to run
	* .../perf_event/tests/perf_event_offcore_response.c,
	  .../perf_event/tests/perf_event_system_wide.c,
	  .../perf_event/tests/perf_event_user_kernel.c,
	  .../perf_event_uncore/perf_event_uncore.c,
	  .../tests/perf_event_amd_northbridge.c,
	  .../perf_event_uncore/tests/perf_event_uncore.c,
	  .../tests/perf_event_uncore_cbox.c,
	  .../tests/perf_event_uncore_multiple.c,
	  src/components/rapl/tests/rapl_basic.c,
	  src/components/rapl/tests/rapl_overflow.c,
	  src/ctests/all_native_events.c, src/ctests/attach2.c,
	  src/ctests/attach3.c, src/ctests/branches.c,
	  src/ctests/byte_profile.c, src/ctests/calibrate.c,
	  src/ctests/data_range.c, src/ctests/describe.c,
	  src/ctests/disable_component.c, src/ctests/earprofile.c,
	  src/ctests/exec.c, src/ctests/exec2.c, src/ctests/exeinfo.c,
	  src/ctests/first.c, src/ctests/forkexec.c, src/ctests/forkexec2.c,
	  src/ctests/forkexec3.c, src/ctests/forkexec4.c,
	  src/ctests/get_event_component.c, src/ctests/inherit.c,
	  src/ctests/krentel_pthreads.c, src/ctests/kufrin.c, src/ctests
	  /matrix-hl.c, src/ctests/multiplex1.c,
	  src/ctests/multiplex1_pthreads.c, src/ctests/multiplex2.c,
	  src/ctests/nmi_watchdog.c, src/ctests/overflow_allcounters.c,
	  src/ctests/overflow_force_software.c,
	  src/ctests/overflow_pthreads.c, src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/prof_utils.c,
	  src/ctests/profile_pthreads.c, src/ctests/remove_events.c,
	  src/ctests/reset.c, src/ctests/reset_multiplex.c,
	  src/ctests/sdsc.c, src/ctests/sdsc2.c, src/ctests/sdsc4.c,
	  src/ctests/second.c, src/ctests/shlib.c,
	  src/ctests/timer_overflow.c, src/ctests/zero_named.c,
	  src/testlib/do_loops.c, src/testlib/papi_test.h,
	  src/testlib/test_utils.c, src/utils/Makefile,
	  src/utils/cost_utils.c, src/utils/papi_command_line.c,
	  src/utils/papi_cost.c, src/utils/papi_event_chooser.c: testlib:
	  more header removal from papi_test.h
	* src/components/perf_event/tests/perf_event_system_wide.c,
	  src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/ctests/zero_attach.c, src/testlib/papi_test.h,
	  src/utils/cost_utils.c: testlib: remove a few more includes from
	  papi_test.h
	* src/components/rapl/tests/rapl_basic.c, src/ctests/all_events.c,
	  src/ctests/all_native_events.c, src/ctests/api.c,
	  src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c, src/ctests/attach_target.c,
	  src/ctests/branches.c, src/ctests/burn.c, src/ctests/calibrate.c,
	  src/ctests/case1.c, src/ctests/case2.c,
	  src/ctests/clockres_pthreads.c, src/ctests/code2name.c,
	  src/ctests/cycle_ratio.c, src/ctests/data_range.c,
	  src/ctests/derived.c, src/ctests/describe.c,
	  src/ctests/dmem_info.c, src/ctests/earprofile.c,
	  src/ctests/eventname.c, src/ctests/exec.c, src/ctests/exec2.c,
	  src/ctests/exeinfo.c, src/ctests/flops.c, src/ctests/fork.c,
	  src/ctests/fork2.c, src/ctests/forkexec.c, src/ctests/forkexec2.c,
	  src/ctests/forkexec3.c, src/ctests/forkexec4.c, src/ctests/high-
	  level.c, src/ctests/high-level2.c, src/ctests/hl_rates.c,
	  src/ctests/hwinfo.c, src/ctests/inherit.c, src/ctests/ipc.c,
	  src/ctests/johnmay2.c, src/ctests/kufrin.c,
	  src/ctests/locks_pthreads.c, src/ctests/low-level.c,
	  src/ctests/max_multiplex.c, src/ctests/memory.c,
	  src/ctests/multiattach.c, src/ctests/multiattach2.c,
	  src/ctests/multiplex1.c, src/ctests/multiplex1_pthreads.c,
	  src/ctests/multiplex2.c, src/ctests/multiplex3_pthreads.c,
	  src/ctests/overflow.c, src/ctests/overflow2.c,
	  src/ctests/overflow3_pthreads.c, src/ctests/overflow_allcounters.c,
	  src/ctests/overflow_force_software.c, src/ctests/overflow_index.c,
	  src/ctests/overflow_one_and_read.c, src/ctests/overflow_pthreads.c,
	  src/ctests/overflow_single_event.c,
	  src/ctests/overflow_twoevents.c, src/ctests/p4_lst_ins.c,
	  src/ctests/prof_utils.c, src/ctests/profile.c,
	  src/ctests/profile_pthreads.c, src/ctests/profile_twoevents.c,
	  src/ctests/pthrtough.c, src/ctests/pthrtough2.c,
	  src/ctests/realtime.c, src/ctests/sdsc.c, src/ctests/sdsc2.c,
	  src/ctests/sdsc4.c, src/ctests/second.c, src/ctests/shlib.c,
	  src/ctests/sprofile.c, src/ctests/tenth.c,
	  src/ctests/thrspecific.c, src/ctests/timer_overflow.c,
	  src/ctests/virttime.c, src/ctests/zero.c, src/ctests/zero_attach.c,
	  src/ctests/zero_flip.c, src/ctests/zero_fork.c,
	  src/ctests/zero_omp.c, src/ctests/zero_pthreads.c,
	  src/ctests/zero_shmem.c, src/ctests/zero_smp.c,
	  src/testlib/do_loops.c, src/testlib/dummy.c,
	  src/testlib/papi_test.h, src/testlib/test_utils.c,
	  src/utils/papi_command_line.c, src/utils/papi_cost.c: testlib:
	  split some headers out of papi_test.h  Too much is going on in that
	  header, no need to have every include in the world in it.  Trying
	  to make the testcode more standalone so it is easier to follow.
	* src/testlib/Makefile, src/testlib/Makefile.target.in: testlib: let
	  testlib build properly from within the testlib directory
	* src/testlib/clockcore.c: testlib: clockcore wasn't protecting all
	  the output with !quiet
	* src/ctests/Makefile: ctests: make sure tests link against the right
	  papi.h file
	* src/Makefile.inc, src/ctests/Makefile,
	  src/ctests/Makefile.target.in: ctests: allow running "make" in the
	  ctests directory to work

2017-06-20  Vince Weaver <vincent.weaver@maine.edu>

	* src/Matlab/PAPI_Matlab.readme, src/papi.c, src/utils/papi_avail.c,
	  src/utils/papi_clockres.c, src/utils/papi_command_line.c,
	  src/utils/papi_component_avail.c, src/utils/papi_cost.c,
	  src/utils/papi_decode.c, src/utils/papi_error_codes.c,
	  src/utils/papi_event_chooser.c,
	  src/utils/papi_hybrid_native_avail.c, src/utils/papi_mem_info.c,
	  src/utils/papi_multiplex_cost.c, src/utils/papi_native_avail.c,
	  src/utils/papi_version.c, src/utils/papi_xml_event_info.c: update
	  the ptools-perfapi e-mail address  in the auto-generated manpages
	  it was still using the old ptools.org address.
	* doc/Makefile: docs: fix the manpage build after renaming the utils
	  Thanks to Steve Kaufmann for catching this.
	* src/utils/Makefile, src/utils/papi_native_avail.c: utils:
	  papi_native_avail: remove extraneous testing code
	* src/utils/Makefile, src/utils/papi_mem_info.c: utils:
	  papi_mem_info: remove extraneous test code
	* src/utils/Makefile, src/utils/papi_xml_event_info.c: utils:
	  papi_xml_event_info: remove extraneous test code
	* src/utils/Makefile, src/utils/papi_decode.c: utils: papi_decode:
	  remove extraneous test code
	* src/utils/Makefile, src/utils/papi_error_codes.c: utils:
	  papi_error_codes: remove extraneous test code
	* src/utils/Makefile, src/utils/papi_component_avail.c: utils:
	  papi_component_avail: remove extraneous test code
	* src/ctests/clockres_pthreads.c, src/testlib/clockcore.c,
	  src/testlib/clockcore.h, src/testlib/papi_test.h,
	  src/utils/Makefile, src/utils/papi_clockres.c: utils:
	  papi_clockres, remove extraneous test code
	* src/utils/Makefile, src/utils/papi_avail.c,
	  src/utils/print_header.c, src/utils/print_header.h: utils: update
	  papi_avail to not depend on testlibs  It's not a test.
	* src/utils/Makefile: utils: add target for papi_hybrid_native_avail
	  do not build it by default though?  Should only be built if
	  compiling for MIC?
	* src/utils/Makefile, src/utils/avail.c, src/utils/clockres.c,
	  src/utils/command_line.c, src/utils/component.c, src/utils/cost.c,
	  src/utils/decode.c, src/utils/error_codes.c,
	  src/utils/event_chooser.c, src/utils/event_info.c,
	  src/utils/hybrid_native_avail.c, src/utils/mem_info.c,
	  src/utils/multiplex_cost.c, src/utils/native_avail.c,
	  src/utils/papi_avail.c, src/utils/papi_clockres.c,
	  src/utils/papi_command_line.c, src/utils/papi_component_avail.c,
	  src/utils/papi_cost.c, src/utils/papi_decode.c,
	  src/utils/papi_error_codes.c, src/utils/papi_event_chooser.c,
	  src/utils/papi_hybrid_native_avail.c, src/utils/papi_mem_info.c,
	  src/utils/papi_multiplex_cost.c, src/utils/papi_native_avail.c,
	  src/utils/papi_xml_event_info.c: utils: rename the utils so the
	  executable matches the filename  This has bothered me for years,
	  you want to fix "papi_native_avail" but there is no file in the
	  tree called "papi_native_avail.c"
	* src/utils/Makefile, src/utils/papi_version.c, src/utils/version.c:
	  utils: rename version.c to papi_version.c  Also minor cleanups to
	  the utility.
	* src/Makefile.inc, src/configure, src/configure.in,
	  src/utils/Makefile, src/utils/Makefile.target.in: utils: clean up
	  Makefile and build process of utils  Now should be able to run
	  "make" in the utils subdir and have it build.  Also move the list
	  of util files to build out of configure as I don't think there's
	  any reason for having them there.
	* src/components/perf_event/pe_libpfm4_events.c: perf: fall back to
	  operating system default events if libpfm4 lacks support  This will
	  allow use of PAPI on machines that Linux has support for, but
	  libpfm4 has not added events yet.  Still some limitations, for
	  example the PAPI preset events won't work.
	* src/components/perf_event/pe_libpfm4_events.c,
	  src/components/perf_event/perf_event.c: perf: report better errors
	  if libpfm4 initialization fails
	* src/components/perf_event/pe_libpfm4_events.c: perf:
	  pe_libpfm4_events: minor whitespace fixup
	* src/components/perf_event/pe_libpfm4_events.c: perf:
	  pe_libpfm4_events: whitespace changes to make code easier to follow

2017-06-19  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/code2name.c: ctests/code2name: fix uninitialized
	  variable warning
	* src/ctests/calibrate.c: ctests/calibrate: fix uninitialized
	  variable warning
	* src/ctests/thrspecific.c: ctests: thrspecific fix so it finishes
	  It's actually really unclear what this code is trying to test, but
	  with optimization enabled it hung forever.  Marking the variable
	  being spun on as volatile fixes things but I think there is more
	  wrong with the test than just that.
	* src/ctests/branches.c, src/ctests/sdsc.c, src/ctests/sdsc4.c:
	  ctests: fix tests using "dummy3()" as a workload  Now that we
	  enable optimization on the ctests this breaks some of the
	  benchmarks.  dummy3() was being optimized away which caused
	  segfaults and other problems.  The tests don't crash now, but they
	  still fail.  Still investigating.

2016-10-12  Phil Mucci <phil@minimalmetrics.com>

	* src/configure: Regenerated configure with recent autoconf
	* src/configure.in: By default, we want -O1 on tests (TOPTFLAGS). -O0
	  is too literal and causes a number of tests who depend on peephole
	  optimization to run.
	* src/utils/Makefile: Utils are installed therefore they should be
	  built with production flags not test/debug flags
	* src/Makefile.inc: Make clean should not clean up libpfm. Thats for
	  make distclean. We're not developing libpfm!

2016-07-04  Phil Mucci <phil@minimalmetrics.com>

	* src/ctests/mendes-alt.c, src/ctests/zero.c: Moved functions
	  definitions to top of file to eliminate non-ANSI-C prototypes
	  inside main. Modified message in zero to not turbo boost will also
	  cause errors (cycles > real-time-cycle
	* src/Makefile.in, src/Makefile.inc, src/configure, src/configure.in:
	  Remove EXTRA_CFLAGS, now CFLAGS. Added FTOPTS so compiling Fortran
	  tests have same flags as ctests. Fix proper testing at configure
	  time of libpfm for proper combinations of libpfm options
	* src/ftests/Makefile: Homogenize include flags
	* src/ctests/Makefile: Homogenize include flags
	* src/testlib/Makefile: Removed unnecessary defs and options
	* src/utils/Makefile: Removed unnecessary definitions and compiler
	  options

2016-07-01  Phil Mucci <phil@minimalmetrics.com>

	* src/Makefile.in, src/Makefile.inc, src/Rules.perfctr-pfm,
	  src/Rules.perfmon2, src/Rules.pfm4_pe,
	  src/components/Makefile_comp_tests.target.in,
	  src/components/perf_event/pe_libpfm4_events.c, src/configure,
	  src/configure.in, src/ctests/Makefile,
	  src/ctests/Makefile.target.in, src/ftests/Makefile,
	  src/ftests/Makefile.target.in: Makefile.in: - Removed DEBUGFLAGS,
	  NOTLS, PAPI_EVENTS_TABLE from being generated. These were not
	  properly used. - Added LIBCFLAGS generated from configure for
	  CFLAGS that ONLY apply to the library and the library code. NOT
	  tests nor utilities. Previously we were propagating all kinds of
	  bogus flags to the tests and utils. - CFLAGS is now properly set
	  for compiler flags not defines etc.  Makefile.inc: - Put
	  papi_events_table.h in the right place. This is always the same
	  name. Previous attempts at parameterizing this were broken and/or
	  unnecessary. - Added dependency for the above in the right place
	  and ALWAYS generate it, regardless of whether we actually include
	  it in the library (vs load the CSV at runtime).  Rules.perfctr-pfm
	  - Removed conditional removal of events table during clean.
	  Rules.perfmon2 - Removed conditional removal of events table during
	  clean.  Rules.pfm4_pe - Stopped mussing with CFLAGS which would
	  pollute child builds but refer to LIBCFLAGS. CFLAGS is for
	  everything! - Removed conditional removal of events table during
	  clean. - Removed duplicate reference to papi_events_table.h
	  components/perf_event/pe_libpfm4_events.c: - Removed HARDCODED
	  include of a libpfm4 private header file. Wrong path and
	  unnecessary include. This would break if you linked against another
	  libpfm using any of the config options.
	  components/perf_event/peu_libpfm4_events.c: - Removed HARDCODED
	  include of a libpfm4 private header file. Wrong path and
	  unnecessary include. This would break if you linked against another
	  libpfm using any of the config options.
	  components/Makefile_comp_tests.target.in: - Refer to datarootdir to
	  make autoconf happy  configure/configure.in: Regenerated using
	  autoconf 2.69 and many modifications to serious brokennesss. Lots
	  of fixes: - Sanitize options for static inclusion of user and papi
	  presets - Fix options that do not print out a result - Fix
	  debug=yes to not include PAPI_MEMORY_MANAGEMENT. That's only
	  enabled with debug=memory. This will reduce false positives when we
	  debug. We don't want our own malloc/free changing behavior when we
	  are trying to debug! - Fix CFLAGS/LIBCFLAGS/DEBUGFLAGS. configure
	  now exports a variable called PAPICFLAGS which gets stuffed into
	  LIBCFLAGS in Makefile.in. This variable IS ONLY for compiler flags
	  relevant to the library. Previously we were exporting all sorts of
	  stuff that would make our passes behave differently that user code.
	  _GNU_SOURCE and -D_REENTRANT. That stuff is for the library and
	  components. Not user code. - Update compile tests to use
	  AC_LANG_SOURCE as required. - Fix clock timer checking output to
	  now say what timer we picked instead of just skipping an answer -
	  Same for virtual clock timer - Remove broken --with-papi-events
	  option. - Fixed --with-static-tools option - Fixed/added --with-
	  static-papi-events option (default) and --with-static-user-events
	  option. - Fixed modalities of configuring whether to build a
	  static/shared or both. - Fixed link of tests with shared libraries
	  when above options don't support it. Modality again. Remove
	  SETPATH/LIBPATH define, which won't work for ANY combination of
	  --with-pfm-prefix/root/libdir except our included library. Woefully
	  broken and would result in many false positive failures. If you are
	  going to run the tests on the shared library it is now the users
	  responsibility to set LD_LIBRARY_PATH/LIBPATH correctly. I suspect
	  this may irritate some, but broken 90% of the time is no excuse for
	  correct 10% of the time especially when it could generate bug
	  reports falsely. - Fixed with-static-tools, with-shlib-tools
	  options to correct modalities. - Fixed all modalities with --with-
	  pfm-prefix/root/libdir/incdir. Previously the build, configure and
	  source files were still referring to pieces of code INSIDE our
	  libpfm4 resulting in version skew and breakage. The way to test
	  this stuff is to use --root or --prefix after removing the internal
	  libpfm4 library. - Removed unnecessary and confusing
	  force_pfm_incdir - Fixed with-pe-incdir option which, like before
	  was most of the time referring to the libpfm4 included header file.
	  Not good if one has a custom kernel! PECFLAGS now only appended to
	  PAPICFLAGS(LIBCFLAGS). - Removal of DEBUGFLAGS. aix.c needs
	  testing. Anyone have one? - Fixed CFLAGS for BSD - Add message for
	  papi_events.csv  ctests/Makefile ftests/Makefile - Don't redefine
	  CC/CC_R/CFLAGS/FFLAGS. - Make these files consistent
	  ctests/Makefile.target.in ftests/Makefile.target.in - refer to
	  datarootdir as required

2016-06-27  Phil Mucci <phil@minimalmetrics.com>

	* src/testlib/Makefile, src/testlib/Makefile.target.in: Added
	  explicit target for libtestlib.a. The all target should have been
	  markted as .PHONY as to avoid constant rebuilding.  Also, we really
	  should merge these two files into a master and an include.
	  Maintaining two makefiles stinks!

2017-06-16  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_fwrappers.c: fwrappers: papif_unregister_thread was
	  misspelled as papif_unregster_thread  This was noticed by Vedran
	  Novakovic  For an extremely long time (10+ years?) the fortran
	  wrapper was misspelled as papif_unregster_thread()  It's probably
	  too late to fix this without potentially breaking things, so just
	  add a duplicate function with the proper spelling and leave the old
	  one too.
	* src/papi_preset.c: papi_preset: fix compiler warning  This really
	  confusing warning has been around for a while.  gcc-6.3 reports it
	  in a really odd way:  papi_preset.c: In function
	  check_derived_events: papi_preset.c:513:19: warning:
	  __s may be used uninitialized in this function$ int val =
	  atoi(&subtoken[1]); ^~~~~~~~~~~~ papi_preset.c:464:1: note:
	  __s was declared here ops_string_merge(char **original, char
	  *insertion, int replaces, int start_ind$ ^~~~~~~~~~~~~~~~  But
	  there is no __s variable, or anything to do with where the arrows
	  are pointing.  gcc-5 gives a better warning:  papi_preset.c: In
	  function check_derived_events: papi_preset.c:513:14: warning:
	  tok_save_ptr may be used uninitialized in this$ int val =
	  atoi(&subtoken[1]); ^ papi_preset.c:472:8: note: tok_save_ptr
	  was declared here char *tok_save_ptr;  So the thing it seems to be
	  complaining about is that the *saveptr paramater to strtok_r() is
	  not set to NULL.  According to the manpage I don't think this
	  should be needed? But I think it should be safe to initialize it
	  anyway.

Tue Jun 6 11:09:17 2017 -0500  Will Schmidt <will_schmidt@vnet.ibm.com>

	* src/libpfm4/lib/events/power9_events.h,
	  src/libpfm4/perf_examples/self_count.c,
	  src/libpfm4/tests/validate_power.c: Update libpfm4  Current with
	  commit ce5b320031f75f9a9881333c13902d5541f91cc8  add power9 entries
	  to validate_power.c  Hi,  Update the validate_power test to include
	  power9 entries.  sniff-test run output: $ ./validate Libpfm
	  structure tests: libpfm ABI version : 0 pfm_pmu_info_t : Passed
	  pfm_event_info_t : Passed pfm_event_attr_info_t : Passed
	  pfm_pmu_encode_arg_t : Passed pfm_perf_encode_arg_t : Passed Libpfm
	  internal table tests: <snip...> checking power9 (946 events):
	  Passed Architecture specific tests: 20 PowerPC events: 0 errors All
	  tests passed

2017-06-15  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/pe_libpfm4_events.c,
	  src/components/perf_event/pe_libpfm4_events.h,
	  .../perf_event_uncore/Rules.perf_event_uncore,
	  .../perf_event_uncore/perf_event_uncore.c,
	  .../perf_event_uncore/peu_libpfm4_events.c,
	  .../perf_event_uncore/peu_libpfm4_events.h: perf_event: merge the
	  libpfm4 helper libraries  perf_event and perf_event_uncore had
	  their own almost exactly the same libpfm4 helper libraries.
	  Maintaining both was a chore, and it looks like it is possible to
	  just share one copy.  This does mean that it is now not possible to
	  configure the perf_event_uncore component without perf_event being
	  enabled, but I am not sure if that was even possible to begin with.
	* src/components/perf_event/pe_libpfm4_events.c,
	  .../perf_event_uncore/perf_event_uncore.c,
	  .../perf_event_uncore/peu_libpfm4_events.c,
	  .../perf_event_uncore/peu_libpfm4_events.h: perf_event_uncore: make
	  the libpfm4 routines match even more
	* src/components/perf_event/pe_libpfm4_events.c,
	  .../perf_event_uncore/peu_libpfm4_events.c: perf_event: make
	  perf_event and perf_event uncore libpfm4 more similar  it's a bad
	  idea to have more or less two copies of the same code
	* src/components/perf_event/pe_libpfm4_events.c,
	  .../perf_event_uncore/peu_libpfm4_events.c: perf_event: Avoid
	  unintended libpfm build dependency due to PFM_PMU_MAX enum  This
	  patch is based on one sent by William Cohen <wcohen@redhat.com>
	  The libpfm pfmlib.h file enumerates the each of performance
	  monitoring units (PMUs) it can program in pfm_pmu_t type.  The last
	  enum in this type is PFM_PMU_MAX.  Depending on which specific
	  version of libpfm being used this specific value could vary.  The
	  problem is that PFM_PMU_MAX is statically defined in the pfmlib.h
	  file and this was being used as a loop bounds when iterating to
	  determine which PMUs are potentially available.  If PAPI was built
	  with an older version of libpfm and then run with a newer libpfm
	  shared library on a machine with a larger PFM_PMU_MAX value, none
	  of the PMUs past the smaller PFM_PMU_MAX used for the the build
	  would be examined or enabled.

2017-06-15  Heike Jagode (jagode@icl.utk.edu) <jagode@d00.descartes>

	* src/components/infiniband/linux-infiniband.c: Updated infiniband
	  component so that it works for mofed driver version 4.0, where
	  directory counters_ext in sysfs fs has changed to hw_counters.
	  This update to the component makes it work for both directory
	  names: - counters_ext for mofed driver version <4.0, and -
	  hw_counters for mofed driver version =>4.0  This change has not
	  been fully tested yet due to missing access to machine with updated
	  version of mofed driver. (CORAL machines will have an updated
	  version of this driver.)

2017-05-04  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/rapl/linux-rapl.c: rapl: broadwell-ep DRAM units are
	  special (like Haswell-EP)  The Linux kernel perf interface had this
	  wrong too.  I noticed this in my cluster computing classs, the
	  Broadwell-EP DRAM results were unrealistically high values.

Fri Apr 21 17:33:15 2017 -0700  William Cohen <wcohen@redhat.com>

	* src/libpfm4/README, src/libpfm4/include/perfmon/pfmlib.h,
	  src/libpfm4/lib/Makefile, src/libpfm4/lib/events/power9_events.h,
	  src/libpfm4/lib/pfmlib_common.c, src/libpfm4/lib/pfmlib_power9.c,
	  src/libpfm4/lib/pfmlib_power_priv.h, src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/lib/pfmlib_s390x_cpumf.c: Update libpfm4\n\nCurrent
	  with\n commit 8385268c98553cb5dec9ca86bbad3e5c44a2ab16  fix
	  internal pfm_event_attr_info_t use for S390X  Commit 321133e
	  converted most of the architectures to use the internal
	  perflib_event_attr_info_t type.  However, the s390 was missed in
	  that previous commit.  This patch corrects the issue so libpfm
	  compiles on s390.

2017-04-20  Stephen Wood <swood@icl.utk.edu>

	* src/extras.c, src/papi.h, src/papi_fwrappers.c, src/papi_hl.c,
	  src/papi_internal.c: cast pointers appropriately to avoid warnings
	  and errors

2017-04-19  Sangamesh Ragate <sragate@minotaur.nic.uoregon.edu>

	* src/papi_events.csv: Mapped PAPI_L2_ICM preset event to
	  PM_INST_FROM_L2MISS native event for Power8

2017-04-06  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/ftests/fmatrixlowpapi.F: Fixed: This fortran test exceeded 72
	  columns and made the default Intel ifort compilation unhappy

Wed Apr 5 23:35:44 2017 -0700  Andreas Beckmann <a.beckmann@fz-juelich.de>

	* src/libpfm4/docs/man3/libpfm_arm_ac53.3,
	  src/libpfm4/docs/man3/libpfm_arm_ac57.3,
	  src/libpfm4/docs/man3/libpfm_arm_xgene.3, src/libpfm4/lib/Makefile,
	  src/libpfm4/lib/events/arm_cortex_a53_events.h,
	  src/libpfm4/lib/events/intel_glm_events.h,
	  src/libpfm4/lib/events/intel_hswep_unc_imc_events.h,
	  src/libpfm4/lib/events/intel_ivbep_unc_imc_events.h,
	  src/libpfm4/lib/events/intel_knl_events.h,
	  src/libpfm4/lib/events/intel_knl_unc_cha_events.h,
	  src/libpfm4/lib/events/power4_events.h,
	  src/libpfm4/lib/events/ppc970_events.h,
	  src/libpfm4/lib/events/ppc970mp_events.h,
	  src/libpfm4/perf_examples/self_smpl_multi.c: Update
	  libpfm4\n\nCurrent with\n commit
	  71a960d9c17b663137a2023ce63edd2f3ca115f5  fix various event
	  description typos  This patch fixes the typos in several event
	  description for Intel, Arm, and Power event tables.

2017-03-30  William Cohen <wcohen@redhat.com>

	* src/ftests/cost.F, src/ftests/first.F, src/ftests/fmatrixlowpapi.F,
	  src/ftests/second.F: Eliminate warnings about implicit type
	  conversions in Fortran tests  The gfortran compiler on Fedora 25
	  was giving warnings indicating that a few of the tests were doing
	  implicit type convertion between reals and ints.  Those implicit
	  conversions have been made explicit to elminate the fortran
	  compiler warning messages.

Tue Apr 4 09:42:25 2017 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/include/perfmon/pfmlib.h,
	  src/libpfm4/lib/pfmlib_amd64.c,
	  src/libpfm4/lib/pfmlib_amd64_priv.h, src/libpfm4/lib/pfmlib_arm.c,
	  src/libpfm4/lib/pfmlib_arm_priv.h, src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_netburst.c,
	  src/libpfm4/lib/pfmlib_intel_nhm_unc.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc_priv.h,
	  src/libpfm4/lib/pfmlib_intel_x86.c,
	  src/libpfm4/lib/pfmlib_intel_x86_perf_event.c,
	  src/libpfm4/lib/pfmlib_intel_x86_priv.h,
	  src/libpfm4/lib/pfmlib_mips.c, src/libpfm4/lib/pfmlib_mips_priv.h,
	  src/libpfm4/lib/pfmlib_perf_event.c,
	  src/libpfm4/lib/pfmlib_perf_event_pmu.c,
	  src/libpfm4/lib/pfmlib_perf_event_raw.c,
	  src/libpfm4/lib/pfmlib_power_priv.h,
	  src/libpfm4/lib/pfmlib_powerpc.c, src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/lib/pfmlib_sparc.c,
	  src/libpfm4/lib/pfmlib_sparc_priv.h,
	  src/libpfm4/lib/pfmlib_torrent.c, src/libpfm4/tests/validate.c,
	  src/libpfm4/tests/validate_x86.c: Update libpfm4\n\nCurrent with\n
	  commit 5e311841e5d70efb93d11826109cb5acab6e051c  enable 38-bit raw
	  umasks for Intel offcore_response events  This patch enables
	  support for passing and encoding of 38-bit offcore_response matrix
	  umask. Without the patch, the raw umask was limited to 32-bit which
	  is not enough to cover all the possible bits of the
	  offcore_response event available since Intel SandyBridge.  $
	  examples/check_events offcore_response_0:0xffffff Requested Event:
	  offcore_response_0:0xffffff Actual    Event:
	  ivb::OFFCORE_RESPONSE_0:0xffffff:k=1:u=1:e=0:i=0:c=0:t=0 PMU
	  : Intel Ivy Bridge IDX            : 155189325 Codes          :
	  0x5301b7 0xffffff  The patch also adds tests to the validation
	  code.

2017-03-29  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perfctr/perfctr-x86.c: perfctr: fix perfctr
	  component to actually work  Simple one-line typo means perfctr was
	  not working, probably for years.  I've tested on a 2.6.32-perfctr
	  kernel and it works again.

2017-03-28  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: add AMD fam16h jaguar events
	  These will become useful if/when the contributed libpfm4 jaguar
	  patches get applied.

2017-03-27  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: events: p4: change the PAPI_TOT_CYC event
	  PAPI_TOT_CYC wasn't working on Pentium4 because the
	  GLOBAL_POWER_EVENT:RUNNING event was being grabbed by the hardware
	  watchdog.  perf cycles:u was still working, that's because the
	  kernel transparently remaps the cycles event to an alias when
	  global_power_event's slot is taken.  The aliased event is the
	  unwieldly: execution_event:nbogus0:nbogus1:nbogus2:nbogus3:bogus0:b
	  ogus1:bogus2:bogus3:cmpl:thr=15 which does seem to give the right
	  results.  Use this event instead by default on Pentium 4
	* src/components/perf_event/perf_event.c: perf_event: fix warning
	  when compiling with debug enabled  the flags field is an unsigned
	  long, not an int

2017-03-22  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: don't allocate
	  a mmap page if not rdpmc or sampling
	* src/components/perf_event/perf_event.c: perf_event: only allocate 1
	  mmap page (rather than 3) if not sampling  Next step is to allocate
	  0 mmap pages unless rdpmc is enabled
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_event_lib.h: perf_event: update the
	  _pe_set_overflow() call  Working on making it more obvious which
	  events are sampling (and thus need mmap buffers) or not.  Also
	  there were some bugs in the handling of having multiple overflow
	  sources per eventset, though I'm not sure if PAPI actually handles
	  that.
	* src/components/perf_event/perf_event.c: perf_event: turn off
	  fast_counter_read if mmaps fail  By default on Linux perf_event
	  can't use more than 516kB of mmap space.  So perf_event-rdpmc would
	  fail after you added a large number (>32) of events.  This shows up
	  on the kufrin benchmark on some machines.  This fix makes PAPI fall
	  back to non-rdpmc if an mmap error happens. I'm also going to try
	  to tune the mmap usage a bit to make the limits a bit higher.

2017-03-21  Asim YarKhan <yarkhan@icl.utk.edu>

	* src/configure: configure script updated using autoconf-2.59

2017-03-20  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c, src/configure.in:
	  configure: enable rdpmc with --enable-perfevent-rdpmc=yes  Make
	  this an option to configure.  Defaults to no.  Need to find a
	  machine with autoconf 2.59 on and I'll regenerate configure as
	  well.

2017-03-16  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: try to work
	  around exclude_guest issue  run a test at startup to see if events
	  with exclude_guest fail.  libpfm4 sets this by default, but older
	  kernels will fail because this was previously a reserved (must be
	  zero) field.

2017-03-14  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/multiattach.c: tests: multiattach:
	  whitespace/comments/clarifications  digging through the code trying
	  to figure out why it fails with rdpmc enabled.  it turns out it is
	  seeing wrong running/enabled multiplexing results even though we
	  aren't multiplexing  tracking this down is a pain because we can't
	  strace/ltrace due to the code using ptrace to start/stop processes.

2017-03-09  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: can't mmap() an
	  inherited event  this is why the inherit test was failing
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_helpers.h: perf_event: add rdpmc
	  support (but disabled)  finally add the rdpmc code, but it still
	  fails on a few tests so it is disabled by default.
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_event_lib.h: perf_event: make all
	  events come with a mmap buffer  This wastes some address space, but
	  having separate codepaths for rdpmc/regular/sampling/profiling
	  would be hard to maintain.  Had to remove some assumptions from the
	  profiling/sampling code that mmap_buf means sampling is happening.
	* src/components/perf_event/perf_event.c: perf_event: add check for
	  paranoid==3  Recent distributions are *completely* disablng
	  perf_event by default with their vendor kernels (this is not
	  upstream yet).  Have PAPI detect and disable the perf_event
	  component if this is detected.
	* src/components/perf_event/perf_event.c: perf_event: split
	  close_pe_events() into two functions
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_helpers.h: perf_event: more
	  whitespace / rearrangement  should not be any changes to actual
	  code, is just whitespace/comment/function movement  I know changes
	  like this make the git history harder to follow, but it really
	  helps when trying to follow the code when working on major changes.

2017-03-08  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: more
	  whitespace/comment cleanups  digging through the code, still
	  prepping for rdpmc

2017-03-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_helpers.h: perf_event: rdpmc: need
	  to sign extend offset too  Otherwise things stop working after a
	  PAPI_reset()
	* src/components/perf_event/perf_event.c: perf_event: split up
	  _pe_read()  makes the code a bit easier to follow.  also prep for
	  rdpmc()
	* src/components/perf_event/perf_event.c: perf_event: clean up
	  whitespace in _pe_read

2017-03-08  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/first.c: ctests: first: white space cleanups  minor
	  things noticed when trying to figure out why it was failing with
	  rdpmc (the answer was rdpmc code not handling PAPI_reset())

2017-03-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_helpers.h: perf_event: recent
	  changes broke build on non-x86  an ifdef was in the wrong location.
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_helpers.h: perf_event: update rdpmc
	  detection
	* src/utils/component.c: utils: component_avail: clean up -d
	  (detailed) results  print rdpmc status, as well as line things up.
	  Also don't print redundant info, now that a lot more fields are
	  printed by default.
	* src/utils/component.c: utils: component_avail: whitespace/grammar
	  fixes
	* src/components/perf_event/Rules.perf_event,
	  src/components/perf_event/perf_helpers.h: perf_event: add
	  mmap/rdpmc routine  we don't use it yet

2017-03-06  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_helpers.h: perf_event: add rdtsc()
	  and rdpmc() inline-assembly
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_helpers.h: perf_event: move
	  perf_event_open() code to a helper file  We'll be adding some other
	  helpers to this file too.

2017-03-03  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c: perf_event: move
	  bug_sync_read() check out of line  we should eventually just phase
	  out a lot of these checks for older kernels, but it gets tricky as
	  long as RHEL is shipping 2.6.32.  With this change on my IVB
	  machine PAPI_read() cost went from mean cycles  : 932.158549
	  std deviation: 358.752461 to mean cycles  : 896.642644       std
	  deviation:    305.568268
	* src/components/perf_event/pe_libpfm4_events.c,
	  src/components/perf_event/pe_libpfm4_events.h,
	  src/components/perf_event/perf_event.c: perf_event: remove
	  _pe_libpfm4_get_cidx() helper function  easier to explicitly pass
	  it to the libpfm4 event code
	* src/components/perf_event/perf_event_lib.h: perf_event: wakeup_mode
	  field is no longer used
	* src/components/perf_event/perf_event.c: perf_event: remove
	  WAKEUP_MODE_ defines  These date back to initial perf_event
	  support, but were never used.  Probably were meant in case advanced
	  sampling/profiling was ever implemented, but it wasn't.
	* src/components/perf_event/perf_event.c: perf_event.c: split
	  setup_mmap() to its own function  non-sampling events will need to
	  have mmap buffers when we move to rdpmc()
	* src/components/perf_event/perf_event.c: perf_event: rename
	  tune_up_fd to configure_fd_for_sampling  makes it a bit more clear
	  what is going on
	* src/components/perf_event/perf_event.c: perf_event: remove
	  extraneous whitespace

2017-02-24  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/cost.c: papi_cost: wasn't properly resetting the event
	  search after POSTFIX  This means some architectures could have
	  skipped the ADD/SUB test even though such events were available.

Wed Feb 22 01:16:42 2017 -0800  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/lib/events/intel_bdw_events.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/pfmlib_intel_rapl.c,
	  src/libpfm4/tests/validate_x86.c: Update libpfm4\n\nCurrent with\n
	  commit 1bd352eef242f53e130c3b025bbf7881a5fb5d1e  update Intel RAPL
	  processor support  Added Kabylake, Skylake X  Added PSYS RAPL event
	  for Skylake client.

2017-02-17  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/cost.c: papi_cost: clear eventset before derived add test
	  we weren't clearing the eventset after the derived postfix test to
	  the add test was actually measuring two derived events.  This was
	  noticed on broadwell-ep where papi_cost would fail due to the lack
	  of enough counters to have both the postfix and add events at the
	  same time.

2017-01-23  Asim YarKhan <yarkhan@icl.utk.edu>

	* RELEASENOTES.txt: Fixing the date in the RELEASENOTES file.
2019-02-17  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/attach_cpu_sys_validate.c,
	  src/ctests/attach_cpu_validate.c: ctests: attach_cpu_*validate: fix
	  buffer overrun  embarassing bug, on systems with more than 16 cores
	  was running off the end of a buffer.  Oddly this did not fail on my
	  debian system with 32 cores.

2019-02-15  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/validation_tests/papi_tot_cyc.c: Added a 'priming' call of the
	  naive matrix multiply, before counting the cycles on the second
	  call. This is to overcome any first-time system overhead in the
	  procedure, like loading the program, so the cycles will better
	  match the 3rd and 4th calls. This corrects an error (and failure of
	  the test) in which the first call to the routine takes over 10%
	  more cycles to complete than the subsequent calls.
	* src/testlib/test_utils.c: Added new message to test_fail, so users
	  will not think a test failure means their PAPI install is unusable,
	  or that the failure should be reported to the PAPI development
	  team.
	* src/run_tests_exclude.txt: Added new memleak_check.c in
	  validation_tests; it is not a standalone test, but a utility to be
	  run by valgrind when checking for memory leaks.
	* release_procedure.txt: Release guidance improved with more details
	  on testing.

2019-02-11  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/ctests/zero.c, src/validation_tests/cycles_validation.c: Fixed
	  warnings detected by clang. Replaced abs with llabs.
	* src/components/coretemp_freebsd/coretemp_freebsd.c: Fixed unused
	  warnings.

2019-02-08  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: revert change that
	  repaired a memory leak; it caused a problem with ARM systems, per
	  Vince Weaver.

2019-02-08  Vince Weaver <vincent.weaver@maine.edu>

	* src/linux-common.c: arm64: update the ARM family configuration to
	  work with newer Linux kernels.  As of Linux-3.19 the "CPU
	  architecture" field in /proc/cpuinfo changed from "AArch64" to "8".
	  Update the code so it properly falls back in this situation.
	  Reported-by: Al Grant <algrant109@gmail.com>

2019-02-08  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/components/nvml/tests/Makefile: Fixed linking error.
	* src/components/nvml/linux-nvml.c: Fixed "this statement may fall
	  through" warning.
	* src/components/pcp/tests/testPCP.c: Fixed sprintf warnings by
	  replacing them with the safer method snprintf.
	* src/components/coretemp/linux-coretemp.c: Fixed warning: '%s'
	  directive output may be truncated.  Newer versions of gcc are more
	  strict with regards to return values of snprintf(), so check the
	  values.

2019-02-07  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/papi_internal.c: After PAPI_shutdown free(_papi_native_events);
	  must reset variables and counts to ensure next PAPI_library_init()
	  from same code will realloc() and rebuild the table.
	* src/libpfm4/Makefile, src/libpfm4/config.mk,
	  src/libpfm4/examples/Makefile, src/libpfm4/lib/pfmlib_perf_event.c,
	  src/libpfm4/perf_examples/Makefile: improve top makefile by
	  separating targets  This patch improves the Makefile structure by,
	  at the top level, separating the various targets: all, install-lib,
	  install-examples.  The patch keeps install_examples as a backward
	  compatible target. The patch also makes it possible to override
	  PREFIX from cmdline.

2019-02-06  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/validation_tests/Makefile.recipies,
	  src/validation_tests/memleak_check.c: memleak_check is a new simple
	  test file to help expose memory leaks in PAPI main and components.
	* src/papi_internal.c, src/papi_preset.c: Patches provided by Jiali
	  Li. Added cleanup code to prevent memory leaks.
	* src/libpfm4/lib/pfmlib_perf_event.c: Patches provided by Jiali Li.
	  Added cleanup code to prevent memory leaks.
	* src/components/stealtime/linux-stealtime.c: Patches provided by
	  Jiali Li. Added cleanup code to prevent memory leaks.
	* src/components/powercap/linux-powercap.c: Added cleanup code to
	  prevent some of the memory leaks. Dynamic-library related calls
	  leak, but we cannot prevent all of those leaks.
	* src/components/perf_event_uncore/perf_event_uncore.c: Patches
	  provided by Jiali Li. Added cleanup code to prevent memory leaks.
	* src/components/perf_event/pe_libpfm4_events.c: Patches provided by
	  Jiali Li. Added cleanup code to prevent memory leaks.
	* src/components/nvml/linux-nvml.c: Added cleanup code to prevent
	  some of the memory leaks. Dynamic-library related calls leak, but
	  we cannot prevent all of those leaks.
	* src/components/lustre/linux-lustre.c: Added cleanup code to prevent
	  memory leaks.
	* src/components/lmsensors/linux-lmsensors.c: Added cleanup code to
	  prevent some of the memory leaks. Dynamic-library related calls
	  leak, but we cannot prevent all of those leaks.
	* src/components/infiniband_umad/linux-infiniband_umad.c: Added
	  cleanup code to prevent some of the memory leaks. Dynamic-library
	  related calls leak, but we cannot prevent all of those leaks.

2019-02-06  Heike Jagode <jagode@icl.utk.edu>

	* src/components/cuda/tests/cudaTest_cupti_only.cu,
	  src/components/cuda/tests/likeComp_cupti_only.cu,
	  src/components/cuda/tests/simpleMultiGPU.cu,
	  src/components/cuda/tests/simpleMultiGPU.h,
	  src/components/cuda/tests/timer.h: Added more details to the
	  license statement for cuda tests.

2019-02-05  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/nvml/README: Expanded description of NVML component
	  and usage.
	* src/components/README: Expanded notes to guide releases.

2019-02-01  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/infiniband_umad/linux-infiniband_umad.c: Corrected
	  name of component to distinguish this one from the 'infiniband'
	  component.
	* src/components/nvml/README, src/components/nvml/linux-nvml.c: Had a
	  problem with undefined variables; added notes to README.

2019-02-01  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/components/perf_event/perf_event.c: Suppress "unused" warnings.
	* src/components/perf_event/perf_event.c: Get rid of "use of
	  uninitialized variable" warnings.
	* src/components/infiniband_umad/README,
	  src/components/lmsensors/README: Added component instructions.
	* src/components/cuda/Rules.cuda: Commented out target "native_clean"
	  since it is used twice.
	* src/components/lmsensors/README: Added build instructions for
	  component lmsensors.
	* src/components/lmsensors/linux-lmsensors.c: Suppress "unused
	  variables" warnings.

2019-01-31  Anthony Castaldo <tonycastaldo@harry.icl.utk.edu>

	* man/man1/PAPI_derived_event_files.1, man/man1/papi_avail.1,
	  man/man1/papi_clockres.1, man/man1/papi_command_line.1,
	  man/man1/papi_component_avail.1, man/man1/papi_cost.1,
	  man/man1/papi_decode.1, man/man1/papi_error_codes.1,
	  man/man1/papi_event_chooser.1, man/man1/papi_hybrid_native_avail.1,
	  man/man1/papi_mem_info.1, man/man1/papi_multiplex_cost.1,
	  man/man1/papi_native_avail.1, man/man1/papi_version.1,
	  man/man1/papi_xml_event_info.1, man/man3/PAPIF_accum.3,
	  man/man3/PAPIF_accum_counters.3, man/man3/PAPIF_add_event.3,
	  man/man3/PAPIF_add_events.3, man/man3/PAPIF_add_named_event.3,
	  man/man3/PAPIF_assign_eventset_component.3,
	  man/man3/PAPIF_cleanup_eventset.3,
	  man/man3/PAPIF_create_eventset.3,
	  man/man3/PAPIF_destroy_eventset.3, man/man3/PAPIF_enum_event.3,
	  man/man3/PAPIF_epc.3, man/man3/PAPIF_event_code_to_name.3,
	  man/man3/PAPIF_event_name_to_code.3, man/man3/PAPIF_flips.3,
	  man/man3/PAPIF_flops.3, man/man3/PAPIF_get_clockrate.3,
	  man/man3/PAPIF_get_dmem_info.3, man/man3/PAPIF_get_domain.3,
	  man/man3/PAPIF_get_event_info.3, man/man3/PAPIF_get_exe_info.3,
	  man/man3/PAPIF_get_granularity.3,
	  man/man3/PAPIF_get_hardware_info.3, man/man3/PAPIF_get_multiplex.3,
	  man/man3/PAPIF_get_preload.3, man/man3/PAPIF_get_real_cyc.3,
	  man/man3/PAPIF_get_real_nsec.3, man/man3/PAPIF_get_real_usec.3,
	  man/man3/PAPIF_get_virt_cyc.3, man/man3/PAPIF_get_virt_usec.3,
	  man/man3/PAPIF_ipc.3, man/man3/PAPIF_is_initialized.3,
	  man/man3/PAPIF_library_init.3, man/man3/PAPIF_lock.3,
	  man/man3/PAPIF_multiplex_init.3, man/man3/PAPIF_num_cmp_hwctrs.3,
	  man/man3/PAPIF_num_counters.3, man/man3/PAPIF_num_events.3,
	  man/man3/PAPIF_num_hwctrs.3, man/man3/PAPIF_perror.3,
	  man/man3/PAPIF_query_event.3, man/man3/PAPIF_query_named_event.3,
	  man/man3/PAPIF_read.3, man/man3/PAPIF_read_ts.3,
	  man/man3/PAPIF_register_thread.3, man/man3/PAPIF_remove_event.3,
	  man/man3/PAPIF_remove_events.3,
	  man/man3/PAPIF_remove_named_event.3, man/man3/PAPIF_reset.3,
	  man/man3/PAPIF_set_cmp_domain.3,
	  man/man3/PAPIF_set_cmp_granularity.3, man/man3/PAPIF_set_debug.3,
	  man/man3/PAPIF_set_domain.3, man/man3/PAPIF_set_event_domain.3,
	  man/man3/PAPIF_set_granularity.3, man/man3/PAPIF_set_inherit.3,
	  man/man3/PAPIF_set_multiplex.3, man/man3/PAPIF_shutdown.3,
	  man/man3/PAPIF_start.3, man/man3/PAPIF_start_counters.3,
	  man/man3/PAPIF_state.3, man/man3/PAPIF_stop.3,
	  man/man3/PAPIF_stop_counters.3, man/man3/PAPIF_thread_id.3,
	  man/man3/PAPIF_thread_init.3, man/man3/PAPIF_unlock.3,
	  man/man3/PAPIF_unregister_thread.3, man/man3/PAPIF_write.3,
	  man/man3/PAPI_accum.3, man/man3/PAPI_accum_counters.3,
	  man/man3/PAPI_add_event.3, man/man3/PAPI_add_events.3,
	  man/man3/PAPI_add_named_event.3,
	  man/man3/PAPI_addr_range_option_t.3, man/man3/PAPI_address_map_t.3,
	  man/man3/PAPI_all_thr_spec_t.3,
	  man/man3/PAPI_assign_eventset_component.3, man/man3/PAPI_attach.3,
	  man/man3/PAPI_attach_option_t.3, man/man3/PAPI_cleanup_eventset.3,
	  man/man3/PAPI_component_info_t.3, man/man3/PAPI_cpu_option_t.3,
	  man/man3/PAPI_create_eventset.3, man/man3/PAPI_debug_option_t.3,
	  man/man3/PAPI_destroy_eventset.3, man/man3/PAPI_detach.3,
	  man/man3/PAPI_disable_component.3,
	  man/man3/PAPI_disable_component_by_name.3,
	  man/man3/PAPI_dmem_info_t.3, man/man3/PAPI_domain_option_t.3,
	  man/man3/PAPI_enum_cmp_event.3, man/man3/PAPI_enum_event.3,
	  man/man3/PAPI_epc.3, man/man3/PAPI_event_code_to_name.3,
	  man/man3/PAPI_event_info_t.3, man/man3/PAPI_event_name_to_code.3,
	  man/man3/PAPI_exe_info_t.3, man/man3/PAPI_flips.3,
	  man/man3/PAPI_flops.3, man/man3/PAPI_get_cmp_opt.3,
	  man/man3/PAPI_get_component_index.3,
	  man/man3/PAPI_get_component_info.3, man/man3/PAPI_get_dmem_info.3,
	  man/man3/PAPI_get_event_component.3,
	  man/man3/PAPI_get_event_info.3,
	  man/man3/PAPI_get_eventset_component.3,
	  man/man3/PAPI_get_executable_info.3,
	  man/man3/PAPI_get_hardware_info.3, man/man3/PAPI_get_multiplex.3,
	  man/man3/PAPI_get_opt.3, man/man3/PAPI_get_overflow_event_index.3,
	  man/man3/PAPI_get_real_cyc.3, man/man3/PAPI_get_real_nsec.3,
	  man/man3/PAPI_get_real_usec.3, man/man3/PAPI_get_shared_lib_info.3,
	  man/man3/PAPI_get_thr_specific.3, man/man3/PAPI_get_virt_cyc.3,
	  man/man3/PAPI_get_virt_nsec.3, man/man3/PAPI_get_virt_usec.3,
	  man/man3/PAPI_granularity_option_t.3, man/man3/PAPI_hw_info_t.3,
	  man/man3/PAPI_inherit_option_t.3, man/man3/PAPI_ipc.3,
	  man/man3/PAPI_is_initialized.3, man/man3/PAPI_itimer_option_t.3,
	  man/man3/PAPI_library_init.3, man/man3/PAPI_list_events.3,
	  man/man3/PAPI_list_threads.3, man/man3/PAPI_lock.3,
	  man/man3/PAPI_mh_cache_info_t.3, man/man3/PAPI_mh_info_t.3,
	  man/man3/PAPI_mh_level_t.3, man/man3/PAPI_mh_tlb_info_t.3,
	  man/man3/PAPI_mpx_info_t.3, man/man3/PAPI_multiplex_init.3,
	  man/man3/PAPI_multiplex_option_t.3, man/man3/PAPI_num_cmp_hwctrs.3,
	  man/man3/PAPI_num_components.3, man/man3/PAPI_num_counters.3,
	  man/man3/PAPI_num_events.3, man/man3/PAPI_num_hwctrs.3,
	  man/man3/PAPI_option_t.3, man/man3/PAPI_overflow.3,
	  man/man3/PAPI_perror.3, man/man3/PAPI_preload_info_t.3,
	  man/man3/PAPI_profil.3, man/man3/PAPI_query_event.3,
	  man/man3/PAPI_query_named_event.3, man/man3/PAPI_read.3,
	  man/man3/PAPI_read_counters.3, man/man3/PAPI_read_ts.3,
	  man/man3/PAPI_register_thread.3, man/man3/PAPI_remove_event.3,
	  man/man3/PAPI_remove_events.3, man/man3/PAPI_remove_named_event.3,
	  man/man3/PAPI_reset.3, man/man3/PAPI_set_cmp_domain.3,
	  man/man3/PAPI_set_cmp_granularity.3, man/man3/PAPI_set_debug.3,
	  man/man3/PAPI_set_domain.3, man/man3/PAPI_set_granularity.3,
	  man/man3/PAPI_set_multiplex.3, man/man3/PAPI_set_opt.3,
	  man/man3/PAPI_set_thr_specific.3, man/man3/PAPI_shlib_info_t.3,
	  man/man3/PAPI_shutdown.3, man/man3/PAPI_sprofil.3,
	  man/man3/PAPI_sprofil_t.3, man/man3/PAPI_start.3,
	  man/man3/PAPI_start_counters.3, man/man3/PAPI_state.3,
	  man/man3/PAPI_stop.3, man/man3/PAPI_stop_counters.3,
	  man/man3/PAPI_strerror.3, man/man3/PAPI_thread_id.3,
	  man/man3/PAPI_thread_init.3, man/man3/PAPI_unlock.3,
	  man/man3/PAPI_unregister_thread.3, man/man3/PAPI_write.3,
	  release_procedure.txt: New Doc Files in preparatoin for release
	  5.7.0.0.

2019-01-30  Anthony Castaldo <tonycastaldo@harry.icl.utk.edu>

	* src/configure: For new version 5.7.0.0
	* doc/Doxyfile-common, src/Makefile.in, src/configure.in, src/papi.h:
	  Changing version number to 5.7.0.0.

2019-01-30  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/cuda/tests/LDLIB.src: Corrected a path name.

2019-01-30  William Cohen <wcohen@redhat.com>

	* src/run_tests.sh: Elimininating some of the SHELLCHECK_WARNINGS.
	  Removing unused variables. Correcting printf arguments.

2019-01-29  Konstantin Stefanov <cstef@parallel.ru>

	* src/components/nvml/linux-nvml.c: Change method for detecting
	  available NVML component events  Previously PAPI nvml component
	  used ROM version for detecting the type of the GPU and find which
	  events are supported. On some newer cards, e.g. Tesla Kepler and
	  Tesla Pascal, this gives wrong result. Those card support GPU and
	  memory utilization, for example, but it was not detected as Kepler
	  card may not have powerROM, and PAPI nvml considers it as an old
	  card.  So I changed the way the event availability is detected:
	  just try to obtain the info, and if it succeds, it is available.

2019-01-28  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/nvml/linux-nvml.c: Added (void)s to eliminate
	  warnings about unused variables.
	* src/components/cuda/linux-cuda.c: Corrected field-name typo in a
	  SUBDBG message that was not previously being compiled.
	* src/components/cuda/README, src/components/cuda/tests/LDLIB.src:
	  Changes about accessing to cupti libs and includes.
	* src/components/cuda/tests/simpleMultiGPU.cu,
	  src/components/nvml/tests/HelloWorld.cu: Corrected compile warnings
	  for deprecated routines or compiler complaints.

2019-01-23  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: the skylake events are actually
	  split in two, make sure cascadelake gets both cases too

2019-01-23  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/nvml/tests/nvml_power_limiting_test.cu: structure
	  member name was misspelt; 'cmpinfo->disabled_resaon' instead of
	  'cmpinfo->disabled_reason'.
	* src/components/infiniband_umad/tests/infiniband_umad_list_events.c:
	  Code was missing the 'string.h' include necessary for use of
	  'strstr() function'.
	* src/components/infiniband_umad/linux-infiniband_umad.c: Header file
	  changed; fixed prototypes for umad_get_ca() to use 'const char*'
	  instead of 'char*'.

2019-01-22  Vince Weaver <vincent.weaver@maine.edu>

	* src/papi_events.csv: papi_events: add cascade lake X support

2019-01-22  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/cudaTest_cupti_only.cu,
	  src/libpfm4/lib/pfmlib_amd64.c, src/libpfm4/lib/pfmlib_intel_x86.c,
	  src/libpfm4/lib/pfmlib_intel_x86_arch.c: linux-cuda.c and
	  cudaTest_cupti_only.cu have cosmetic changes. the pfmlib changes
	  were committed by Stephane to simplify cpuid; The push/pop were
	  causing problems with some compiler optimizations.

2019-01-16  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/libpfm4/README, src/libpfm4/include/perfmon/pfmlib.h,
	  src/libpfm4/lib/events/amd64_events_fam17h.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_skl.c,
	  src/libpfm4/lib/pfmlib_intel_x86.c,
	  src/libpfm4/lib/pfmlib_intel_x86_priv.h,
	  src/libpfm4/lib/pfmlib_priv.h, src/libpfm4/tests/validate_x86.c:
	  Three patches to libpfm4. (1) Add Intel CascadeLake X core PMU
	  support. (2) Add get_num_events() support for Intel X86 (3) Check
	  PMU models when validating event codes.
	* src/components/cuda/tests/runSMG.sh: Example file to run
	  simpleMultiGPU.
	* src/components/cuda/tests/runCTCO.sh: Example file for running
	  cudaTest_cupti_only
	* src/components/cuda/tests/runBW.sh: Example script to run
	  nvlink_bandwidth on PEAK.
	* src/components/cuda/tests/runAll.sh: Example script to run
	  nvlink_all on PEAK.
	* src/components/cuda/tests/simpleMultiGPU.cu: This is a PAPI version
	  of an NVIDIA cupti-only sample program; it is a useful starting
	  point to test a variety of metrics or events, which are specified
	  in a simple internal table.
	* src/components/cuda/tests/likeComp_cupti_only.cu: This program
	  (likeComp = likeComponent) tested if the events in a metric could
	  be harvested and put into an event group, read and re-ordered to
	  provide data to cuptiMetricGetValue. They can; we did this before
	  rewriting the component to do all Metrics in this way.
	* src/components/cuda/tests/nvlink_bandwidth.cu: This is a tester for
	  just 4 NVLINK bandwidth metrics. It moves data from CPU (host) to
	  GPU, or GPU to GPU. Reporting of intermediate steps has been
	  increased, and we retrieve the number of Async engines dynamically
	  to optimize the number of streams used in the copies. It was
	  previously hard-coded.
	* src/components/cuda/tests/nvlink_all.cu: This utility will iterate
	  through all the available NVLINK metrics in the PAPI system, and
	  run a test program for each of them, and report the results to
	  stdout. The test program is memory movement, a command line
	  argument can test CPU(host) to GPU memory movement, or GPU to GPU
	  movement amongst available GPU devices.  The report consists of all
	  single events, followed by a list of all possible pairs of events
	  on one GPU, and multiple GPUS. This report notes which nvlink
	  events are incompatible pairs, and will also report if any metrics
	  in pairs produce significantly different measurements than when
	  they are read singly. All of this is done with PAPI.
	* src/components/cuda/tests/cudaTest_cupti_only.cu: This program will
	  test a single performance metric or event that is provided on the
	  command line, on one or more GPUs. Only cupti is used. The exercise
	  will include both extensive memory moves NOT executed by kernel,
	  and a kernel. Options allow the user to skip the kernel execution
	  if desired, and to optionally use cuInit() and reset the devices
	  before beginning the test. Reports of the steps in the process are
	  output to stdout. The purpose of this program is to show what a
	  cupti-only result looks like, in order to see if issues with an
	  event are in the PAPI implementation only, or also exist in a
	  cupti-only implementation.
	* src/components/cuda/tests/Makefile: Several targets were added for
	  new test and utility programs.
	* src/components/cuda/linux-cuda.c: Several changes were made to more
	  efficiently (and correctly) read and compute metrics, including the
	  newly added nvlink metrics. The previous method was not reading
	  groups properly; and though this did not cause an error, it could
	  result in zeros being read instead of actual values. The change is
	  to break down all metrics and events for a device into global event
	  list (without duplicates) and build a single event group set for
	  everything the user has added. We repeat this each time the user
	  adds an event; on the assumption that this overhead is less likely
	  to occur during a performance critical time than when the user
	  reads the event set. After reading all the resultant groups we then
	  re-order the events and values to compute each metric, then store
	  those values (and any other event values) back into the user-
	  provided order.  Outstanding Issues: We do not provide to the user
	  the cuda metric 'branch_efficiency', there is an issue with the
	  library code sometimes segfaulting while reading the events for
	  particular metric. The bug has been reported to nvidia as bug ID
	  2485834.

2019-01-10  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/attach_cpu_sys_validate.c:
	  ctests: add an attach_cpu_sys test  this test for the Linux bug
	  where you attach to a process with SYS granularity
	* src/components/perf_event/perf_event.c,
	  src/components/perf_event/perf_event_lib.h,
	  src/ctests/attach_cpu_validate.c: perf_event: fix granularity
	  setting for attached processes  the old code was setting the
	  granularity wrong when attaching to a CPU.
	* src/components/perf_event/perf_event.c: perf_event: properly fall
	  back to read() if rdpmc read attempt fails  The code wasn't
	  properly handling this.  We now fall back to read() if *any* rdpmc
	  call in an eventset fails. In theory it is possible to only fall
	  back in a per-event fashion but that would make the code a lot more
	  complex.
	* src/components/perf_event/perf_helpers.h: perf_event: internally
	  indicate we need fallback when rdpmc not available

2018-12-07  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/attach_cpu_validate.c: ctests: attach_cpu_validate: fail
	  test if all values are close to the same
	* src/ctests/Makefile.recipies, src/ctests/attach_cpu_validate.c:
	  ctests: add attach_cpu_validate test

2018-12-03  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/branches.c: ctests/branches: remove code to set "sleep
	  time" which is no longer used
	* src/ctests/branches.c: ctests/branches: make the failure message
	  more verbose  to see what was going wrong.  the issue I was seeing
	  on Haswell was because there was some perf-related system load
	  happening on the same machine (the perf_fuzzer)
	* src/ctests/branches.c: ctests: branches, update code comments to
	  explain what test is doing  trying to figure out why sometimes
	  failing on Haswell system

2018-11-20  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/nvlink_bandwidth.cu,
	  .../cuda/tests/nvlink_bandwidth_cupti_only.cu,
	  src/components/cuda/tests/runBW.sh,
	  src/components/cuda/tests/runCO.sh,
	  src/components/cuda/tests/simpleMultiGPU.cu: Several files modified
	  to properly utilize the NVLINK metrics added to the linux-cuda.c
	  component. Commenting improved to aid my own understanding of the
	  existing code.  Tony C.

2018-11-20  Terry Cojean <terry.cojean@kit.edu>

	* src/components/cuda/README, src/components/nvml/README,
	  .../nvml/tests/nvml_power_limiting_test.cu,
	  src/components/powercap/README,
	  src/components/powercap/tests/powercap_limit.c: Improved error
	  handling. Fixed typos. Added details to component README files.

2018-11-05  Anara Kozhokanova <akozhoka@vols.utk.edu>

	* src/components/powercap/utils/powercap_plot.c: Revert "Temporary
	  Fix: The powercap component does not properly"  This reverts commit
	  bde6c257e4af47e9267ebb194b0aa4697568e99f.  The issue with incorrect
	  values reported by powercap component was fixed in ea8fa1f.
	  Therefore, this temporary fix is no longer needed.
	* src/components/powercap/linux-powercap.c: Fix the bug in powercap
	  component introduced in 2231b36. The reported values by powercap
	  component were not correct (read values were not subtracted from
	  start values and without wraparound).

2018-11-04  Frank Winkler <frankbook@franks-air.localdomain>

	* src/components/perf_event/perf_event.c: Fixed a bug that occurred
	  when compiling with debug flag. - papi_pe_buffer was undeclared

2018-10-26  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/nvlink_all.cu,
	  src/components/cuda/tests/nvlink_bandwidth.cu,
	  .../cuda/tests/nvlink_bandwidth_cupti_only.cu,
	  src/components/cuda/tests/runAll.sh,
	  src/components/cuda/tests/runBW.sh,
	  src/components/cuda/tests/runCO.sh: repairs, new features, run
	  files, a new utility in nvlink_all.

2018-10-10  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c,
	  src/components/cuda/tests/LDLIB.src,
	  src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/nvlink_all.cu,
	  src/components/cuda/tests/nvlink_bandwidth.cu,
	  .../cuda/tests/nvlink_bandwidth_cupti_only.cu,
	  src/components/cuda/tests/runAll.sh,
	  src/components/cuda/tests/runBW.sh,
	  src/components/nvml/PeakConfigure.sh: Added several files, and
	  rewrote the tests. I created a new test, nvlink_all.cu, with a new
	  approach to test all nvlink events present in the component
	  standalone, and I rewrote the original nvlink_bandwidth.cu to make
	  it work properly with PAPI. I also added some testing scripts
	  needed to function on the PEAK supercomputer; where this code was
	  tested.

2018-10-03  Anara Kozhokanova <akozhoka@vols.utk.edu>

	* src/utils/papi_avail.c: Add a note to the output of "papi_avail -e
	  <preset_event>" if preset event is not available at the host
	  architecture.

2018-09-28  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/cuda/tests/Makefile,
	  src/components/cuda/tests/nvlink_bandwidth.cu,
	  src/components/cuda/tests/simpleMultiGPU.cu,
	  src/components/nvml/tests/Makefile,
	  src/components/nvml/tests/nvmlcap_plot.cu: New and debugged files
	  for NVML and CUDA testing.

2018-09-28  Vince Weaver <vince@deater.net>

	* src/components/perf_event/perf_event.c: perf_event: remove debug
	  printf from libpfm4 error handling code  Steve Kaufmann reported
	  this triggered sometimes and was unnecessary
	* src/utils/papi_avail.c: papi_avail: fix the -e option to not print
	  spurious message  the "no events available" message should not be
	  printed if -e is being used

2018-09-27  Vince Weaver <vince@deater.net>

	* src/components/perf_event/perf_event.c: perf_event: avoid floating
	  point exception if running is 0  The perf_event interface isn't
	  supposed to return 0 for running, but it happens occasionally.  So
	  be sure not to divide by zero if this happens.  This makes the
	  rdpmc code match the generic perf code in this case.  This is in
	  response to bitbucket issue #52

2018-09-25  Heike Jagode <jagode@icl.utk.edu>

	* src/components/powercap/utils/powercap_plot.c: Temporary Fix: The
	  powercap component does not properly report energy values. At some
	  point in Nov 2017, the read() function was rewritten, which
	  resulted in numerous errors, such as: +++ the energy start values
	  are not subtracted from the read values. +++ wraparound is no
	  longer working properly. etc.  This commit serves as an immediate
	  workaround and adds a temporary fix to get the powercap_plot
	  utility working again. However, all this should and will be fixed
	  in the powercap component itself.

2018-09-21  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/cuda/tests/simpleMultiGPU.cu: Corrected a bug in the
	  CUPTI_ONLY version of simpleMultiGPU.cu. This manifested
	  specifically if the node has multiple GPUs and they are of
	  different models or types; in which case they can have differently
	  numbered PAPI events. We converted a scalar storing the eventID to
	  a vector with one eventID per GPU.

2018-09-19  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/nvml/tests/Makefile,
	  src/components/nvml/tests/benchSANVML.c,
	  .../nvml/tests/nvml_power_limit_read_test.cu,
	  .../nvml/tests/nvml_power_limiting_test.cu: new test files, more
	  cleanup on failure reporting.
	* src/components/cuda/tests/Makefile,
	  src/components/nvml/tests/Makefile,
	  .../nvml/tests/nvml_power_limiting_test.cu: Additions to Makefiles,
	  and several changes to power limiting testing to correct errors
	  when multiple GPUs are present, remove extraneous code, and provide
	  greater clarity in output and error messages.

2018-09-14  Heike Jagode <jagode@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: Minor fix: return correct error
	  message if libcupti.so not found.

2018-09-13  Heike Jagode <jagode@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: minor fix
	* src/components/cuda/linux-cuda.c: Bug fix: Instead of normalizing
	  all the event values to represent the total number of domain
	  instances on the device, only the last event value was normalized.

Tue Mar 20 09:37:56 2018 -0700  Steve Walk <steve.walk@cavium.com>

	* src/libpfm4/lib/events/arm_cavium_tx2_events.h: Update libpfm4
	  Current with ------------ commit
	  6c9e44b95a55b8bf62cbd64009c4c9b30964a66c  update Cavium ThunderX2
	  with now public events  This patch adds new model specific events
	  to the Cavium Thunder X2 core PMU. The updated list is based on
	  publicly available documentation from Cavium which is available at:
	  https://cavium.com/resources.html

2018-08-27  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/rapl/linux-rapl.c: rapl: add support for AMD Fam17h
	  (Zen) CPUs  AMD Fam17h chips have a new RAPL-like interface that
	  supports energy measurement using register layouts like Intel RAPL,
	  but at a different MSR number.  This has been tested on an EPYC
	  system and the package value seems to be plausible, but as reproted
	  by the LIKWID people the cores value seems a bit too low.

2018-08-01  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/tests/Makefile2,
	  src/components/pcp/tests/README_BenchTesting.txt,
	  src/components/pcp/tests/benchPCP.c,
	  src/components/pcp/tests/benchPCP_script.sh,
	  src/components/pcp/tests/benchStats.c: benchmarking files and
	  README.

2018-07-23  Tony Castaldo <TonyCastaldo@icl.utk.edu>

	* ChangeLogP500.txt, RELEASENOTES.txt,
	  man/man1/papi_multiplex_cost.1, man/man3/PAPI_attach.3,
	  man/man3/PAPI_detach.3, man/man3/PAPI_get_dmem_info.3,
	  man/man3/PAPI_hw_info_t.3, man/man3/PAPI_overflow.3,
	  man/man3/PAPI_profil.3, src/Makefile.inc,
	  src/components/Makefile_comp_tests,
	  src/components/Makefile_comp_tests.target.in,
	  src/components/appio/tests/Makefile,
	  src/components/appio/tests/iozone/libasync.c,
	  src/components/appio/tests/iozone/makefile,
	  src/components/cuda/tests/Makefile, src/components/nvml/linux-
	  nvml.c, src/components/perfctr/perfctr-x86.c, src/configure.in,
	  src/ctests/Makefile.recipies, src/ctests/Makefile.target.in,
	  src/ctests/overflow_force_software.c, src/examples/Makefile,
	  src/examples/PAPI_overflow.c, src/freebsd/map-atom.c, src/freebsd
	  /map-core2-extreme.c, src/freebsd/map-core2.c,
	  src/ftests/Makefile.recipies, src/ftests/Makefile.target.in, src
	  /linux-context.h, src/linux-timer.c, src/papi.c, src/papi.h,
	  src/papi_events.csv, src/sw_multiplex.c, src/testlib/Makefile,
	  src/testlib/Makefile.target.in, src/utils/Makefile,
	  src/utils/Makefile.target.in, src/utils/papi_multiplex_cost.c,
	  src/validation_tests/Makefile.recipies,
	  src/validation_tests/Makefile.target.in: 8 patches to make system
	  from Andreas Beckmann

2018-06-27  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/linux-pcp.c: Removed a duplicated IF statement.
	  No difference in execution.

2018-06-25  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/linux-pcp.c: fixed pcp_init_component to show
	  any errors in reason for a disabled PCP component.

2018-06-22  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/README, src/components/pcp/linux-pcp.c,
	  src/components/pcp/tests/testPCP.c: fixed a debug print, added
	  'timescope' to testPCP output, completed README.
	* src/components/pcp/README: fixed up README file.

2018-06-21  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/linux-pcp.c, src/components/pcp/tests/testPCP.c:
	  removed debug code, added non-zeroing on instantaneous variables.

2018-06-19  Heike Jagode <jagode@icl.utk.edu>

	* src/components/cuda/sampling/Makefile,
	  src/components/cuda/tests/Makefile: Add cuda/lib64/stubs to linker
	  for cuda tests to link with libcuda.so.

2018-06-19  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/linux-pcp.c, src/components/pcp/tests/testPCP.c:
	  Code changes necessary to work on Power9.

2018-06-18  Anthony Castaldo <tonycastaldo@icl.utk.edu>

	* src/components/pcp/Rules.pcp, src/components/pcp/linux-pcp.c:
	  Corrections to allow compile and execution on Power9.

2018-06-15  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/pcp/README, src/components/pcp/Rules.pcp,
	  src/components/pcp/linux-pcp.c, src/components/pcp/tests/Makefile,
	  src/components/pcp/tests/testPCP.c: Initial coding of pcp component
	  and tester completed.

Wed Jun 13 23:49:10 2018 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/config.mk, src/libpfm4/debian/changelog: Update libpfm4
	  Current with ------------ commit
	  37d4628e37ba76c1ab586ab35e85340e30f7c523  update to version 4.10.1
	  - Fix build issues on Cavium Thunder X2 - Update Skylake event
	  table

Tue Jun 12 23:31:13 2018 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/lib/Makefile,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/pfmlib_common.c: Update libpfm4  Current with
	  ------------ commit fa65a75a8af5b4e2c360be41e66203e04735dfd2
	  update Skylake event table  Based on Intel's skykake_core_v40,json
	  event table from download.01.org.  Added
	  PARTIAL_RAT_STALLS.SCOREBOARD Added ROB_MISC_EVENT.PAUSE_INST Fixed
	  encodings of some umasks for L2_RQSTS

2018-06-12  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/perf_event/perf_event.c,
	  src/ctests/Makefile.recipies, src/ctests/attach_validate.c: ctests:
	  add new attach_validate test  actually tries to validate the
	  counter values when attached  we might have an issue with rdpmc()
	  and attach and trying to make a test to catch it.

Thu Jun 7 11:38:48 2018 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/config.mk, src/libpfm4/debian/changelog: Update libpfm4
	  Current with ------------ commit
	  924437778d3fe75de5f7a43374ed6f4b1c0533a7  update to version 4.10.0
	  Update verison number to 4.10

2018-06-08  Steve Walk <swalk.cavium@gmail.com>

	* src/papi_events.csv: enable Cavium ThunderX2 support

2018-06-07  Anara Kozhokanova <akozhoka@vols.utk.edu>

	* src/components/cuda/README: Update README in CUDA component: added
	  '-i' flag to grep. Add a note about verifying whether the component
	  is active or not before using it.

Tue Jun 5 14:22:32 2018 -0700  William Cohen <wcohen@redhat.com>

	* src/libpfm4/python/self.py, src/libpfm4/python/src/pmu.py,
	  src/libpfm4/python/sys.py: Update libpfm4  Current with
	  ------------ commit 3106615db87f81f220efc13df7a4e36e31f1ee64
	  Import python print function  So that code works in the same manner
	  for python 2 and 3

Mon Jun 4 20:15:08 2018 -0700  William Cohen <wcohen@redhat.com>

	* src/libpfm4/lib/pfmlib_perf_event_pmu.c,
	  src/libpfm4/perf_examples/syst_count.c,
	  src/libpfm4/perf_examples/syst_smpl.c: Update libpfm4  Current with
	  ------------ commit 29f626744df184913a200532408e205e2b0ec2ec  Fix
	  error: '%s' directive output may be truncated  Newer versions of
	  gcc are more strict with regards to return values of snprintf(), so
	  check the values.

2018-06-01  Heike Jagode <jagode@icl.utk.edu>

	* src/Makefile.inc: Fixed 'make dist' step.

Mon May 28 13:50:44 2018 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/include/perfmon/pfmlib.h, src/libpfm4/lib/Makefile,
	  src/libpfm4/lib/events/arm_cavium_tx2_events.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/pfmlib_arm_armv8.c,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_x86_arch.c,
	  src/libpfm4/lib/pfmlib_intel_x86_perf_event.c,
	  src/libpfm4/lib/pfmlib_intel_x86_priv.h,
	  src/libpfm4/lib/pfmlib_perf_event.c, src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/tests/validate_arm64.c,
	  src/libpfm4/tests/validate_x86.c: Update libpfm4  Current with
	  ------------  commit 488697d43bc5601ca51a22f7072169781d5b45b2  fix
	  typo in BUS_ACCESS event for Cavium ThunderX2  This patch fixes a
	  typo in event name for the Cavium ThunderX2 core PMU event list.
	  BUS_ACCESS_LD -> BUS_ACCESS_WR  Event list based on ARM
	  Architecture Reference Manual (ARM DDI 0487C.a).

2018-05-25  Vince Weaver <vincent.weaver@maine.edu>

	* src/ftests/Makefile.recipies, src/ftests/openmp.F: ftests: add an
	  openmp test

2018-04-30  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/Makefile.recipies, src/ctests/destroy.c: ctests: add
	  destroy test  this checks to make sure that when we destroy
	  eventsets we aren't leaking file descriptors

Wed Apr 18 19:03:36 2018 +0200  Andr Wild <wild@linux.ibm.com>

	* src/libpfm4/lib/events/mips_74k_events.h,
	  src/libpfm4/lib/events/s390x_cpumf_events.h,
	  src/libpfm4/lib/pfmlib_intel_nhm_unc.c,
	  src/libpfm4/lib/pfmlib_intel_x86.c: Update libpfm4  Current with
	  ------------  commit 903d1c05ed72d45e5bebc1f2a1a1ae60b3ed1ee6 (HEAD
	  -> master, origin/master, origin/HEAD)  remove duplicate assignment
	  in pfm_nhm_unc_get_encoding  pe was assigned twice for no reason.
	  commit 37b7e406b77acf6115386cca43bab128e2a2d905  clarify
	  intel_x86_check_pebs()  This routine is not used right now because
	  we cannot determine in the x86 code whether or not PEBS has been
	  requested for an event. This is usually requested at the OS
	  interface level. But the patch keeps the code around in case we
	  need it later on.   commit 832e1a388d25ba39444505c2fa7ffb77f7537df5
	  fix typo in mip74k event name  OCP_WRITE_CACHEABLE REQUESTS ->
	  OCP_WRITE_CACHEABLE_REQUESTS  Reported-by: Andreas Beckmann
	  <anbe@debian.org>  commit 56cea590df7e77a1c1f1044e95d836cc01cfdb56
	  s390/cpumf: rename IBM z13/z14 counter names  Change the IBM
	  z13/z14 counter names to be in sync with all other models.

Wed Apr 4 18:45:18 2018 -0400  Heike Jagode <jagode@icl.utk.edu>

	* src/libpfm4/README, src/libpfm4/include/perfmon/pfmlib.h,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_knl_unc_cha.c,
	  src/libpfm4/lib/pfmlib_intel_knl_unc_edc.c,
	  src/libpfm4/lib/pfmlib_intel_knl_unc_imc.c,
	  src/libpfm4/lib/pfmlib_intel_knl_unc_m2pcie.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc_priv.h,
	  src/libpfm4/lib/pfmlib_priv.h, src/libpfm4/tests/validate_x86.c:
	  Update libpfm4  Current with ------------  commit
	  c4de2ea3b50fa14e66129b06619775840aafab2a  Add support for Intel KNM
	  uncore events  This patch adds Intel Knights Mill uncore event
	  support for: CHA uncore PMU Integrated EDRAM uncore PMU Integrated
	  Memory Controller (IMC) uncore PMU M2PCIe uncore PMU  It is based
	  on the Knights Landing event table, which is shared with Knights
	  Mill.

2018-04-02  Heike Jagode <jagode@icl.utk.edu>

	* src/papi_events.csv: PAPI preset event support for Intel Knights
	  Mill.

Mon Mar 19 23:53:23 2018 -0700  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/README, src/libpfm4/docs/Makefile,
	  src/libpfm4/docs/man3/libpfm_intel_knm.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_cha.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_iio.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_imc.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_irp.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_m2m.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_m3upi.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_pcu.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_ubo.3,
	  src/libpfm4/docs/man3/libpfm_intel_skx_unc_upi.3,
	  src/libpfm4/examples/check_events.c,
	  src/libpfm4/examples/showevtinfo.c,
	  src/libpfm4/include/perfmon/pfmlib.h, src/libpfm4/lib/Makefile,
	  src/libpfm4/lib/events/intel_bdw_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_cbo_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_ha_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_imc_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_irp_events.h,
	  .../lib/events/intel_bdx_unc_r3qpi_events.h,
	  src/libpfm4/lib/events/intel_bdx_unc_sbo_events.h,
	  .../lib/events/intel_ivbep_unc_pcu_events.h,
	  src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_cha_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_iio_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_imc_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_irp_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_m2m_events.h,
	  .../lib/events/intel_skx_unc_m3upi_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_pcu_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_ubo_events.h,
	  src/libpfm4/lib/events/intel_skx_unc_upi_events.h,
	  src/libpfm4/lib/pfmlib_common.c,
	  src/libpfm4/lib/pfmlib_intel_bdx_unc_pcu.c,
	  src/libpfm4/lib/pfmlib_intel_hswep_unc_pcu.c,
	  src/libpfm4/lib/pfmlib_intel_ivbep_unc_pcu.c,
	  src/libpfm4/lib/pfmlib_intel_knl.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_cha.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_iio.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_imc.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_irp.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_m2m.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_m3upi.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_pcu.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_ubo.c,
	  src/libpfm4/lib/pfmlib_intel_skx_unc_upi.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc.c,
	  .../lib/pfmlib_intel_snbep_unc_perf_event.c,
	  src/libpfm4/lib/pfmlib_intel_snbep_unc_priv.h,
	  src/libpfm4/lib/pfmlib_intel_x86.c,
	  src/libpfm4/lib/pfmlib_intel_x86_perf_event.c,
	  src/libpfm4/lib/pfmlib_intel_x86_priv.h,
	  src/libpfm4/lib/pfmlib_priv.h,
	  src/libpfm4/lib/pfmlib_s390x_cpumf.c,
	  src/libpfm4/perf_examples/perf_util.c, src/libpfm4/python/self.py,
	  src/libpfm4/python/src/pmu.py, src/libpfm4/python/sys.py,
	  src/libpfm4/tests/validate.c, src/libpfm4/tests/validate_x86.c:
	  Update libpfm4  Current with ------------  commit
	  7987ff8978d4ceef07a539e822c1b582f8924720 (HEAD -> master,
	  origin/master, origin/HEAD)  fix 32-bit compile on skx_cha_filt0
	  The bit field was too wide, so break it in two to keep gcc -m32
	  happy.   commit d60d8955580e7f27c5a269c636d6dcb50eef287d  Add
	  support for Intel KNM core events  This patch adds Intel Knights
	  Mill core event support for libpfm4. It is based on the Knights
	  Landing event table, which is shared with Knights Mill.   commit
	  3fdae82b5e028a388510798f1f0c84d1139a1735  fix headers on Intel
	  Skylake Uncore PMU files  Fix the header with proper copyright
	  line.   commit e26ca9492ae26a0150b81828306af3a6e132e488  Fix empty
	  event descriptions for Intel Broadwell-EP uncore PMUs Now that we
	  have empty description detection, fix the ones detected in the
	  Intel Broadwell-EP uncore PMUs.   commit
	  05fc5910b78526d3cba3160713f467d9dcc0774b  detect empty event/umask
	  descriptions on Intel processors  This patch adds a validation test
	  to detect empty descriptions for events and umasks on Intel X86
	  processors.

2018-02-28  John Henry <jhenry@icl.utk.edu>

	* INSTALL.txt: Fixed typo --with_bitmode=32 changed to --with-
	  bitmode=32

2018-02-23  Vince Weaver <vincent.weaver@maine.edu>

	* src/ctests/hl_rates.c, src/ctests/inherit.c, src/papi_hl.c: ctests:
	  change a few more test results from FAIL to SKIP when paranoid=3
	  there are some more that fail, but their failure errors make no
	  sense and are coming from deep within PAPI so I am not sure I can
	  easily fix things without making it worse.
	* src/ctests/attach2.c, src/ctests/attach3.c,
	  src/ctests/attach_cpu.c: ctests: attach tests, skip instead of fail
	  if not enough permissions
	* src/papi_internal.c: papi_internal: whitespace cleanup (no code
	  changes)
	* src/utils/papi_avail.c, src/utils/papi_native_avail.c: utils:
	  papi_avail/native_avail suggest papi_component_avail if no events
	  detected  If no events are detected, let the user know they should
	  use papi_component_avail to find out why.
	* src/papi_internal.c: papi_internal: comment the error generation
	  code  I'm not sure why we generate things this way, but it makes it
	  really confusing when adding a new error.
	* src/genpapifdef.c, src/papi.h, src/papi_common_strings.h,
	  src/papi_internal.c: add new PAPI_ECMP_DISABLED error  We can
	  return this error if an event is added but the component involved
	  is disabled.  If a user moves working code to a system where
	  perf_event_paranoid is set to 3 (all perf events disabled) they
	  will now get an error indicating the component is disabled rather
	  than an "event not found" error which was confusing.
	* src/ctests/zero.c: ctests: zero: print full error message if cannot
	  add

2018-02-21  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/papi_component_avail.c: utils: papi_component_avail: fix
	  the NAME field in the auto-generated manpage  Steve Kaufmann
	  noticed that the papi_component_avail NAME field for the auto-
	  generated manpage for some reason had info for papi_native_avail
	  instead.

2018-02-16  Heike Jagode <jagode@saturn.icl.utk.edu>

	* src/configure, src/configure.in: Fixed compilation error that
	  occurs with deprecated option '-openmp' when using a more current
	  icc compiler.  Replaced with '-qopenmp'.  Tested with: icc/2016.0
	  icc/2017.4 icc/2018 icc/2018.1  Reported by Preeti Suman from
	  Intel.

Wed Feb 7 09:51:16 2018 -0800  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/lib/events/intel_skl_events.h,
	  src/libpfm4/lib/events/s390x_cpumf_events.h,
	  src/libpfm4/lib/pfmlib_s390x_cpumf.c,
	  src/libpfm4/lib/pfmlib_s390x_priv.h: Update libpfm4 Current with
	  commit 8f2653b8e2e18bad44ba1acc7f92c825f226ef71  s390/cpumf: add
	  support for IBM z14 counters  Add counter definitions for the IBM
	  z14 hardware model.  With z14, the counters in the problem-state
	  set are reduced and the counter first number version is increased
	  accordingly.  Now, the counters are processed depending on the
	  counter facility versions.   commit
	  96c0847f524b0b23e189478315587abf35cbf774  add CORE_SNOOP_RESPONSE
	  event for Intel Skylake  This is a newly disclosed event of Intel
	  Skylake Core PMU. Based on download.01.org skylakex_core_v1.06.json
	  event table.

Thu Jan 25 19:23:45 2018 -0800  Stephane Eranian <eranian@gmail.com>

	* src/libpfm4/config.mk, src/libpfm4/debian/changelog,
	  src/libpfm4/lib/events/perf_events.h,
	  src/libpfm4/lib/pfmlib_perf_event_pmu.c,
	  src/libpfm4/tests/Makefile, src/libpfm4/tests/validate.c,
	  src/libpfm4/tests/validate_perf.c: Update libpfm4 Current with
	  commit 18e3c1f0254ab9323ac848643b8e042e65cf5259  Add minimal
	  perf_events generic events validation  This patch adds a small
	  validation tests suite for the generic PMU event provide by the
	  perf_events interface. This is specific to Linux.  This patch
	  modifies the validate.c file to handle the new perf_events test
	  suite.

2018-01-24  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/Makefile_comp_tests.target.in,
	  src/components/perf_event_uncore/tests/Makefile,
	  src/ctests/Makefile.recipies, src/ctests/Makefile.target.in,
	  src/ftests/Makefile.target.in, src/utils/Makefile.target.in,
	  src/validation_tests/Makefile.target.in: build: fix various
	  LDFLAGS/CFLAGS issues  issues were reported by Andreas Beckmann
	  <anbe@debian.org>

2018-01-22  Vince Weaver <vincent.weaver@maine.edu>

	* src/utils/papi_cost.c: utils: papi_cost: uset getopt() to parse
	  command line rather than open-coding one  The existing code was
	  fragile and also as far as I can tell the -b option hadn't worked
	  for a long time.
	* src/utils/papi_cost.c: utils: papi_cost: various minor cleanups to
	  the code
	* src/utils/cost_utils.c, src/utils/cost_utils.h,
	  src/utils/papi_cost.c: utils: papi_cost: add -p option for printing
	  boxplot percentages  makes generating boxplots from the results
	  much easier

2018-01-05  John Henry <jhenry@icl.utk.edu>

	* release_procedure.txt: Fix typo in release_procedure.txt. Missing
	  do

2020-02-27  Steven Kaufmann <steven.kaufmann@hpe.com>

	* src/components/infiniband/tests/Makefile: Making MPI tester
	  optional

2020-02-22  Frank Winkler <frankbook@Franks-MacBook-Air.local>

	* src/papi_fwrappers.c: Added fortran wrappers for PAPI_rate_stop and
	  PAPI_hl_stop. Also fixed doxygen documentation for PAPI_flops_rate.

2020-02-21  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/tests/square.cpp,
	  src/components/rocm/tests/square.cu,
	  src/components/rocm/tests/square.hipref.cpp,
	  src/components/rocm_smi/linux-rocm-smi.c: Deleted test files from
	  the repository, and commented-out debug lines from rocm_smi.
	* src/components/rocm/linux-rocm.c,
	  src/components/rocm/tests/Makefile,
	  src/components/rocm/tests/rocm_all.cpp: Added patches provided by
	  Evgeny Shcherbakov (AMD), and corrected bugs in rocm_all.cpp.
	  Tested and now functions as expected.

2020-02-20  Anthony <adanalis@icl.utk.edu>

	* src/components/sde/tests/Makefile, src/configure, src/configure.in:
	  Added -lrt to LIBS (if needed) so that it propagates into the pkg-
	  config file papi.pc. Also, removed the explicit flag from the SDE
	  tests Makefile.

2020-02-19  Anthony <adanalis@icl.utk.edu>

	* src/components/sde/sde_internal.h, src/configure, src/configure.in:
	  Enabled overflow by default in SDE and added -lrt detection in the
	  configure script.

2020-02-19  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/tests/rocm_all.cpp: Reconciling this version of
	  rocm_all.cpp with another pull request.

2020-02-18  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: ---Correct cuda push/pop context
	  consistency---  In _cuda_cleanup_eventset we attempt to push a
	  current cuda context, set a new cuda context to do some cleanup,
	  then restore the original context with a pop. (cuCtxPushCurrent,
	  cuCtxPopCurrent). This was failing. We corrected it by doing a
	  Save+Restore instead of a Push+Pop using cuCtxGetCurrent,
	  cuCtxSetCurrent, different routines that do not require the cuda
	  Context Stack, and have fewer restrictions on their use.

2020-02-16  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/main.c: Added check for whether or not
	  the user provided a benchmark category.  When using the Counter
	  Analysis Toolkit, if the user did not supply a benchmark category,
	  then it will run the 'branch' benchmark by default and inform the
	  user of such. The 'branch' benchmark executes the most quickly of
	  all the categories, making it a suitable default.  These changes
	  were tested on the Intel Haswell architecture.

2020-02-13  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/run_tests.sh: Little change in test script based on commit
	  14cebbc.  We have changed the high-level environment variable
	  PAPI_NO_WARNING to PAPI_HL_VERBOSE. Also, verbose output is off by
	  default, that's why this variable is not needed in the test script
	  anymore.

2020-02-13  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: Modifications for more thorough
	  error-checking in routines before using pointers (ensuring they are
	  non-NULL). Suggested by Steve Kaufmann.

2020-02-11  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c: Removed a debug message.

2020-02-10  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c: Corrects a problem
	  producing a segfault. The function MakeRoomAllEvents() can
	  realloc() a table, but this can make the use of a pointer into the
	  former area produce a segfault.

2020-01-31  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c,
	  src/components/rocm_smi/tests/ROCM_SMI_Makefile,
	  src/components/rocm_smi/tests/rocmcap_plot.cpp: A new utility added
	  to tests, and debug lines (commented out) in component code until
	  SMI library problem with power events is sorted out.
	* src/components/io/linux-io.c: We have to fopen/fclose the system
	  file for every read; otherwise Linux caches the file and reports
	  the same values every time.

2020-01-30  Anthony <adanalis@icl.utk.edu>

	* src/high-level/papi_hl.c: Turned verbosity of HL API off by
	  default.

2020-01-30  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/io/linux-io.c: Rewrite to use ctx and ctl structures
	  for thread safety.

2020-01-29  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/Rules.rocm,
	  src/components/rocm/tests/rocm_all.cpp: Corrected a typo in
	  Rules.rocm, and cleaned up a test program rocm_all.cpp.
	* src/components/io/linux-io.c: Provided some insurance that io
	  component initialization occurs only once.

2020-01-29  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/branch.c,
	  src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/flops.c,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh: Removed unnecessary
	  error reporting.  Some error messages from the CAT benchmarks were
	  removed so as not to cause extraneous output.  These changes were
	  tested on the Intel Broadwell architecture.

2020-01-28  Anthony <adanalis@icl.utk.edu>

	* src/counter_analysis_toolkit/main.c: Avoid computing the latencies
	  twice.
	* src/components/sde/sde.c: Updated the info that is reported by the
	  component about itself.

2020-01-28  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/flops.c: Fixed bug in FLOPS benchmark.
	  The FLOPS benchmarks ensure that the compiler does not discard the
	  results of the numerical kernels. A double-precision benchmark was
	  ensuring that the single-precision result was not discarded,
	  instead of the double-precision result. This has now been
	  corrected.  This was tested on the Intel Broadwell architecture.

2020-01-28  Anthony <adanalis@icl.utk.edu>

	* src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/dcache.h,
	  src/counter_analysis_toolkit/driver.h,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh,
	  src/counter_analysis_toolkit/icache.c,
	  src/counter_analysis_toolkit/icache.h,
	  src/counter_analysis_toolkit/main.c: Added code to show progress if
	  the user asks for it (-verbose flag), and removed confusing error
	  messages and dead code.

2020-01-28  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/main.c: Per the sscanf man page, it is
	  unnecessary to call free() in this block since memory for the
	  string would not be allocated.  This was tested on the AMD EPYC
	  architecture.

2020-01-27  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/driver.h,
	  src/counter_analysis_toolkit/main.c: Added checks for negative
	  amounts of qualifers provided by the user.  Previously, there was a
	  bug caused by a user providing a negative number of qualifiers.
	  Now, if a user does provide a negative number of qualifiers, this
	  number is set to zero.  This fix was tested on the AMD EPYC
	  architecture.

2020-01-27  Anthony <adanalis@icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: Fixed problems with
	  debug macro.

2020-01-24  Damien Genet <dgenet@icl.utk.edu>

	* src/components/infiniband/tests/Makefile: Adds missing rule for
	  compilation of MPI test

2020-01-24  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: New libpfm4 contains
	  "aliased" pmus for backward compatibility, amd64_fam17h ==
	  amd64_fam17h_zen1; this causes us to put BOTH pmus into the PMUs
	  supported string and double the events in native_avail. This update
	  recognizes when aliases exist (the names must be hard-coded) and
	  uses only one of the most recent name.

2020-01-23  Heike Jagode <jagode@icl.utk.edu>

	* src/components/infiniband_umad/README.md,
	  .../infiniband_umad/Rules.infiniband_umad, .../infiniband_umad
	  /linux-infiniband_umad.c, .../infiniband_umad/linux-
	  infiniband_umad.h, src/components/infiniband_umad/tests/Makefile,
	  .../tests/infiniband_umad_list_events.c,
	  .../tests/infiniband_umad_values_by_code.c: Retirement of
	  infiniband_umad component.  With the latest advancements of the
	  infiniband component, infiniband_umad has become redundant.

2020-01-22  Damien Genet <dgenet@icl.utk.edu>

	* src/components/Makefile_comp_tests.target.in: Propagating MPICC to
	  components tests
	* src/components/infiniband/linux-infiniband.c,
	  .../infiniband/tests/MPI_test_infiniband_events.c: snprintf return
	  value, a classic now. And the 3-space indentation.

2019-09-04  Rizwan-ICL <rizwan@icl.utk.edu>

	* src/components/infiniband/linux-infiniband.c,
	  .../infiniband/tests/MPI_test_infiniband_events.c,
	  src/components/infiniband/tests/Makefile: Added descriptions for
	  events of infiniband component using documentation provided by
	  Mellanox; Added test code to test the various events in infiniband
	  component and modified Makefile to compile the test code;

2020-01-22  Damien Genet <dgenet@icl.utk.edu>

	* src/components/powercap_ppc/README,
	  src/components/powercap_ppc/Rules.powercap_ppc,
	  src/components/powercap_ppc/linux-powercap-ppc.c,
	  src/components/powercap_ppc/linux-powercap-ppc.h,
	  src/components/powercap_ppc/tests/Makefile,
	  src/components/powercap_ppc/tests/powercap_basic.c,
	  src/components/powercap_ppc/tests/powercap_limit.c: Merged in
	  feature/powercap_ppc (pull request #34)  Feature/powercap ppc  *
	  Powercapping for IBM PowerPC architecture, Power9 processors  *
	  Adding 2 tests for powercap component on PPC architecture Power9
	  Approved-by: adanalis Approved-by: Anthony Castaldo

2020-01-22  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/scripts/papi_hl_output_writer.py: Fixed bug for
	  python3.  - dict.iteritems() was removed in python3 --> Instead:
	  use dict.items() The output script works for both python2 and
	  python3.
	* src/papi.c: Bug fix that was caused by commit db01193.
	* src/examples/PAPI_flops.c: Improved some comments.

2020-01-21  Damien Genet <dgenet@icl.utk.edu>

	* src/components/sensors_ppc/linux-sensors-ppc.c: Adds missing checks
	  for snprintf. A return value larger than the buffer is not really
	  an error, just a poor design, but whatever.

2020-01-20  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/examples/PAPI_mix_hl_ll.c, src/examples/PAPI_mix_hl_rate.c,
	  src/examples/PAPI_mix_ll_rate.c, src/papi.c, src/papi.h: Renamed
	  papi_rate_stop to papi_stop_events.
	* src/high-level/papi_hl.c: Fixed bug. Check for empty string in
	  PAPI_EVENTS.
	* src/high-level/papi_hl.c, src/papi.c, src/papi_internal.c,
	  src/papi_internal.h: Fixed typo.
	* src/high-level/papi_hl.c: Improved cleanup function.

2020-01-18  Frank Winkler <frankbook@franks-air.localdomain>

	* src/examples/Makefile, src/examples/PAPI_mix_hl_ll.c,
	  src/examples/PAPI_mix_hl_rate.c, src/examples/PAPI_mix_ll_rate.c,
	  src/papi.c: Added examples that show how to mix hl, ll, and rate
	  functions.

2020-01-17  Frank Winkler <frankbook@franks-air.localdomain>

	* src/high-level/papi_hl.c, src/papi.c, src/papi.h,
	  src/papi_internal.c, src/papi_internal.h: Added feature that allows
	  mixing of rate functions and hl functions.

2020-01-16  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/papi_events.csv: Added two machine types to papi_events.csv to
	  be in line with libpfm4 update to support amd64_fam17h_zen1 and
	  zen2.

2020-01-16  Anthony <adanalis@icl.utk.edu>

	* src/components/sde/tests/Makefile: Fixed dependency in Makefile.

2020-01-16  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/papi.c, src/papi.h: Added PAPI_rate_stop() that stops any rate
	  function.

2020-01-16  Damien Genet <dgenet@icl.utk.edu>

	* src/components/sensors_ppc/README,
	  src/components/sensors_ppc/Rules.sensors_ppc,
	  src/components/sensors_ppc/linux-sensors-ppc.c,
	  src/components/sensors_ppc/linux-sensors-ppc.h,
	  src/components/sensors_ppc/tests/Makefile,
	  .../sensors_ppc/tests/sensors_ppc_basic.c: Add new component for
	  sensors reading on PowerPC 9 Enable with ./configure --with-
	  components="sensors_ppc"

2020-01-16  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/run_tests.sh: Fixed little bug in test script.  The output
	  directory of the high-level API has been renamed from papi to
	  papi_hl_output.

2020-01-16  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/Rules.rocm_smi, src/components/rocm_smi
	  /linux-rocm-smi.c: Changed Rules file to look in multiple places
	  for rocm_smi.h, it moved between rocm releases. Rewrote a routine
	  to be more efficient and eliminate a string-size warning. Made some
	  diagnostic outputs that were left active in previous commit
	  dependent on #ifdef macros.

2020-01-15  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Fixed memory leak in high-level API.
	  Based on commit ef20e24 that fixed a bug by deleting a "free" call,
	  the "free" call is now done in the last function of the high-level
	  API which is called during the "atexit()" call.

2020-01-14  Anthony <adanalis@icl.utk.edu>

	* .../sde/tests/Advanced_C+FORTRAN/Gamum.c,
	  .../sde/tests/Advanced_C+FORTRAN/Xandria.F90,
	  .../sde/tests/Advanced_C+FORTRAN/sde_test_f08.F90,
	  src/components/sde/tests/Gamum.c,
	  src/components/sde/tests/Makefile,
	  src/components/sde/tests/Minimal/Minimal_Test.c,
	  src/components/sde/tests/Minimal_Test.c,
	  src/components/sde/tests/Recorder.c,
	  .../sde/tests/Recorder/Lib_With_Recorder.c,
	  .../sde/tests/Recorder/Recorder_Driver.c,
	  src/components/sde/tests/Simple/Simple_Driver.c,
	  src/components/sde/tests/Simple/Simple_Lib.c,
	  src/components/sde/tests/Simple2/Simple2_Driver.c,
	  src/components/sde/tests/Simple2/Simple2_Lib.c,
	  src/components/sde/tests/Xandria.F90,
	  src/components/sde/tests/sde_test_f08.F90: Added new tests/examples
	  under the SDE component and organized them based on complexity.
	* src/components/sde/sde.c: Improved and corrected the checks that
	  relate to counter groups and recorders.

2020-01-13  Anthony <adanalis@icl.utk.edu>

	* src/utils/Makefile, src/utils/papi_sde_interface.c: Added the weak
	  symbols for SDE to papi_native_avail, so the utility works when
	  PAPI is not configured with the SDE component.
	* src/utils/papi_avail.c, src/utils/papi_native_avail.c: Improved the
	  code that checks the command-line arguments.

2020-01-06  Anthony <adanalis@icl.utk.edu>

	* src/components/sde/sde.c, src/components/sde/sde_internal.h,
	  src/utils/papi_native_avail.c: Moved the responsibility of listing
	  SDEs of a library/executable to papi_native_avail instead of the
	  SDE component.
	* src/papi_internal.c: Updated the variables that are used in the
	  debug messages in accordance to a previous commit that made these
	  variables thread safe.

2020-01-03  Frank Winkler <frankbook@v0020.dip.tu-dresden.de>

	* src/high-level/scripts/papi_hl_output_writer.py: Changed name of
	  some derived metrics.
	* src/high-level/papi_hl.c, src/high-
	  level/scripts/papi_hl_output_writer.py: Added new derived metrics.

2020-01-03  Frank Winkler <frankbook@franks-air.localdomain>

	* src/high-level/papi_hl.c: Little format changes.
	* src/high-level/papi_hl.c: Fixed bug in high-level API caused by
	  commit ff8ff65.  The creation of the measurement directory failed
	  since Coverity freed memory of a string that was used later to
	  create the measurement directory.

2020-01-02  Frank Winkler <frankbook@Franks-MacBook-Air.local>

	* src/high-level/papi_hl.c, src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops_validation_hl.c,
	  src/validation_tests/fp_validation_hl.c: Revised default events for
	  flops and flips.

2019-12-20  Frank Winkler <frank.winkler@tu-dresden.de>

	* src/papi.c: papi.c edited online with Bitbucket
	* src/examples/high_level.c: high_level.c edited online with
	  Bitbucket
	* src/examples/PAPI_ipc.c: PAPI_ipc.c edited online with Bitbucket
	* src/examples/PAPI_flops.c: PAPI_flops.c edited online with
	  Bitbucket
	* src/examples/PAPI_flips.c: PAPI_flips.c edited online with
	  Bitbucket
	* src/examples/PAPI_epc.c: PAPI_epc.c edited online with Bitbucket

2019-12-19  Anthony <adanalis@icl.utk.edu>

	* src/components/sde/sde.c, src/components/sde/sde_internal.h: Fixed
	  issues in the SDE component unveiled by Coverity.

2019-12-19  Daniel Barry <dbarry@methane.icl.utk.edu>

	* src/counter_analysis_toolkit/main.c: Fixed typo in comment for
	  argument parsing.

2019-12-19  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/libpapi.exp: Fixed typo.
	* src/ctests/bgp/Makefile, src/ctests/bgp/papi_1.c, src/libpapi.exp:
	  Further clean-up.

2019-12-19  Daniel Barry <dbarry@methane.icl.utk.edu>

	* src/counter_analysis_toolkit/Makefile,
	  src/counter_analysis_toolkit/caches.h,
	  src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/dcache.h,
	  src/counter_analysis_toolkit/driver.h,
	  src/counter_analysis_toolkit/main.c,
	  src/counter_analysis_toolkit/timing_kernels.c,
	  src/counter_analysis_toolkit/timing_kernels.h: Removed unnecessary
	  variables and checks. Refactored code blocks. Added comments in the
	  main driver file.

2019-12-19  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/ctests/bgp/papi_1.c, src/libpapi.exp: Clean-up of old high-
	  level functions.

2019-12-18  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* man/man1/papi_component_avail.1: Fixed typo in
	  papi_component_avail.1. See pull request #2.

2019-12-16  Anthony <adanalis@icl.utk.edu>

	* src/counter_analysis_toolkit/Makefile: Renamed cit_collect to
	  cat_collect.
	* src/counter_analysis_toolkit/eventstock.c: Clarified comment.
	* src/counter_analysis_toolkit/branch.c,
	  src/counter_analysis_toolkit/driver.h,
	  src/counter_analysis_toolkit/eventstock.c,
	  src/counter_analysis_toolkit/eventstock.h,
	  src/counter_analysis_toolkit/flops.c,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh,
	  src/counter_analysis_toolkit/main.c: Removed unnecessary work when
	  setting up the list of events, and minor cosmetic changes.

2019-12-16  Daniel Barry <dbarry@methane.icl.utk.edu>

	* src/counter_analysis_toolkit/flops.c: Cleaned up comments.

2019-12-16  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rapl/tests/rapl_overflow.c: Corrected a working but
	  convoluted line of code.

2019-12-13  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/examples/PAPI_flips.c, src/examples/PAPI_flops.c, src/papi.c:
	  Minor documentation corrections.
	* src/papi.h: Fixed some thread definitions.
	* src/high-level/papi_hl.c, src/papi.h: Revised documentation of
	  high-level API.
	* src/high-level/papi_hl.c, src/high-
	  level/scripts/papi_hl_output_writer.py: Renamed the output
	  directory of the high-level API from 'papi' to 'papi_hl_output'.
	* src/papi.c: Revised documentation.
	* src/examples/PAPI_epc.c, src/examples/PAPI_flips.c,
	  src/examples/PAPI_flops.c, src/examples/PAPI_ipc.c, src/papi.c:
	  Adjusted doxygen documentation.

2019-12-12  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/examples/Makefile, src/examples/PAPI_flips.c,
	  src/examples/PAPI_flops.c, src/examples/PAPI_ipc.c,
	  src/examples/high_level.c, src/papi.c, src/papi.h,
	  src/papi_fwrappers.c: Reimplemented rate functions and adjusted
	  examples.

2019-12-11  Daniel Barry <dbarry@methane.icl.utk.edu>

	* src/counter_analysis_toolkit/branch.c,
	  src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/flops.c,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh: Added
	  PAPI_cleanup_eventset() call to each of the benchmarks. This
	  removes events from the event set.  By including these calls, the
	  benchmarks do not encounter the PAPI_ECOUNT error code, which
	  occurs if there are too many events added to the same event set.
	  These changes were tested on the Intel Skylake architecture.

2019-12-10  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/README,
	  src/components/rocm_smi/Rules.rocm_smi,
	  src/components/rocm_smi/tests/rocm_smi_all.txt: Minor changes to
	  text and a setting that was for development only.

2019-12-10  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/papi.c: Made rate functions thread safe.

2019-12-09  Anthony <adanalis@icl.utk.edu>

	* src/utils/Makefile: Changed the order of the linker flags so that
	  -ldl is at the end since libpapi.a needs libdl.so but not the other
	  way around.

2019-12-06  Heike Jagode <jagode@icl.utk.edu>

	* README.md: README.md edited online with Bitbucket

2019-12-06  Steve Kaufmann <sbk@cray.com>

	* src/components/rocm/linux-rocm.c, src/papi_events.csv: The changes
	  here are based on a patch provided by Steve Kaufmann; to correct a
	  misnamed event in papi_events.csv, and prevent a segfault in rocm
	  when a context pointer is null. Additional changes by Tony Castaldo
	  check to see if the necessary rocprofiler environment variables
	  have been set; and disable the component if they are not, with an
	  informative reason to be reported by papi_component_avail. (The
	  component will not work without them).

2019-12-05  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/papi.c: Replaced HighLevelInfo with RateInfo.

2019-12-03  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/extras.c: extra '#' in "%#p" print formats, using just '%p'.

2019-12-03  William Cohen <wcohen@redhat.com>

	* src/testlib/papi_test.h, src/testlib/test_utils.c: Use the noreturn
	  attribute only when the compiler support GNU C extensions.
	* src/testlib/papi_test.h, src/testlib/test_utils.c: Properly mark
	  some test_utils.c functions with noreturn attributes  Clang makes
	  use of the information whether a function returns in flow analysis
	  to determine whether there are uses of null values and other
	  possible problematic issues.  Marking the test_pass, test_hl_pass,
	  test_fail, and test_skip functions properly with noreturn attribute
	  allows Clang to more accurately analyze the code and eliminates 87
	  false positive warnings in the PAPI testsuite code.

2019-12-02  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/coretemp/linux-coretemp.c, src/components/infiniband
	  /linux-infiniband.c, src/components/lmsensors/linux-lmsensors.c,
	  src/components/lustre/linux-lustre.c, src/components/pcp/linux-
	  pcp.c, src/components/pcp/tests/testPCP.c,
	  src/components/perf_event/perf_event.c,
	  .../perf_event_uncore/perf_event_uncore.c, src/components/rapl
	  /linux-rapl.c, src/ctests/failed_events.c, src/ctests/kufrin.c,
	  src/ctests/pthrtough.c, src/ctests/pthrtough2.c, src/extras.c, src
	  /high-level/papi_hl.c, src/linux-common.c, src/linux-memory.c,
	  src/testlib/clockcore.c, src/utils/cost_utils.c,
	  src/utils/papi_command_line.c, src/utils/papi_multiplex_cost.c: The
	  code in this commit all failed a Coverity scan (a code consistency
	  tool) that correctly identified memory leaks, potential buffer
	  overflows, and failures to close a file or directory that had been
	  opened.

2019-12-02  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/papi.c, src/papi.h, src/papi_fwrappers.c: Reimplemented rate
	  calls such as PAPI_flips, PAPI_flops, etc.  - These calls are now
	  part of the low-level API - PAPI_stop_rates() stop the counters

2019-11-20  William Cohen <wcohen@redhat.com>

	* src/components/sde/Rules.sde: Limit Fortran 90 compilers options to
	  SDE component Fortran 90 code  The Rules.sde added Fortran 90
	  options to FFLAGS that would end up being applied to other Fortran
	  code being built in papi. Unfortunately, the other code is F77 code
	  and the options would cause the build to fail.

2019-11-21  Heike Jagode <jagode@icl.utk.edu>

	* README.md: README.md edited online with Bitbucket

2019-11-14  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/main.c: Swapped lines 268 and 269 of
	  main.c so that the appropriate memory allocation is freed, and the
	  pointer is then set to NULL.

2019-11-13  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/nvml/tests/Makefile,
	  src/components/nvml/tests/nvmlcap_plot.cu,
	  src/components/nvml/utils/Makefile,
	  src/components/nvml/utils/README,
	  src/components/nvml/utils/nvmlcap_plot.cu: For consistency with
	  powercap and rapl components, moved nvmlcap_plot.cu to a new
	  nvml/utils/ directory. New Makefile in nvml/utils/ and adjusted
	  Makefile in nvml/tests/. Created a new README for nvmlcap_plot. No
	  code changes; but tested configure and make of PAPI and
	  nvmlcap_plot.

2019-11-08  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rapl/linux-rapl.c: Fixed an inaccurate comment.
	* src/components/rapl/README,
	  src/components/rapl/tests/rapl_overflow.c: Added a paragraph of
	  usage info to README; also reformatted existing comments to comply
	  with 80 char line limit; without changing their content.
	  rapl_overflow.c was confusing, it was not using the
	  PACKAGE_ENERGY_CNT event to test for overflow, and the scaled value
	  seemed to wrap in 85ms. This seemed to conflict with the results of
	  rapl_wraparound; which computes a wraparound time in 85 minutes.
	  rapl_overflow.c is now in line with an 80-90 minute wraparound
	  vaue.

2019-11-07  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rapl/linux-rapl.c: Changes to properly mask energy
	  values to uint32, and accumulate them to return a 64-bit
	  accumulator. Verified wraparound time at approx 85 minutes (for a
	  32 bit read). That is the maximum allowed time between reads; the
	  64-bit value returned should never wrap. (Some tabs converted to
	  spaces in changed code.)

2019-11-01  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Removed Doxygen documentation for
	  internal functions and moved code block for multiplex
	  initialization.  PAPI_multiplex_init is only called after a
	  successful PAPI_thread_init.

2019-10-31  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: Fixed a typo in the
	  error message.
	* src/ctests/Makefile.recipies, src/ctests/filter_helgrind.c,
	  src/papi.c, src/papi_internal.c, src/threads.c, src/threads.h: The
	  changes to papi.c, papi_internal.c, threads.h and threads.c correct
	  a race condition that was the result of all threads using the same
	  two static variables (papi_event_code and papi_event_code_changed)
	  to temporarily record a state of operation. The solution was to
	  make these variables unique per thread, using the ThreadInfo_t
	  structure already provided in PAPI for such purposes. The file
	  krentel_pthread_race.c is a stress test to produce race conditions.
	  filter_helgrind.c reduces the volume of --tool-helgrind output to a
	  more manageable summary. Both are added to Makefile.recipies.

2019-10-31  William Cohen <wcohen@redhat.com>

	* src/ctests/krentel_pthreads_race.c: This code is a modification of
	  krentel_pthreads.c, to better test some race conditions. It is not
	  included in the standard tests; it is a diagnostic that should be
	  run with "valgrind --tool=helgrind".

2019-10-31  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: Changed SUBDBG error
	  reporting in new code to a single message instead of two, before
	  the unlock code (so no race condition on variables in report).
	  Cosmetics.


2019-10-28  Daniel Barry <dbarry@vols.utk.edu>

	* src/counter_analysis_toolkit/main.c: Added checks for improperly
	  formatted lines in the user-provided event list.  If a line is
	  missing a qualifier count, then it is discarded.  If a provided
	  event name is either not available in the architecture or contains
	  qualifiers, then the qualifier count is set to zero to prevent
	  appending extraneous qualifiers, and the user is notified.  Also
	  cleaned up string manipulation.  These changes were tested on the
	  Intel Haswell architecture.

2019-10-25  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/perf_event/pe_libpfm4_events.c: In two places, we
	  exited the routine allocate_native_event() because we could not
	  find a mask or attribute in an event name (because the event was
	  supported but the given mask was not), and failed without unlocking
	  the NAMELIB_LOCK, or cleaning up allocated memory.  +
	  free (msk_ptr); +               free(pmu_name); +
	  _papi_hwi_unlock( NAMELIB_LOCK );

2019-10-24  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c,
	  src/components/rocm_smi/tests/ROCM_SMI_Makefile,
	  src/components/rocm_smi/tests/rocm_smi_all.cpp,
	  src/components/rocm_smi/tests/rocm_smi_all.txt: New events added,
	  some bugs corrected. ROCM_SMI_Makefile is modified to use env
	  variable $PAPI_ROCM_ROOT to make it easier to compile with a local
	  version of the rocm_smi library. rocm_smi_all.txt is the output of
	  a run of rocm_smi_all.cpp, which has been modified to handle
	  strings, and skip testing of events that bomb (unhandled exceptions
	  in library code). NOTE this code may still contain debug printing
	  to stderr, to be removed in the final version after all issues are
	  corrected. -Tony

2019-10-24  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/papi.h: Removed TLS definitions.
	* src/high-level/papi_hl.c, src/papi.h: Replaced PAPI_TLS_KEYWORD
	  with THREAD_LOCAL_STORAGE_KEYWORD due to ABI conflicts.

2019-10-18  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/Rules.rocm_smi, src/components/rocm_smi
	  /linux-rocm-smi.c, src/components/rocm_smi/rocm_smi.h: This is a
	  first installment of the rewrite of the rocm_smi component. It
	  currently requires a private install of the updated library (with
	  iterators), and a special Rules.file, PAPI_ROCM_ROOT, and
	  PAPI_ROCM_SMI_MAIN. It works as far as executing
	  utils/papi_native_avail; but none of the events have been tested
	  yet by reading with PAPI code. -TC

2019-10-15  Damien Genet <dgenet@icl.utk.edu>

	* src/components/nvml/linux-nvml.c: Merged in dgenet/papi/fix/nvml-
	  rules (pull request #14)  Fixes error messages while detecting
	  Rules.nvml  Patch from Vince Weaver   Approved-by: Heike Jagode
	  <jagode@icl.utk.edu> Approved-by: Damien Genet <dgenet@icl.utk.edu>
	  Approved-by: Anthony Castaldo <tonycastaldo@icl.utk.edu>

2019-10-09  Heike Jagode <jagode@icl.utk.edu>

	* README.md: Cleaning up README file.
	* README.md: README.md edited online with Bitbucket
	* README: README edited online with Bitbucket
	* README.md: README.md edited online with Bitbucket

2019-10-08  Steve Kaufmann <sbk@cray.com>

	* src/components/cuda/linux-cuda.c: Corrected several cosmetic issues
	  and typos, standardized naming, used PATH_MAX instead of literal,
	  and PAPI_MAX_STR_LEN instead of PAPI_MIN_STR_LEN.

2019-10-08  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/components/lmsensors/linux-lmsensors.c: Removed blank line.
	* src/components/lmsensors/linux-lmsensors.c: Replaced spaces with
	  underscores in event name.

2019-10-06  Frank Winkler <frankbook@franks-air.localdomain>

	* src/papi_fwrappers.c: Corrected Doxygen documentation.
	* src/ctests/Makefile.recipies, src/ctests/mpi_hl.c,
	  src/ctests/mpi_omp_hl.c, src/ctests/omp_hl.c,
	  src/ctests/pthread_hl.c, src/ctests/serial_hl.c,
	  src/ctests/serial_hl_advanced.c, src/ctests/serial_hl_ll_comb.c,
	  src/ctests/serial_hl_ll_comb2.c, src/ftests/Makefile.recipies,
	  src/ftests/serial_hl.F, src/ftests/serial_hl_advanced.F, src/high-
	  level/papi_hl.c, src/papi.h, src/papi_fwrappers.c,
	  src/testlib/ftests_util.F, src/testlib/papi_test.h,
	  src/testlib/test_utils.c,
	  src/validation_tests/flops_validation_hl.c: Removed advanced
	  functions from the new high-level API.  The new high-level API
	  consists of three functions: - PAPI_hl_region_begin - PAPI_hl_read
	  - PAPI_hl_region_end  Validation test in C: -
	  src/validation_tests/flops_validation_hl.c  Test examples in C: -
	  src/ctests/serial_hl.c - src/ctests/omp_hl.c -
	  src/ctests/pthread_hl.c - src/ctests/mpi_hl.c -
	  src/ctests/mpi_omp_hl.c - src/ctests/serial_hl_ll_comb.c  Test
	  example in Fortran: - src/ftests/serial_hl.F

2019-10-03  Damien Genet <dgenet@icl.utk.edu>

	* src/counter_analysis_toolkit/branch.c,
	  src/counter_analysis_toolkit/branch.h,
	  src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/dcache.h,
	  src/counter_analysis_toolkit/eventstock.c,
	  src/counter_analysis_toolkit/eventstock.h,
	  src/counter_analysis_toolkit/flops.c,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh,
	  src/counter_analysis_toolkit/icache.c,
	  src/counter_analysis_toolkit/icache.h,
	  src/counter_analysis_toolkit/main.c,
	  src/counter_analysis_toolkit/prepareArray.c,
	  src/counter_analysis_toolkit/prepareArray.h,
	  src/counter_analysis_toolkit/timing_kernels.c,
	  src/counter_analysis_toolkit/timing_kernels.h: Adding Checks

2019-10-04  Anthony Danalis <adanalis@tellico-master0.local>

	* src/components/lmsensors/linux-lmsensors.c: Fixed inconsistency in
	  component name.

2019-09-30  Anthony Danalis <adanalis@eecs.utk.edu>

	* src/components/sde/README, src/components/sde/Rules.sde,
	  src/components/sde/interface/papi_sde_interface.c,
	  src/components/sde/interface/papi_sde_interface.h,
	  src/components/sde/sde.c, src/components/sde/sde_F.F90,
	  src/components/sde/sde_internal.h,
	  src/components/sde/tests/Gamum.c,
	  src/components/sde/tests/Makefile,
	  src/components/sde/tests/Minimal_Test.c,
	  src/components/sde/tests/Recorder.c,
	  src/components/sde/tests/Xandria.F90,
	  src/components/sde/tests/sde_test_f08.F90: Software Defined Events
	  (SDE) component.
	* src/counter_analysis_toolkit/Makefile,
	  src/counter_analysis_toolkit/README,
	  src/counter_analysis_toolkit/branch.c,
	  src/counter_analysis_toolkit/branch.h,
	  src/counter_analysis_toolkit/caches.h,
	  src/counter_analysis_toolkit/compar.c,
	  src/counter_analysis_toolkit/dcache.c,
	  src/counter_analysis_toolkit/dcache.h,
	  src/counter_analysis_toolkit/driver.h,
	  src/counter_analysis_toolkit/event_list.txt,
	  src/counter_analysis_toolkit/eventstock.c,
	  src/counter_analysis_toolkit/eventstock.h,
	  src/counter_analysis_toolkit/flops.c,
	  src/counter_analysis_toolkit/flops.h,
	  src/counter_analysis_toolkit/flops_aux.c,
	  src/counter_analysis_toolkit/flops_aux.h,
	  src/counter_analysis_toolkit/gen_seq_dlopen.sh,
	  src/counter_analysis_toolkit/icache.c,
	  src/counter_analysis_toolkit/icache.h,
	  src/counter_analysis_toolkit/main.c,
	  src/counter_analysis_toolkit/prepareArray.c,
	  src/counter_analysis_toolkit/prepareArray.h,
	  src/counter_analysis_toolkit/replicate.sh,
	  src/counter_analysis_toolkit/timing_kernels.c,
	  src/counter_analysis_toolkit/timing_kernels.h: Counter Analysis
	  Toolkit.

2019-09-30  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/Rules.cuda, src/components/nvml/Rules.nvml,
	  src/components/pcp/Rules.pcp: Corrected typos, replacing "optimal"
	  with "optional."

2019-09-18  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: We no longer check the error on
	  setting CUPTI_EVENT_COLLECTION_MODE_CONTINUOUS, it only works on
	  Tesla devices (and is preferred there) but fails on other models,
	  they don't support the feature. We do not fail if they reject it.

2019-09-17  Kevin Huck <khuck@cs.uoregon.edu>

	* src/components/io/CHANGES, src/components/io/README,
	  src/components/io/Rules.io, src/components/io/linux-io.c,
	  src/components/io/linux-io.h, src/components/io/tests/Makefile,
	  src/components/io/tests/io_basic.c,
	  src/components/io/tests/io_multiple_components.c: Adding I/O
	  component to read from /proc/self/io.

2019-09-13  Steve Kaufmann <sbk@cray.com>

	* src/components/rocm/linux-rocm.c, src/components/rocm_smi/linux-
	  rocm-smi.c: Changes to make these components (ROCM, ROCM_SMI) have
	  naming consistency with others; fixed numerous minor formatting
	  issues and comments. Compiled and checked on ICL Caffeine.

2019-09-13  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/linux-rocm.c, src/components/rocm_smi/linux-
	  rocm-smi.c: Revert changes, used wrong author (Should be Steve
	  Kaufmann).  This reverts commit
	  9a60e91d539b8eb079dd81adc1d91c17620cfaed.

2019-09-12  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/linux-rocm.c, src/components/rocm_smi/linux-
	  rocm-smi.c: Changes suggested by Steve Kaufmann (Cray) to make
	  these components have naming consistency with others; fixed
	  numerous minor formatting issues. Reviewed, accepted, compiled,
	  checked.

2019-09-09  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/components/infiniband_umad/README.md,
	  src/components/lmsensors/README.md: Little format changes for
	  markdown documentation files.
	* src/components/libmsr/Makefile.libmsr.in,
	  src/components/libmsr/README, src/components/libmsr/README.md,
	  src/components/libmsr/Rules.libmsr,
	  src/components/libmsr/configure,
	  src/components/libmsr/configure.in, src/components/libmsr/linux-
	  libmsr.c, src/components/libmsr/utils/libmsr_write_test.c: Updated
	  code and documentation for component libmsr to get compliance with
	  the new component setup standard.
	* src/components/infiniband_umad/README,
	  src/components/infiniband_umad/README.md,
	  .../infiniband_umad/Rules.infiniband_umad, .../infiniband_umad
	  /linux-infiniband_umad.c: Updated code and documentation for
	  component infiniband_umad to get compliance with the new component
	  setup standard.

2019-09-08  Frank Winkler <frankbook@Franks-MacBook-Air.local>

	* src/components/lmsensors/README,
	  src/components/lmsensors/README.md,
	  src/components/lmsensors/Rules.lmsensors, src/components/lmsensors
	  /linux-lmsensors.c: Updated code and documentation for component
	  lmsensors to get compliance with the new component setup standard.

2019-09-05  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/pcp/Rules.pcp: Corrected an issue with Rules,
	  changing the name of macro that conflicted with other potential
	  macros.

2019-09-04  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/Rules.cuda, src/components/nvml/Rules.nvml:
	  Corrected an incompatibility in multiple Rules files when multiple
	  components are included. Rules files cannot all use the same
	  "MACRODEF" variable for different purposes; each needs a unique ID,
	  like CUDA_MACS, NVML_MACS, etc.
	* src/components/rocm/README, src/components/rocm/Rules.rocm,
	  src/components/rocm/linux-rocm.c, src/components/rocm_smi/README,
	  src/components/rocm_smi/Rules.rocm_smi, src/components/rocm_smi
	  /linux-rocm-smi.c: Changes to make rocm_smi component compliant
	  with new component setup standard; changes to rocm component to
	  correct bugs in compatibility and comments.
	* src/components/rocm/README, src/components/rocm/Rules.rocm,
	  src/components/rocm/linux-rocm.c: Modified documentation, Rules and
	  code for ROCM component to comply with new setup standards. It now
	  requires PAPI_ROCM_ROOT as an environment variable.
	* src/components/pcp/README, src/components/pcp/Rules.pcp,
	  src/components/pcp/linux-pcp.c: Code and documentation to get
	  component PCP into compliance with the new component setup
	  standard; PAPI_PCP_ROOT is only environmental variable required.

2019-09-03  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/Rules.cuda, src/components/nvml/README,
	  src/components/nvml/Rules.nvml, src/components/nvml/linux-nvml.c:
	  NVML component README, Rules and code updated to reflect new setup
	  policy, relies on PAPI_CUDA_ROOT only. Adds a new override,
	  PAPI_NVML_MAIN. Instructions improved in Rules.cuda, Rules.nvml.

2019-08-29  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/linux-cuda.c: Corrected comments.
	* src/components/cuda/README, src/components/cuda/Rules.cuda,
	  src/components/cuda/linux-cuda.c: The changes make the cuda
	  component reliant on a single environment variable, PAPI_CUDA_ROOT,
	  allowing overrides specified in Rules.cuda if the necessary
	  libraries are not in their expected locations. Detailed
	  instructions are in README, and for overrides in Rules.cuda.

2019-08-28  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/linux-rocm.c: Bug fixes, for missing eventName
	  in debug mode; also for failure to clear internal 'usage' flags
	  when destroying an event set.

2019-08-14  Carl Love <cel@us.ibm.com>

	* src/papi_events.csv: Per Carl Love, "The POWER9 event
	  PM_BR_TAKEN_CMPL includes conditional and unconditional branches.
	  The equation for event PAPI_BR_NTK should not include the event
	  PM_BR_UNCOND as PM_BR_TAKEN_CMPL already counts unconditional
	  branches. The POWER9 event PM_LD_REF_L1 includes hits and misses to
	  the L1. Thus we should not be adding PM_LS_MISS_L1_ALT when
	  calculating PAPI_LD_INS on POWER9."  The definitions for these
	  preset events were changed accordingly, and their patterns of
	  behavior were measured during the execution of performance
	  benchmarks on the IBM POWER9 processors on Summit. The patterns of
	  behavior for the corresponding events on the Intel Skylake and
	  Broadwell processors were measured during the execution of the same
	  performance benchmarks. The respective events from each
	  architecture behave similarly. In addition, the new definitions
	  pass the PAPI validation tests.

2019-08-12  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/pcp/Rules.pcp, src/components/rocm/Rules.rocm:
	  Adding $(LDL) to LDFLAGS in Rules.x files when it was missing, on
	  PCP and ROCM components.

2019-08-09  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/pcp/README, src/components/pcp/Rules.pcp,
	  src/components/pcp/linux-pcp.c: The PCP component changed to use
	  the new standard for PAPI environment variables; there are now no
	  necessary environment variables, and no need to change
	  LD_LIBRARY_PATH. The rules file was streamlined.  The code was
	  tested on Peak and Summit. We do allow overrides for non-standard
	  installations of PCP, the variables PAPI_PCP_ROOT, PAPI_PCP_LIBS,
	  PAPI_PCP_INC and PAPI_PCP_LIBNAME can be set by users to specify
	  non-standard locations or library names. The README file in
	  components/pcp/ contains detailed instructions on their use.

2019-08-08  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/README, src/components/rocm/Rules.rocm,
	  src/components/rocm/linux-rocm.c,
	  src/components/rocm/tests/run_papi.sh,
	  src/components/rocm_smi/README,
	  src/components/rocm_smi/Rules.rocm_smi, src/components/rocm_smi
	  /linux-rocm-smi.c: Components ROCM and ROCM_SMI have been changed
	  to adhere to our recent standardization of using environment
	  variables. README files are updated with detailed information, and
	  we have both simplified and extended the capabilities with new env
	  vars. It is simplified because for a standard install of the rocm
	  or rocm_smi software puts it in the default directories, PAPI will
	  find the libraries and include files without any configure step.
	  But it is more powerful because we allow overrides to the defaults,
	  including overrides to the necessary library names. We also no
	  longer require the LD_LIBRARY_PATH environment variable be
	  modified, or exist at all. If it is there and we don't find a
	  library in a path given by the user, we will still search it, and
	  the default search directories. The Rules.rocm and Rules.rocm_smi
	  are changed to use defaults, and their linker commands changed to
	  allow the specification of a non-standard library name; e.g. a
	  versioned library that does not end in ".so". These changes were
	  tested and verified on the ICL machine Caffeine.

2019-08-04  Frank Winkler <frankbook@Franks-MacBook-Air.local>

	* src/components/infiniband_umad/Rules.infiniband_umad,
	  src/components/lmsensors/Rules.lmsensors: Added "$(LDL)" to LDFLAGS
	  of components lmsensors and infiniband_umad.  "libdl" was missing
	  in a previous commit (0f0b74f).
	* src/high-level/papi_hl.c: Fixed bug in high-level API.  Function
	  PAPI_hl_print_output () caused a segmentation fault when no events
	  were recorded.

2019-08-01  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* .../infiniband_umad/Makefile.infiniband_umad.in,
	  src/components/infiniband_umad/README,
	  .../infiniband_umad/Rules.infiniband_umad,
	  src/components/infiniband_umad/configure,
	  src/components/infiniband_umad/configure.in, .../infiniband_umad
	  /linux-infiniband_umad.c,
	  src/components/infiniband_umad/tests/Makefile,
	  src/components/lmsensors/Makefile.lmsensors.in,
	  src/components/lmsensors/README,
	  src/components/lmsensors/Rules.lmsensors,
	  src/components/lmsensors/configure,
	  src/components/lmsensors/configure.in, src/components/lmsensors
	  /linux-lmsensors.c: Changed configuration mechanism for components
	  lmsensors and infiband_umad.  We do not use configure scripts
	  anymore. Each component is configured via environment variables.
	  For compilation: PAPI_[component]_ROOT PAPI_[component]_INCLUDE
	  PAPI_[component]_LIB  For runtime: PAPI_[component]_LIBNAME
	  Detailed information can be found in the README file of each
	  component.

2019-07-25  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/cuda/README, src/components/cuda/Rules.cuda,
	  src/components/cuda/linux-cuda.c,
	  src/components/cuda/sampling/Makefile,
	  src/components/cuda/tests/Makefile, src/components/nvml/README,
	  src/components/nvml/Rules.nvml, src/components/nvml/linux-nvml.c,
	  src/components/nvml/tests/Makefile: A continuation of a previous
	  commit prematurely pushed. Same commentary:  The CUDA and NVML
	  components have a revamped Environment Variable processing; we have
	  simplified this for users, made it more flexible, and standardized
	  on environment variables beginning with "PAPI_".  The NVML
	  component used to require a separate configure step, this has been
	  eliminated.  Simplification: The only required environment variable
	  is now PAPI_CUDA_ROOT, set to the path corresponding to CUDA. Users
	  no longer need to update LD_LIBRARY_PATH.  There are several other
	  environment variables that can be set to override the defaults we
	  would automatically use if only PAPI_CUDA_ROOT is given.  The
	  general protocol we now use for naming environment variables is
	  PAPI_[component]_[setting]. Examples are:  PAPI_CUDA_STUBS
	  (default = ${PAPI_CUDA_ROOT}/lib64/stubs PAPI_CUPTI_LIBS   (default
	  = ${PAPI_CUDA_ROOT}/extras/CUPTI/lib64) PAPI_NVML_LIBNAME (default
	  = "libnvidia-ml.so")  Some possible overrides are processed at
	  compile time, the Rules.[component] files now set defaults (For
	  cuda and nvml based on PAPI_CUDA_ROOT) for the path to include
	  files, or to library files.  Other possible overrides are handled
	  at runtime; using environment variables the user can specify
	  specific paths to attempt first for each library. If the necessary
	  libraries are not found on those paths, the system will still
	  attempt to use the LD_LIBRARY_PATH and the default directories
	  (/lib64, /usr/lib64).  The "disabled_reason" field for components
	  has been updated to provide more information when libraries are not
	  found.  The README files have been rewritten to reflect this
	  protocol, to detail the new possible overrides, and to show the
	  order in which they are searched when more than one environment
	  variable applies.

2019-07-24  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/nvml/Makefile.nvml.in,
	  src/components/nvml/configure, src/components/nvml/configure.in:
	  The CUDA and NVML components have a revamped Environment Variable
	  processing; we have simplified this for users, made it more
	  flexible, and standardized on environment variables beginning with
	  "PAPI_".  The NVML component used to require a separate configure
	  step, this has been eliminated.  Simplification: The only required
	  environment variable is now PAPI_CUDA_ROOT, set to the path
	  corresponding to CUDA. Users no longer need to update
	  LD_LIBRARY_PATH.  There are several other environment variables
	  that can be set to override the defaults we would automatically use
	  if only PAPI_CUDA_ROOT is given.  The general protocol we now use
	  for naming environment variables is PAPI_[component]_[setting].
	  Examples are:  PAPI_CUDA_STUBS   (default =
	  ${PAPI_CUDA_ROOT}/lib64/stubs PAPI_CUPTI_LIBS   (default =
	  ${PAPI_CUDA_ROOT}/extras/CUPTI/lib64) PAPI_NVML_LIBNAME (default =
	  "libnvidia-ml.so")  Some possible overrides are processed at
	  compile time, the Rules.[component] files now set defaults (For
	  cuda and nvml based on PAPI_CUDA_ROOT) for the path to include
	  files, or to library files.  Other possible overrides are handled
	  at runtime; using environment variables the user can specify
	  specific paths to attempt first for each library. If the necessary
	  libraries are not found on those paths, the system will still
	  attempt to use the LD_LIBRARY_PATH and the default directories
	  (/lib64, /usr/lib64).  The "disabled_reason" field for components
	  has been updated to provide more information when libraries are not
	  found.  The README files have been rewritten to reflect this
	  protocol, to detail the new possible overrides, and to show the
	  order in which they are searched when more than one environment
	  variable applies.

2019-07-19  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Removed function "error_at_line"
	  (declared in error.h), since it is not portable.  Fixed warning
	  "implicit declaration of function error_at_line".

2019-07-17  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/nvml/README: Changes explaining the issues with
	  libnvidia-ml.so in detail; and the new facility for changing the
	  default name using the environment variable PAPI_NVML_LIBNAME.
	* src/components/nvml/Rules.nvml, src/components/nvml/linux-nvml.c,
	  src/utils/papi_component_avail.c: linux-nvml.c is changed to allow
	  the nvml library name to be set by an environment variable,
	  PAPI_NVML_LIBNAME. If this is not present, the default 'libnvidia-
	  ml.so' is used. Also, misspellings in error messages were
	  corrected.  Rules.nvml: A previous method used a -D #define during
	  the compile of linux-nvml.c to change the default name. This method
	  was eliminated.  utils/papi_component_avail.c a typographic error
	  in an error message was corrected.

2019-07-15  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/utils/papi_component_avail.c: To avoid confusion, we no longer
	  print an empty "PMUs supported:" line for components for which
	  Performance Monitoring Units do not apply (or are not exposed
	  through its device interfaces). We also corrected minor bugs in
	  computing the display length to limit output lines to 130
	  characters (when listing PMUs); this was most evident on the
	  perf_event_uncore component.

2019-07-12  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/README, src/components/rocm_smi/linux-rocm-
	  smi.c, .../rocm_smi/tests/rocm_command_line.cpp,
	  src/components/rocm_smi/tests/rocm_smi_all.cpp: linux-rocm-smi.c
	  (for the rocm_smi component) was fixed to not expose globals other
	  than the _rocm_smi_vector.  The src/components/rocm_smi/README file
	  was updated to provide more information on the LD_LIBRARY_PATH
	  required, and the utilities rocm_command_line.cpp and
	  rocm_smi_all.cpp in the tests/ directory were updated to report
	  more information.

2019-06-27  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Added multiplexing support for high-level
	  API.  Mutliplexing of cpu core components can be enabled via the
	  environment variable PAPI_MULTIPLEX.

2019-06-26  Daniel Barry <dbarry@vols.utk.edu>

	* src/ctests/zero_omp.c, src/papi_vector.c: Changed the dummy
	  function call in papi_vector.c and created a function to wrap the
	  call to omp_get_thread_num() in ctests/zero_omp.c. These allow the
	  function castings in the respective files to operate properly
	  without warnings from GCC 8.3.0. These changes were tested on the
	  Intel Haswell architecture.

2019-06-25  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/nvml/PeakConfigure.sh, src/components/nvml/README,
	  src/components/nvml/Rules.nvml, src/components/nvml/linux-nvml.c:
	  linux-nvml.c is modified to accept an alternate name for the nvml
	  library, which will default to the standard 'libnvidia-ml.so'. This
	  is necessary on a system (Summit in particular) that doesn't have
	  the standard link file to the current versioned lib. It will also
	  provide flexibility for testing previous versions or new versions
	  of the library. The library file name can be specified in
	  Rules.nvml, as a compiler-line Define of NVML_LIBNAME.  Rules.nvml
	  has comments added, one of which is an example of how to specify
	  NVML_LIBNAME. Otherwise it is unchanged; and the library name used
	  will default to 'libnvidia-ml.so'.  README has been updated to
	  describe this new capability, and for ICL staff contains examples
	  of what works on Summit.  PeakConfigure.sh had a typo that was
	  corrected.

2019-06-18  Vince Weaver <vincent.weaver@maine.edu>

	* src/components/rapl/tests/rapl_basic.c: rapl: quiet a strncpy()
	  warning in the rapl_basic test
	* src/linux-common.c, src/linux-memory.c, src/papi_internal.c,
	  src/papi_libpfm4_events.c: papi: fix some strncpy() related
	  warnings reported by gcc 8.3

2019-06-10  Daniel Barry <dbarry@vols.utk.edu>

	* src/components/perf_event_uncore/tests/perf_event_uncore_cbox.c:
	  Changed the sprintf() call to snprintf() and added an if-statement
	  to check whether the number of characters intended to be written to
	  the destination buffer exceed the size of the buffer. This prevents
	  GCC 8.3.0 from warning that the destination buffer may not be large
	  enough to store the contents of the source buffers. These changes
	  were tested on the Intel Haswell architecture.

2019-06-05  Daniel Barry <dbarry@vols.utk.edu>

	* src/components/perf_event_uncore/tests/perf_event_uncore.c: Added a
	  second buffer in the perf_event_uncore test. This prevents GCC 8
	  from complaining about the source and destination buffers
	  overlapping. Per the sprintf man-page (release 3.53 of the Linux
	  man-pages project), "the standards explicitly note that the results
	  are undefined if source and destination buffers overlap when
	  calling sprintf()."  Since the second buffer is only present in a
	  test program, this change will not create memory overhead to user
	  programs which use PAPI. These changes were tested on the Intel
	  Haswell architecture.

2019-06-05  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c: Added a direct file
	  system search for AMD GPU peripherals; vendor ID 0x1002. We search
	  up to 64 /sys/class/drm/card?/device/vendor files; (card0, card1,
	  ... card 63). Also corrected a typo in an event name. Tested and
	  worked on ICL Caffeine system; correctly excluded card0 (display
	  card) and found two AMD GPUs on card1, card2.

2019-05-25  Yunqiang Su <wzssyqa@gmail.com>

	* src/linux-lock.h: [mips] replace beqzl with beqzc for r6

2019-05-20  Daniel Barry <dbarry@vols.utk.edu>

	* src/papi_events.csv: I have added PAPI POWER9 event definitions for
	  PAPI_L2_DCR, PAPI_L2_DCW, PAPI_BR_CN, PAPI_BR_NTK, PAPI_BR_UCN, and
	  PAPI_BR_TKN. These events have been tested. Their patterns of
	  behavior were measured during the execution of performance
	  benchmarks on Summit's POWER9 processors. The patterns of behavior
	  for the corresponding events on Intel Haswell processors were
	  measured during the execution of the same performance benchmarks.
	  The respective events from each architecture behave similarly.

2019-05-17  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c: Added missing
	  "rsmi_init(0)" call to component_init() function.
	* src/components/rocm/README, src/components/rocm/Rules.rocm,
	  src/components/rocm/linux-rocm.c: Modifications to support indexed
	  variables; requires different names be used for PAPI users and the
	  request to the RocProfiler (it interprets the index within the
	  name). Updated notes in README, and additional potential -I include
	  paths in Rules.rocm.

2019-05-14  Anthony Castaldo <tonycastaldo@saturn.icl.utk.edu>

	* src/components/cuda/linux-cuda.c: Improved error reporting when
	  libraries are not found, or the cuda initialization function fails.
	  No changes to function.

2019-05-07  Heike Jagode <jagode@icl.utk.edu>

	* src/components/appio/tests/iozone/Gnuplot.txt,
	  src/components/appio/tests/iozone/gnu3d.dem,
	  src/components/powercap/tests/powercap_limit.c,
	  src/components/vmware/VMwareComponentDocument.txt: More clean up of
	  carriage return character (^M) throughout the code base.  Thanks to
	  Steve Kaufmann!

2019-05-07  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm_smi/linux-rocm-smi.c,
	  src/components/rocm_smi/rocm_smi.h,
	  src/components/rocm_smi/tests/Makefile,
	  src/components/rocm_smi/tests/ROCM_SMI_Makefile: I fixed linux-
	  rocm-smi.c to include an event per device called
	  rocm_smi:::device=?:busy_percent; I overlooked this event in the
	  first draft of the component.  I added a note to rocm_smi.h; we
	  cannot use the distributed version of this file; we have a compile
	  error on one of the include files <stdinit.h> that is not
	  necessary; so we comment it out.  I created a Makefile for the
	  rocm_smi/tests/ directory, it is just a placeholder until we
	  develop some standardized tests of the rocm_smi component; but
	  necessary to prevent an error during system 'make'.  I added
	  rocm_command_line.out to the ROCM_SMI_Makefile. This is to make
	  non-standardized tests; and can be used as  make -f
	  ROCM_SMI_Makefile <targetname>

2019-05-07  Heike Jagode <jagode@icl.utk.edu>

	* src/Makefile.in, src/Makefile.inc, src/Rules.perfmon2,
	  src/configure.in: Clean up of carriage return character (^M) from
	  previous patch (commit 5434010).  Thanks to Steve Kaufmann from
	  Cray!

2019-05-06  Andreas Beckmann <a.beckmann@fz-juelich.de>

	* src/Makefile.in, src/Makefile.inc, src/Rules.perfmon2,
	  src/configure, src/configure.in: [PATCH] set SONAME to
	  libpapi.so.$(PAPIVER).$(PAPIREV)  The version check in
	  PAPI_library_init() requires matching PAPI_VER_CURRENT, therefore
	  libpapi.so.5 from papi-5.6.x and papi-5.7.x are not
	  interchangeable, but require applications to be recompiled.  Change
	  the SONAME to contain the two version components that define
	  PAPI_VER_CURRENT, thereafter upgrading the shared library to a new
	  version does no longer break existing applications (which will pick
	  up the new SONAME upon recompilation).  Introduce a new variable
	  PAPISOVER and use it in all places where the SONAME is being used.
	  drop unused symlinks with three version components:
	  $(PAPIVER).$(PAPIREV).$(PAPIAGE)

2019-05-03  Daniel Barry <dbarry@saturn.icl.utk.edu>

	* src/ctests/profile_twoevents.c: Prevented another warning about
	  buffer size potentially being to small.

2019-04-25  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Fixed "format-overflow" warning detected
	  by gcc/8.1.0.

2019-04-24  Anthony Castaldo <TonyCastaldo@icl.utk.edu>

	* src/components/rocm/Rules.rocm, src/components/rocm/linux-rocm.c,
	  src/components/rocm_smi/README,
	  src/components/rocm_smi/Rules.rocm_smi, src/components/rocm_smi
	  /linux-rocm-smi.c, src/components/rocm_smi/rocm_smi.h,
	  src/components/rocm_smi/tests/ROCM_SMI_Makefile,
	  .../rocm_smi/tests/rocm_command_line.cpp,
	  src/components/rocm_smi/tests/rocm_smi_all.cpp,
	  .../rocm_smi/tests/rocm_smi_writeTests.cpp: Major addition: a
	  component to access the rocm_smi library; this is the System
	  Management Interface for AMD GPU devices. It allows monitoring of
	  hardware elements; like power consumption, memory usage, PCIe
	  throughput, fan speed, etc. It allows control for some hardware
	  functions as well, via PAPI_write(), although these are untested
	  (write requires root privileges to test). Included here are the
	  component code, a tester for all readable events, and an incomplete
	  tester for writing control values.  The tests are cpp; this is
	  required for the AMD 'HIPP' compiler to process an AMD Kernel that
	  can exercise the GPU itself. The rules and exports are bit
	  complicated; for development the rocm_smi_lib was installed and
	  built in my user directory; in production it would be in a system
	  directory.

2019-04-24  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* src/high-level/papi_hl.c: Fixed warnings detected by gcc/8.3.0 when
	  using "-Wrestrict" or "-Wall".
	* src/high-level/papi_hl.c: Replaced "get_current_dir_name()" with
	  "getcwd(NULL,0)".  "get_current_dir_name()" is only GNU specific.
	* src/run_tests.sh: Replaced bash statements with shell statements.
	  Some systems do not have a bash.

2019-04-22  Frank Winkler <frankbook@franks-air.localdomain>

	* src/high-level/papi_hl.c: Corrected data type declaration according
	  to the return value of C library function fgetc.

2019-04-18  Daniel Barry <dbarry@saturn.icl.utk.edu>

	* src/ctests/derived.c, src/ctests/multiattach.c,
	  src/ctests/multiattach2.c, src/ctests/reset.c,
	  src/ctests/reset_multiplex.c, src/ctests/zero_attach.c,
	  src/ctests/zero_flip.c: Prevented warnings about buffer sizes of
	  length PAPI_MAX_STR_LEN potentially being too small.

2019-04-18  Frank Winkler <frankbook@m016.zih.tu-dresden.de>

	* doc/Doxyfile-man3, doc/Makefile, src/Makefile.inc,
	  src/components/appio/tests/appio_test_blocking.c,
	  .../appio/tests/appio_test_fread_fwrite.c,
	  src/components/appio/tests/appio_test_pthreads.c,
	  src/components/appio/tests/appio_test_read_write.c,
	  src/components/appio/tests/appio_test_recv.c,
	  src/components/appio/tests/appio_test_seek.c,
	  src/components/appio/tests/appio_test_select.c,
	  src/components/appio/tests/appio_test_socket.c,
	  src/components/appio/tests/init_fini.c,
	  src/ctests/Makefile.recipies, src/ctests/api.c, src/ctests/flops.c,
	  src/ctests/high-level.c, src/ctests/high-level2.c,
	  src/ctests/hl_rates.c, src/ctests/ipc.c, src/ctests/matrix-hl.c,
	  src/ctests/mpi_hl.c, src/ctests/mpi_omp_hl.c, src/ctests/omp_hl.c,
	  src/ctests/pthread_hl.c, src/ctests/serial_hl.c,
	  src/ctests/serial_hl_advanced.c, src/ctests/serial_hl_ll_comb.c,
	  src/ctests/serial_hl_ll_comb2.c, src/ftests/Makefile.recipies,
	  src/ftests/flops.F, src/ftests/fmatrixpapi.F,
	  src/ftests/fmatrixpapi2.F, src/ftests/highlevel.F,
	  src/ftests/serial_hl.F, src/ftests/serial_hl_advanced.F, src/high-
	  level/papi_hl.c, src/high-level/scripts/papi_hl_output_writer.py,
	  src/papi.c, src/papi.h, src/papi_debug.h, src/papi_fwrappers.c,
	  src/papi_hl.c, src/papi_hl.h, src/run_tests.sh,
	  src/run_tests_exclude.txt, src/validation_tests/Makefile.recipies,
	  src/validation_tests/flops_validation_hl.c: Replaced old high-level
	  API with a new high-level API.  The new high-level API provides the
	  ability to record performance events within instrumented code
	  sections, called regions, of serial, multi-processing (MPI, SHMEM)
	  and thread (OpenMP, Pthreads) parallel applications. Events to be
	  recorded are determined via an environment variable that lists both
	  preset and native events separated by commas. This enables the
	  programmer to perform different measurements without recompiling.
	  In addition, the programmer does not need to take care of printing
	  performance events since a JSON output is generated at the end of
	  each measurement.  Main changes: - Removed old high-level API
	  including all test files. - Added new high-level API including a
	  python script that merges results from several MPI ranks. - Added
	  Doxygen documentation for new high-level API. - Added high-level
	  tests for c and fortran. - Added high-level flops validation test.
	  - Replaced old high-level tests with new high-level tests in appio
	  component.

2019-04-02  Anthony Castaldo <tonycastaldo@caffeine.icl.utk.edu>

	* src/components/rocm/linux-rocm.c,
	  src/components/rocm/tests/rocm_all.cpp: NOTE: This component is
	  still not functional! Added missing code to prevent hsa_shut_down()
	  call from segfaulting. Changed skip table for testing code
	  rocm_all.cpp.

2019-04-01  Al Grant <algrant109@gmail.com>

	* src/linux-memory.c: The logic in linux-memory.c
	  generic_get_memory_info() isn't correct.  It looks at the
	  cpu0/cache node and iterates through the caches. The intention is
	  to collect information about caches at each level. There may be
	  multiple caches at a given level (typically at L1 there will be I
	  and D). PAPI's data structure allows for this. There is a 'level
	  count' that is incremented so that multiple caches can be collected
	  per level.  The bug is in the lines  if (level != last_level) {
	  level_count = 0; last_level=level; } else { level_count++; }  This
	  assumes that for a given level, you see all the caches at that
	  level, then you go to the next level. But in fact sysfs may return
	  the caches in random order.  An actual example: index2: level 2,
	  unified cache index0: level 1, data cache index3: level 3, unified
	  cache index1: level 1, instruction cache  Because index1 is at a
	  different level from index3, level_count will be reset to 0. So in
	  PAPI's structures, the L1I information will overwrite the L1D
	  information. The knowledge about L1D will be lost.

2019-03-28  Anthony Castaldo <TonyCastaldo@instinct.nic.uoregon.edu>

	* src/components/rocm/README, src/components/rocm/linux-rocm.c,
	  src/components/rocm/tests/Makefile,
	  src/components/rocm/tests/ROCM_Makefile,
	  src/components/rocm/tests/rocm_all.cpp,
	  src/components/rocm/tests/rocm_command_line.c,
	  src/components/rocm/tests/run_papi.sh,
	  src/components/rocm/tests/square.cpp,
	  src/components/rocm/tests/square.cu,
	  src/components/rocm/tests/square.hipref.cpp: linux-rocm.c updated
	  with PAPI standard component function names, beginning '_rocm', and
	  events named '..:device=n:...' instead of 'device:n'. New files and
	  utilities are added in the test/ directory. The ROCM_Makefile is
	  used to compile cpp code using the AMD HIPCC compiler; e.g. 'make
	  -f ROCM_Makefile rocm_all.out', in order to compile code that uses
	  the AMD GPUs.

2019-03-18  Anthony Castaldo <TonyCastaldo@instinct.nic.uoregon.edu>

	* src/components/rocm/linux-rocm.c: This is the ROCM component
	  (linux_rocm.c) with the minimal changes needed to compile with the
	  PAPI standard GCC flags and settings. This version is functional;
	  it shows up on papi_components_avail, and papi_native_avail shows
	  rocm::: events. However, the compile still produces warnings for
	  unused variables (they are used in debug mode but the code using
	  them is suppressed in production mode). These are corrected in the
	  next commit; and a '/tests' directory will be added.

2019-03-18  Evgeny Shcherbakov <Evgeny.Shcherbakov@amd.com>

	* src/components/rocm/README, src/components/rocm/Rules.rocm,
	  src/components/rocm/linux-rocm.c: These are the original files
	  produced by Evgeny Shcherbakov for the ROCM PAPI component; this
	  component allows PAPI to access to AMD GPU events. Note that linux-
	  rocm.c will not compile using the PAPI default settings for GCC; it
	  has 3 lines of code that require a C99 flag (e.g. -std=gnu99). We
	  do not wish to mix standards, so the next commit will revise these
	  lines to standard C that will compile clean with our standard
	  settings.

2019-03-07  Heike Jagode <jagode@icl.utk.edu>

	* doc/Doxyfile-common, papi.spec, src/Makefile.in, src/configure,
	  src/configure.in, src/papi.h: Updated version to 5.7.1 after the
	  release.

2019-03-04  Heike Jagode <jagode@icl.utk.edu>

	* RELEASENOTES.txt, release_procedure.txt: Minor updates to release
	  procedure text.
	* RELEASENOTES.txt: Updated release notes for 5.7.0 release.

2019-02-22  Anthony Castaldo <tonycastaldo@harry.icl.utk.edu>

	* doc/Doxyfile-common, man/man1/PAPI_derived_event_files.1,
	  man/man1/papi_avail.1, man/man1/papi_clockres.1,
	  man/man1/papi_command_line.1, man/man1/papi_component_avail.1,
	  man/man1/papi_cost.1, man/man1/papi_decode.1,
	  man/man1/papi_error_codes.1, man/man1/papi_event_chooser.1,
	  man/man1/papi_hybrid_native_avail.1, man/man1/papi_mem_info.1,
	  man/man1/papi_multiplex_cost.1, man/man1/papi_native_avail.1,
	  man/man1/papi_version.1, man/man1/papi_xml_event_info.1,
	  man/man3/PAPIF_accum.3, man/man3/PAPIF_accum_counters.3,
	  man/man3/PAPIF_add_event.3, man/man3/PAPIF_add_events.3,
	  man/man3/PAPIF_add_named_event.3,
	  man/man3/PAPIF_assign_eventset_component.3,
	  man/man3/PAPIF_cleanup_eventset.3,
	  man/man3/PAPIF_create_eventset.3,
	  man/man3/PAPIF_destroy_eventset.3, man/man3/PAPIF_enum_event.3,
	  man/man3/PAPIF_epc.3, man/man3/PAPIF_event_code_to_name.3,
	  man/man3/PAPIF_event_name_to_code.3, man/man3/PAPIF_flips.3,
	  man/man3/PAPIF_flops.3, man/man3/PAPIF_get_clockrate.3,
	  man/man3/PAPIF_get_dmem_info.3, man/man3/PAPIF_get_domain.3,
	  man/man3/PAPIF_get_event_info.3, man/man3/PAPIF_get_exe_info.3,
	  man/man3/PAPIF_get_granularity.3,
	  man/man3/PAPIF_get_hardware_info.3, man/man3/PAPIF_get_multiplex.3,
	  man/man3/PAPIF_get_preload.3, man/man3/PAPIF_get_real_cyc.3,
	  man/man3/PAPIF_get_real_nsec.3, man/man3/PAPIF_get_real_usec.3,
	  man/man3/PAPIF_get_virt_cyc.3, man/man3/PAPIF_get_virt_usec.3,
	  man/man3/PAPIF_ipc.3, man/man3/PAPIF_is_initialized.3,
	  man/man3/PAPIF_library_init.3, man/man3/PAPIF_lock.3,
	  man/man3/PAPIF_multiplex_init.3, man/man3/PAPIF_num_cmp_hwctrs.3,
	  man/man3/PAPIF_num_counters.3, man/man3/PAPIF_num_events.3,
	  man/man3/PAPIF_num_hwctrs.3, man/man3/PAPIF_perror.3,
	  man/man3/PAPIF_query_event.3, man/man3/PAPIF_query_named_event.3,
	  man/man3/PAPIF_read.3, man/man3/PAPIF_read_ts.3,
	  man/man3/PAPIF_register_thread.3, man/man3/PAPIF_remove_event.3,
	  man/man3/PAPIF_remove_events.3,
	  man/man3/PAPIF_remove_named_event.3, man/man3/PAPIF_reset.3,
	  man/man3/PAPIF_set_cmp_domain.3,
	  man/man3/PAPIF_set_cmp_granularity.3, man/man3/PAPIF_set_debug.3,
	  man/man3/PAPIF_set_domain.3, man/man3/PAPIF_set_event_domain.3,
	  man/man3/PAPIF_set_granularity.3, man/man3/PAPIF_set_inherit.3,
	  man/man3/PAPIF_set_multiplex.3, man/man3/PAPIF_shutdown.3,
	  man/man3/PAPIF_start.3, man/man3/PAPIF_start_counters.3,
	  man/man3/PAPIF_state.3, man/man3/PAPIF_stop.3,
	  man/man3/PAPIF_stop_counters.3, man/man3/PAPIF_thread_id.3,
	  man/man3/PAPIF_thread_init.3, man/man3/PAPIF_unlock.3,
	  man/man3/PAPIF_unregister_thread.3, man/man3/PAPIF_write.3,
	  man/man3/PAPI_accum.3, man/man3/PAPI_accum_counters.3,
	  man/man3/PAPI_add_event.3, man/man3/PAPI_add_events.3,
	  man/man3/PAPI_add_named_event.3,
	  man/man3/PAPI_addr_range_option_t.3, man/man3/PAPI_address_map_t.3,
	  man/man3/PAPI_all_thr_spec_t.3,
	  man/man3/PAPI_assign_eventset_component.3, man/man3/PAPI_attach.3,
	  man/man3/PAPI_attach_option_t.3, man/man3/PAPI_cleanup_eventset.3,
	  man/man3/PAPI_component_info_t.3, man/man3/PAPI_cpu_option_t.3,
	  man/man3/PAPI_create_eventset.3, man/man3/PAPI_debug_option_t.3,
	  man/man3/PAPI_destroy_eventset.3, man/man3/PAPI_detach.3,
	  man/man3/PAPI_disable_component.3,
	  man/man3/PAPI_disable_component_by_name.3,
	  man/man3/PAPI_dmem_info_t.3, man/man3/PAPI_domain_option_t.3,
	  man/man3/PAPI_enum_cmp_event.3, man/man3/PAPI_enum_event.3,
	  man/man3/PAPI_epc.3, man/man3/PAPI_event_code_to_name.3,
	  man/man3/PAPI_event_info_t.3, man/man3/PAPI_event_name_to_code.3,
	  man/man3/PAPI_exe_info_t.3, man/man3/PAPI_flips.3,
	  man/man3/PAPI_flops.3, man/man3/PAPI_get_cmp_opt.3,
	  man/man3/PAPI_get_component_index.3,
	  man/man3/PAPI_get_component_info.3, man/man3/PAPI_get_dmem_info.3,
	  man/man3/PAPI_get_event_component.3,
	  man/man3/PAPI_get_event_info.3,
	  man/man3/PAPI_get_eventset_component.3,
	  man/man3/PAPI_get_executable_info.3,
	  man/man3/PAPI_get_hardware_info.3, man/man3/PAPI_get_multiplex.3,
	  man/man3/PAPI_get_opt.3, man/man3/PAPI_get_overflow_event_index.3,
	  man/man3/PAPI_get_real_cyc.3, man/man3/PAPI_get_real_nsec.3,
	  man/man3/PAPI_get_real_usec.3, man/man3/PAPI_get_shared_lib_info.3,
	  man/man3/PAPI_get_thr_specific.3, man/man3/PAPI_get_virt_cyc.3,
	  man/man3/PAPI_get_virt_nsec.3, man/man3/PAPI_get_virt_usec.3,
	  man/man3/PAPI_granularity_option_t.3, man/man3/PAPI_hw_info_t.3,
	  man/man3/PAPI_inherit_option_t.3, man/man3/PAPI_ipc.3,
	  man/man3/PAPI_is_initialized.3, man/man3/PAPI_itimer_option_t.3,
	  man/man3/PAPI_library_init.3, man/man3/PAPI_list_events.3,
	  man/man3/PAPI_list_threads.3, man/man3/PAPI_lock.3,
	  man/man3/PAPI_mh_cache_info_t.3, man/man3/PAPI_mh_info_t.3,
	  man/man3/PAPI_mh_level_t.3, man/man3/PAPI_mh_tlb_info_t.3,
	  man/man3/PAPI_mpx_info_t.3, man/man3/PAPI_multiplex_init.3,
	  man/man3/PAPI_multiplex_option_t.3, man/man3/PAPI_num_cmp_hwctrs.3,
	  man/man3/PAPI_num_components.3, man/man3/PAPI_num_counters.3,
	  man/man3/PAPI_num_events.3, man/man3/PAPI_num_hwctrs.3,
	  man/man3/PAPI_option_t.3, man/man3/PAPI_overflow.3,
	  man/man3/PAPI_perror.3, man/man3/PAPI_preload_info_t.3,
	  man/man3/PAPI_profil.3, man/man3/PAPI_query_event.3,
	  man/man3/PAPI_query_named_event.3, man/man3/PAPI_read.3,
	  man/man3/PAPI_read_counters.3, man/man3/PAPI_read_ts.3,
	  man/man3/PAPI_register_thread.3, man/man3/PAPI_remove_event.3,
	  man/man3/PAPI_remove_events.3, man/man3/PAPI_remove_named_event.3,
	  man/man3/PAPI_reset.3, man/man3/PAPI_set_cmp_domain.3,
	  man/man3/PAPI_set_cmp_granularity.3, man/man3/PAPI_set_debug.3,
	  man/man3/PAPI_set_domain.3, man/man3/PAPI_set_granularity.3,
	  man/man3/PAPI_set_multiplex.3, man/man3/PAPI_set_opt.3,
	  man/man3/PAPI_set_thr_specific.3, man/man3/PAPI_shlib_info_t.3,
	  man/man3/PAPI_shutdown.3, man/man3/PAPI_sprofil.3,
	  man/man3/PAPI_sprofil_t.3, man/man3/PAPI_start.3,
	  man/man3/PAPI_start_counters.3, man/man3/PAPI_state.3,
	  man/man3/PAPI_stop.3, man/man3/PAPI_stop_counters.3,
	  man/man3/PAPI_strerror.3, man/man3/PAPI_thread_id.3,
	  man/man3/PAPI_thread_init.3, man/man3/PAPI_unlock.3,
	  man/man3/PAPI_unregister_thread.3, man/man3/PAPI_write.3,
	  papi.spec, release_procedure.txt, src/Makefile.in,
	  src/configure.in, src/papi.h: Fixing updates to manual; incorrectly
	  done for release 5.7.0.0.

2019-02-21  Anthony Castaldo <tonycastaldo@harry.icl.utk.edu>

	* release_procedure.txt: Updated release procedure with additional
	  instructions on final steps.

2019-02-18  Anthony Castaldo <tonycastaldo@harry.icl.utk.edu>

	* doc/Doxyfile-common, papi.spec, src/Makefile.in, src/configure.in,
	  src/papi.h: Changed version to 5.7.1 after release.
	* release_procedure.txt: Corrected directory entry typo.
	* ChangeLogP570.txt, RELEASENOTES.txt: New ChangeLogP570.txt for new
	  release, updated RELEASENOTES.txt

